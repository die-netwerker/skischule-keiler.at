const o=`{% block sw_property_option_detail %} <sw-modal :title="modalTitle" @modal-close="onCancel" > {% block sw_property_option_detail_name %} <mt-text-field v-model="currentOption.name" name="sw-field--currentOption-name" validation="required" :label="$tc('sw-property.detail.labelOptionName')" :disabled="!allowEdit" :placeholder="placeholder(currentOption, 'name', $tc('sw-property.detail.placeholderOptionName'))" :error="currentOptionNameError" required /> {% endblock %} {% block sw_property_option_detail_position %} <mt-number-field v-model="currentOption.position" name="sw-field--currentOption-position" pattern="[0-9]" :step="1" :disabled="!allowEdit" :label="$tc('sw-property.detail.labelOptionPosition')" :placeholder="$tc('sw-property.detail.placeholderOptionPosition')" /> {% endblock %} {% block sw_property_option_detail_color %} <mt-colorpicker v-model="colorHexCode" name="sw-field--currentOption-colorHexCode" :disabled="!allowEdit" :label="$tc('sw-property.detail.labelOptionColor')" :z-index="1000" /> {% endblock %} {% block sw_property_option_detail_media %} <sw-upload-listener :upload-tag="currentOption.id" auto-upload @media-upload-finish="successfulUpload" /> <sw-media-compact-upload-v2 default-folder="product" :label="$tc('sw-property.detail.labelMediaUpload')" :source="currentOption.mediaId" :upload-tag="currentOption.id" :disabled="!allowEdit" @media-upload-remove-image="removeMedia" @selection-change="setMedia" /> {% endblock %} <sw-custom-field-set-renderer v-if="showCustomFields" :entity="currentOption" :sets="customFieldSets" :disabled="!allowEdit" /> {% block sw_property_option_detail_footer %} <template #modal-footer> {% block sw_property_option_detail_footer_cancel %} <mt-button size="small" variant="secondary" @click="onCancel" > {{ $tc('global.default.cancel') }} </mt-button> {% endblock %} {% block sw_property_option_detail_footer_save %} <mt-button v-tooltip.bottom="{ message: $tc('sw-privileges.tooltip.warning'), disabled: acl.can('property.editor'), showOnDisabledElements: true }" variant="primary" size="small" :disabled="!allowEdit" @click="onSave" > {{ $tc('global.default.apply') }} </mt-button> {% endblock %} </template> {% endblock %} </sw-modal> {% endblock %}`,{Component:i,Mixin:r}=Shopware,{mapPropertyErrors:l}=i.getComponentHelper(),a={template:o,inject:["repositoryFactory","acl","customFieldDataProviderService"],mixins:[r.getByName("placeholder")],props:{currentOption:{type:Object,default(){return{}}},allowEdit:{type:Boolean,required:!1,default:!0}},emits:["cancel-option-edit","save-option-edit"],data(){return{customFieldSets:null}},computed:{mediaRepository(){return this.repositoryFactory.create("media")},colorHexCode:{set(e){this.currentOption.colorHexCode=e},get(){var e;return((e=this.currentOption)==null?void 0:e.colorHexCode)||""}},modalTitle(){var e,t;return((t=(e=this.currentOption)==null?void 0:e.translated)==null?void 0:t.name)||this.$tc("sw-property.detail.textOptionHeadline")},...l("currentOption",["name"]),showCustomFields(){return this.currentOption&&this.customFieldSets&&this.customFieldSets.length>0}},created(){this.createdComponent()},methods:{createdComponent(){this.loadCustomFieldSets()},loadCustomFieldSets(){this.customFieldDataProviderService.getCustomFieldSets("property_group_option").then(e=>{this.customFieldSets=e})},onCancel(){Shopware.Store.get("error").removeApiError("property_group_option"),this.$emit("cancel-option-edit",this.currentOption)},onSave(){this.$emit("save-option-edit",this.currentOption)},async successfulUpload({targetId:e}){this.currentOption.mediaId=e,await this.mediaRepository.get(e)},removeMedia(){this.currentOption.mediaId=null},setMedia(e){this.currentOption.mediaId=e[0].id}}};export{a as default};
