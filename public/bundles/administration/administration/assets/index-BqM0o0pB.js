const t='{% block sw_cms_el_config_location_renderer %} <div class="sw-cms-el-config-location-renderer"> <sw-iframe-renderer :src="src" :location-id="configLocation" /> </div> {% endblock %}',{Component:n,Mixin:i}=Shopware,s=n.wrapComponentConfig({template:t,mixins:[i.getByName("cms-element")],props:{elementData:{type:Object,required:!0}},computed:{src(){const e=new URL(this.elementData.appData.baseUrl);return e.searchParams.set("elementId",this.element.id),e.toString()},configLocation(){return`${this.elementData.name}-config`},publishingKey(){return`${this.elementData.name}__config-element`}},watch:{element(){this.$emit("element-update",this.element)}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig(this.elementData.name),Shopware.ExtensionAPI.publishData({id:this.publishingKey,path:"element",scope:this,deprecated:!0,deprecationMessage:"The general cms element data set is deprecated. Please use a specific cms data set instead by provoding the element id.",showDoubleRegistrationError:!1}),Shopware.ExtensionAPI.publishData({id:`${this.publishingKey}__${this.element.id}`,path:"element",scope:this,showDoubleRegistrationError:!1})},onBlur(e){this.emitChanges(e)},onInput(e){this.emitChanges(e)},emitChanges(e){e!==this.element.config.content.value&&(this.element.config.content.value=e,this.$emit("element-update",this.element))}}});export{s as default};
