const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BM6m-Phx.js","assets/index-BHLe3mmN.css","assets/index-UgBQx17R.js","assets/index-YPTFHsSl.css","assets/index-Da34xQBm.js","assets/index-0mJRggF2.css","assets/index-CDQ0xCUl.js","assets/index-BVwsx5fM.css","assets/index-DJnLime_.js","assets/index-DP-gy36w.css","assets/index-BA9nc43Y.js","assets/index-Cdvk0iHr.css","assets/index-DnUlgAUN.js","assets/index-CdCc7kfK.css","assets/index-BDzhF39h.js","assets/index-BFvFrzri.css","assets/index-Dqf3S77J.js","assets/index-OAMuf3OD.css","assets/index-BxMQ9wvp.js","assets/index-D45uw9XV.css","assets/index-puj9pfXc.js","assets/index-BqtGKL0Q.css","assets/index-DUQsIyhf.js","assets/index-Cw4MUReq.css","assets/index-Bbkccf05.js","assets/index-BtVi493m.css"])))=>i.map(i=>d[i]);
import{_ as i}from"./administration-BkFWn-Oy.js";import{s}from"./main-DLOZxWIX.js";import"./channel-D6fkBpuJ.js";const{Mixin:o}=Shopware;o.register("media-grid-listener",{emits:["media-folder-change"],data(){return{selectedItems:[],listSelectionStartItem:null}},computed:{mediaItemSelectionHandler(){return{"media-item-click":this.handleMediaItemClicked,"media-item-selection-add":this.handleMediaGridItemSelected,"media-item-selection-remove":this.handleMediaGridItemUnselected,"media-item-play":this.handleMediaItemClicked}},isListSelect(){return this.listSelectionStartItem!==null},selectableItems(){return[]}},methods:{isItemSelected(e){return this.selectedItems.findIndex(a=>a===e)>-1},showItemSelected(e){return this.isItemSelected(e)},clearSelection(){this.selectedItems=[],this.listSelectionStartItem=null},navigateToFolder({item:e}){this.$emit("media-folder-change",e.id)},showDetails(e){this._singleSelect(e)},handleMediaItemClicked({originalDomEvent:e,item:t}){if(e.shiftKey){this._handleShiftSelect(t);return}if(this.isListSelect||e.ctrlKey||e.metaKey){this._handleSelection(t);return}this._singleSelect(t)},handleMediaGridItemSelected({originalDomEvent:e,item:t}){if(e.shiftKey){this._handleShiftSelect(t);return}this._addItemToSelection(t)},handleMediaGridItemUnselected({item:e}){this._removeItemFromSelection(e)},_singleSelect(e){e.getEntityName()==="media_folder"&&this.navigateToFolder({item:e}),this.selectedItems=[e],this.listSelectionStartItem=null},_startListSelect(e){this.selectedItems=[e],this.listSelectionStartItem=e},_handleSelection(e){if(this.isItemSelected(e)){this._removeItemFromSelection(e);return}this._addItemToSelection(e)},_removeItemFromSelection(e){this.selectedItems=this.selectedItems.filter(t=>t!==e),this.listSelectionStartItem===e&&(this.listSelectionStartItem=this.selectedItems[0]||null)},_addItemToSelection(e){if(!this.isListSelect){if(this.selectedItems.length===1){this._startListSelect(this.selectedItems[0]),this._addItemToSelection(e);return}this._startListSelect(e);return}this.isItemSelected(e)||this.selectedItems.push(e)},_handleShiftSelect(e){if(!this.isListSelect){if(this.selectedItems.length===1){this._startListSelect(this.selectedItems[0]),this._handleShiftSelect(e);return}this._startListSelect(e);return}if(e===this.listSelectionStartItem){this._startListSelect(e);return}const t=this._findSelectionIndices(this.listSelectionStartItem,e);this.selectedItems=this.selectableItems.slice(t.start,t.end+1),this.listSelectionStartItem=this.selectableItems[t.start]},_findSelectionIndices(e,t){const a=this.selectableItems.findIndex(d=>e===d),r=this.selectableItems.findIndex(d=>t===d);return{start:Math.min(a,r),end:Math.max(a,r)}}}});Shopware.Mixin.register("media-sidebar-modal-mixin",{inject:["mediaService","acl"],emits:["media-sidebar-items-delete","media-sidebar-folder-items-dissolve","media-sidebar-items-move"],data(){return{showModalReplace:!1,showModalDelete:!1,showFolderSettings:!1,showFolderDissolve:!1,showModalMove:!1}},methods:{openModalReplace(){this.acl.can("media.editor")&&(this.showModalReplace=!0)},closeModalReplace(){this.showModalReplace=!1},openModalDelete(){this.acl.can("media.deleter")&&(this.showModalDelete=!0)},closeModalDelete(){this.showModalDelete=!1},openFolderSettings(){this.showFolderSettings=!0},closeFolderSettings(){this.showFolderSettings=!1},openFolderDissolve(){this.acl.can("media.editor")&&(this.showFolderDissolve=!0)},closeFolderDissolve(){this.showFolderDissolve=!1},openModalMove(){this.acl.can("media.editor")&&(this.showModalMove=!0)},closeModalMove(){this.showModalMove=!1},deleteSelectedItems(e){this.closeModalDelete(),this.$nextTick(()=>{this.$emit("media-sidebar-items-delete",e)})},onFolderDissolved(e){this.closeFolderDissolve(),this.$nextTick(()=>{this.$emit("media-sidebar-folder-items-dissolve",e)})},onFolderMoved(e){this.closeModalMove(),this.$nextTick(()=>{this.$emit("media-sidebar-items-move",e)})}}});Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"content",key:"media",roles:{viewer:{privileges:["media:read","media_folder:read","media_default_folder:read","media_thumbnail_size:read","media_folder_configuration:read","tag:read","product_media:read","product:read","category:read","product_manufacturer:read","mail_template_media:read","mail_template:read","document_base_config:read","user:read","payment_method:read","shipping_method:read","custom_field_set:read","custom_field:read","custom_field_set_relation:read","cms_page:read","cms_section:read","cms_block:read"],dependencies:[]},editor:{privileges:["media:update","media_folder:update","media_default_folder:update","media_folder_configuration:create","media_folder_configuration:update","media_folder_configuration:delete","media_folder:delete","media_thumbnail_size:create","media_thumbnail_size:update","media_thumbnail_size:delete","media_folder_configuration_media_thumbnail_size:delete","media_folder_configuration_media_thumbnail_size:create","media_folder_configuration_media_thumbnail_size:update","system_config:read"],dependencies:["media.viewer"]},creator:{privileges:["media:create","media_folder:create","media_default_folder:create"],dependencies:["media.viewer","media.editor"]},deleter:{privileges:["media:delete","media_folder:delete","media_default_folder:delete"],dependencies:["media.viewer"]}}});const l={_searchable:!1,fileName:{_searchable:!0,_score:s.HIGH_SEARCH_RANKING},path:{_searchable:!0,_score:s.HIGH_SEARCH_RANKING},alt:{_searchable:!0,_score:s.MIDDLE_SEARCH_RANKING},title:{_searchable:!0,_score:s.HIGH_SEARCH_RANKING},tags:{name:{_searchable:!0,_score:s.HIGH_SEARCH_RANKING}},mediaFolder:{name:{_searchable:!0,_score:s.HIGH_SEARCH_RANKING}}},{Module:n}=Shopware;Shopware.Component.register("sw-media-index",()=>i(()=>import("./index-BM6m-Phx.js"),__vite__mapDeps([0,1])));Shopware.Component.register("sw-media-grid",()=>i(()=>import("./index-UgBQx17R.js"),__vite__mapDeps([2,3])));Shopware.Component.register("sw-media-sidebar",()=>i(()=>import("./index-Da34xQBm.js"),__vite__mapDeps([4,5])));Shopware.Component.register("sw-media-quickinfo-metadata-item",()=>i(()=>import("./index-CDQ0xCUl.js"),__vite__mapDeps([6,7])));Shopware.Component.register("sw-media-quickinfo-usage",()=>i(()=>import("./index-DJnLime_.js"),__vite__mapDeps([8,9])));Shopware.Component.extend("sw-media-collapse","sw-collapse",()=>i(()=>import("./index-BA9nc43Y.js"),__vite__mapDeps([10,11])));Shopware.Component.register("sw-media-folder-info",()=>i(()=>import("./index-DnUlgAUN.js"),__vite__mapDeps([12,13])));Shopware.Component.register("sw-media-quickinfo",()=>i(()=>import("./index-BDzhF39h.js"),__vite__mapDeps([14,15])));Shopware.Component.register("sw-media-quickinfo-multiple",()=>i(()=>import("./index-Dqf3S77J.js"),__vite__mapDeps([16,17])));Shopware.Component.register("sw-media-tag",()=>i(()=>import("./index-BxMQ9wvp.js"),__vite__mapDeps([18,19])));Shopware.Component.register("sw-media-display-options",()=>i(()=>import("./index-fWsQRgvn.js"),[]));Shopware.Component.register("sw-media-breadcrumbs",()=>i(()=>import("./index-puj9pfXc.js"),__vite__mapDeps([20,21])));Shopware.Component.register("sw-media-library",()=>i(()=>import("./index-DUQsIyhf.js"),__vite__mapDeps([22,23])));Shopware.Component.register("sw-media-modal-v2",()=>i(()=>import("./index-Bbkccf05.js"),__vite__mapDeps([24,25])));n.register("sw-media",{type:"core",name:"media",title:"sw-media.general.mainMenuItemGeneral",description:"sw-media.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#ff68b4",icon:"regular-image",favicon:"icon-module-content.png",entity:"media",routes:{index:{components:{default:"sw-media-index"},path:"index/:folderId?",props:{default:e=>({routeFolderId:e.params.folderId||null})},meta:{privilege:"media.viewer"}}},navigation:[{id:"sw-media",label:"sw-media.general.mainMenuItemGeneral",color:"#ff68b4",icon:"regular-image",path:"sw.media.index",position:20,parent:"sw-content",privilege:"media.viewer"}],defaultSearchConfiguration:l});
