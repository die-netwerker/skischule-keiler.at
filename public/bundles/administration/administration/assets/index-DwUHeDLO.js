const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DmplaMiN.js","assets/index-vJogZcTv.css","assets/index-Cc6FSe3l.js","assets/index-BI4t3aL8.css","assets/index-BZLtq1A8.js","assets/index-BqspIrV3.css","assets/index-C0OtN0yM.js","assets/index-CJ1fxPMK.css","assets/index-B5v9W6-H.js","assets/index-DF4OjVW0.css","assets/index-DgrcdKKV.js","assets/index-C7c4yzLr.css","assets/index-DvXeof-d.js","assets/index-DIfqyD4w.css","assets/index-C2gpCmE7.js","assets/index-C0Nudq03.css","assets/index-DW8bOFdB.js","assets/channel-D6fkBpuJ.js","assets/_baseIteratee-Dn-eCNgF.js","assets/index-DrxcUVGz.css","assets/index-Dtg28Qmi.js","assets/index-DBgsLwal.css","assets/index-DDIAfmMN.js","assets/index-C0gvlE4i.css","assets/index-CclK7UHp.js","assets/index-DFNEoT1x.css","assets/index-5c3qv6Zz.js","assets/index-DXVHCZlC.css","assets/index-CjuEUVAy.js","assets/main-DLOZxWIX.js","assets/administration-BkFWn-Oy.js","assets/administration-DX5ywH2m.css","assets/main-0YhLQqqP.css","assets/index-wM97hi_t.css","assets/index-CIoYOtAR.js","assets/index-DsQ8IFpZ.css","assets/index-C7shgW81.js","assets/index-BEeNkrOD.css","assets/index-CnmYkAHI.js","assets/index-D2VrCiYy.css","assets/index-COc50S1c.js","assets/index-DMOSxY7w.css"])))=>i.map(i=>d[i]);
import{_ as l}from"./administration-BkFWn-Oy.js";const d=Object.freeze({ADD_TAG:"action.add.tag",ADD_ORDER_TAG:"action.add.order.tag",ADD_CUSTOMER_TAG:"action.add.customer.tag",REMOVE_TAG:"action.remove.tag",REMOVE_ORDER_TAG:"action.remove.order.tag",REMOVE_CUSTOMER_TAG:"action.remove.customer.tag",SET_ORDER_STATE:"action.set.order.state",GENERATE_DOCUMENT:"action.generate.document",GRANT_DOWNLOAD_ACCESS:"action.grant.download.access",MAIL_SEND:"action.mail.send",STOP_FLOW:"action.stop.flow",SET_ORDER_CUSTOM_FIELD:"action.set.order.custom.field",SET_CUSTOMER_CUSTOM_FIELD:"action.set.customer.custom.field",SET_CUSTOMER_GROUP_CUSTOM_FIELD:"action.set.customer.group.custom.field",CHANGE_CUSTOMER_GROUP:"action.change.customer.group",CHANGE_CUSTOMER_STATUS:"action.change.customer.status",ADD_CUSTOMER_AFFILIATE_AND_CAMPAIGN_CODE:"action.add.customer.affiliate.and.campaign.code",ADD_ORDER_AFFILIATE_AND_CAMPAIGN_CODE:"action.add.order.affiliate.and.campaign.code",APP_FLOW_ACTION:"action.app.flow"}),E=Object.freeze({ADD_TAG:"action.add.entity.tag",REMOVE_TAG:"action.remove.entity.tag",SET_CUSTOM_FIELD:"action.set.entity.custom.field",ADD_AFFILIATE_AND_CAMPAIGN_CODE:"action.add.entity.affiliate.and.campaign.code"}),h="general",A="tag",g="customer",S="order",v=Object.freeze({[d.ADD_ORDER_TAG]:A,[d.ADD_CUSTOMER_TAG]:A,[d.REMOVE_ORDER_TAG]:A,[d.REMOVE_CUSTOMER_TAG]:A,[d.CHANGE_CUSTOMER_GROUP]:g,[d.CHANGE_CUSTOMER_STATUS]:g,[d.SET_CUSTOMER_CUSTOM_FIELD]:g,[d.SET_CUSTOMER_GROUP_CUSTOM_FIELD]:g,[d.ADD_CUSTOMER_AFFILIATE_AND_CAMPAIGN_CODE]:g,[d.ADD_ORDER_AFFILIATE_AND_CAMPAIGN_CODE]:S,[d.SET_ORDER_CUSTOM_FIELD]:S,[d.GRANT_DOWNLOAD_ACCESS]:S,[d.GENERATE_DOCUMENT]:h,[d.MAIL_SEND]:h,[d.STOP_FLOW]:h}),{Utils:R,EntityDefinition:D}=Shopware,{capitalizeString:T,camelCase:I,snakeCase:C}=Shopware.Utils.string;class ${constructor(){this.$actionNames={...d},this.$actionGroupsMapping={...v},this.$icon={addEntityTag:"regular-tag",mailSend:"regular-envelope",removeEntityTag:"regular-tag",stopFlow:"regular-times-circle",changeCustomerStatus:"regular-user",changeCustomerGroup:"regular-users",generateDocument:"regular-file-text",setOrderState:"regular-shopping-bag-alt",grantDownloadAccess:"regular-file-signature",setEntityCustomField:"regular-file-signature",addEntityAffiliateAndCampaignCode:"regular-file-signature"},this.$labelSnippet={stopFlow:"sw-flow.actions.stopFlow",mailSend:"sw-flow.actions.mailSend",addEntityTag:"sw-flow.actions.addTag",removeEntityTag:"sw-flow.actions.removeTag",setOrderState:"sw-flow.actions.setOrderState",generateDocument:"sw-flow.actions.generateDocument",grantDownloadAccess:"sw-flow.actions.grantDownloadAccess",changeCustomerGroup:"sw-flow.actions.changeCustomerGroup",changeCustomerStatus:"sw-flow.actions.changeCustomerStatus",setEntityCustomField:"sw-flow.actions.changeCustomFieldContent",addEntityAffiliateAndCampaignCode:"sw-flow.actions.addAffiliateAndCampaignCode"},this.$descriptionCallbacks={[this.$actionNames.MAIL_SEND]:e=>this.getMailSendDescription(e),[this.$actionNames.STOP_FLOW]:e=>this.getStopFlowActionDescription(e),[this.$actionNames.SET_ORDER_STATE]:e=>this.getSetOrderStateDescription(e),[this.$actionNames.GENERATE_DOCUMENT]:e=>this.getGenerateDocumentDescription(e),[this.$actionNames.CHANGE_CUSTOMER_GROUP]:e=>this.getCustomerGroupDescription(e),[this.$actionNames.GRANT_DOWNLOAD_ACCESS]:e=>this.getDownloadAccessDescription(e),[this.$actionNames.SET_CUSTOMER_CUSTOM_FIELD]:e=>this.getCustomFieldDescription(e),[this.$actionNames.CHANGE_CUSTOMER_STATUS]:e=>this.getCustomerStatusDescription(e),[this.$actionNames.ADD_ORDER_AFFILIATE_AND_CAMPAIGN_CODE]:e=>this.getAffiliateAndCampaignCodeDescription(e),[this.$actionNames.ADD_CUSTOMER_AFFILIATE_AND_CAMPAIGN_CODE]:e=>this.getAffiliateAndCampaignCodeDescription(e)},this.$entityAction={[this.$actionNames.ADD_ORDER_TAG]:"order",[this.$actionNames.REMOVE_ORDER_TAG]:"order",[this.$actionNames.ADD_CUSTOMER_TAG]:"customer",[this.$actionNames.SET_ORDER_CUSTOM_FIELD]:"order",[this.$actionNames.REMOVE_CUSTOMER_TAG]:"customer",[this.$actionNames.SET_CUSTOMER_CUSTOM_FIELD]:"customer",[this.$actionNames.ADD_ORDER_AFFILIATE_AND_CAMPAIGN_CODE]:"order",[this.$actionNames.SET_CUSTOMER_GROUP_CUSTOM_FIELD]:"customer_group",[this.$actionNames.ADD_CUSTOMER_AFFILIATE_AND_CAMPAIGN_CODE]:"customer"},this.$groups={TAG:A,ORDER:S,GENERAL:h,CUSTOMER:g}}addDescriptionCallbacks(e){Object.assign(this.$descriptionCallbacks,e)}getDescriptionCallbacks(){return this.$descriptionCallbacks}addIcons(e){return Object.assign(this.$icon,e)}addLabels(e){return Object.assign(this.$labelSnippet,e)}getActionName(e){return this.$actionNames[e]}addActionNames(e){return Object.assign(this.$actionNames,e)}addGroups(e){return Object.assign(this.$groups,e)}getGroup(e){return this.$groups[e]}getGroups(){return Object.values(this.$groups)}getActionGroupMapping(e){return this.$actionGroupsMapping[e]}addActionGroupMapping(e){return Object.assign(this.$actionGroupsMapping,e)}isKeyOfActionName(e){return e in this.$entityAction}isKeyOfActionLabel(e){return e in this.$labelSnippet}isKeyOfActionDescription(e){return e in this.$descriptionCallbacks}isKeyOfEntityIcon(e){return e in this.$icon}getActionTitle(e){if(!e)return null;let t="";return(this.mapActionType(e)??e).split(".").forEach((n,o)=>{if(o){if(o===1){t=n;return}t+=T(n)}}),{value:e,icon:this.isKeyOfEntityIcon(t)?this.$icon[t]:"regular-question-circle-s",label:this.isKeyOfActionLabel(t)?this.$labelSnippet[t]:"sw-flow.actions.unknownLabel"}}mapActionType(e){let t=this.$entityAction[e];return t===void 0?null:(t=t.replace("_","."),e.replace(t,"entity"))}getEntityNameByAction(e){return this.$entityAction[e]}getDescription(e){const t=[];return Object.entries(e).forEach(([i,n])=>{let o=n;R.types.isPlainObject(n)&&(o=Object.values(n).join(", "));const a=`<span>${i}:</span> <span>${o}</span></br>`;t.push(`<p class="${i.toLowerCase().replace(/ /g,"_")}">${a}</p>`)}),t.join("")}convertConfig(e,t){const i={};return Object.entries(e).forEach(([o,a])=>{if(!this.isKeyOfActionLabel(o))return;const r=t.$tc(this.$labelSnippet[o]);r&&Object.assign(i,{[r]:a})}),i}getActionDescriptions(e,t,i){var r;const n={data:e,sequence:t,translator:i};if(!t.actionName)return"";if((r=e.appActions)==null?void 0:r.find(c=>c.name===t.actionName))return this.getAppFlowActionDescription(n);if(this.isKeyOfActionDescription(t.actionName)&&typeof this.$descriptionCallbacks[t.actionName]=="function")return this.$descriptionCallbacks[t.actionName](n);const a=this.convertConfig(t.config,i);return this.getDescription(a)}getAppFlowActionDescription(e){const{sequence:{config:t}}=e,i={...t};let n="";return Object.entries(i).forEach(([o,a])=>{if(Array.isArray(a)&&a.length>1){let r="";a.forEach(c=>{const u=this.formatValuePreview(e,o,c);r=`${r}- ${u.toString()}<br/>`}),n=`${n}${this.convertLabelPreview(e,o)}:<br/> ${r}`}else{const r=this.formatValuePreview(e,o,a);n=`${n}${this.convertLabelPreview(e,o)}: ${r.toString()}<br/>`}}),n}formatValuePreview(e,t,i){var u;const{data:{appActions:n},sequence:{actionName:o}}=e,a=this.configValuesToString(i),r=n.find(p=>p.name===o);if(r===void 0)return a;const c=(u=r.config)==null?void 0:u.find(p=>p.name===t);if(c===void 0)return a;if(["password"].includes(c.type))return a==null?void 0:a.replace(/([^;])/g,"*");if(["single-select","multi-select"].includes(c.type)){const p=c.options.find(_=>_.value===a);return p===void 0?a:p.label[e.translator.currentLocale]??c.label["en-GB"]??a}return["datetime","date","time"].includes(c.type)?new Date(a):["colorpicker"].includes(c.type)?`<span class="sw-color-badge is--default" style="background: ${a};"></span> ${a}`:a}convertLabelPreview(e,t){var r;const{data:{appActions:i},sequence:{actionName:n}}=e,o=i.find(c=>c.name===n);if(o===void 0)return t;const a=(r=o.config)==null?void 0:r.find(c=>c.name===t);return a===void 0?t:a.label[e.translator.currentLocale]??a.label["en-GB"]??t}getActionModalName(e){return e?this.mapActionType(e)===E.ADD_TAG||this.mapActionType(e)===E.REMOVE_TAG?"sw-flow-tag-modal":this.mapActionType(e)===E.SET_CUSTOM_FIELD?"sw-flow-set-entity-custom-field-modal":this.mapActionType(e)===E.ADD_AFFILIATE_AND_CAMPAIGN_CODE?"sw-flow-affiliate-and-campaign-code-modal":this.mapActionType(e)===d.GRANT_DOWNLOAD_ACCESS?"sw-flow-grant-download-access-modal":`${e.replace(/\./g,"-").replace("action","sw-flow")}-modal`:""}getStopFlowActionDescription(e){return e.translator.$tc("sw-flow.actions.textStopFlowDescription")}getCustomerStatusDescription(e){const{sequence:{config:t},translator:i}=e;return t.active?i.$tc("sw-flow.modals.customerStatus.active"):i.$tc("sw-flow.modals.customerStatus.inactive")}getAffiliateAndCampaignCodeDescription(e){var o,a,r,c,u;const{translator:t,sequence:{config:i}}=e;let n=t.$tc("sw-flow.actions.labelTo",{entity:T(i==null?void 0:i.entity)},0);return((o=i==null?void 0:i.affiliateCode)!=null&&o.upsert||((a=i==null?void 0:i.affiliateCode)==null?void 0:a.value)!=null)&&(n=`${n}<br>${t.$tc("sw-flow.actions.labelAffiliateCode",{affiliateCode:i.affiliateCode.value||""},0)}`),((r=i.campaignCode)!=null&&r.upsert||((c=i==null?void 0:i.campaignCode)==null?void 0:c.value)!=null)&&(n=`${n}<br>${t.$tc("sw-flow.actions.labelCampaignCode",{campaignCode:((u=i==null?void 0:i.campaignCode)==null?void 0:u.value)||""},0)}`),n}getCustomerGroupDescription(e){var o;const{data:t,sequence:{config:i}}=e,n=t.customerGroups.find(a=>a.id===i.customerGroupId);return(o=n==null?void 0:n.translated)==null?void 0:o.name}getCustomFieldDescription(e){const{data:{customFieldSets:t,customFields:i},sequence:{config:n},translator:o}=e,a=t.find(c=>c.id===n.customFieldSetId),r=i.find(c=>c.id===n.customFieldId);return!a||!r||typeof r.config!="object"||!r.config||!r.config.hasOwnProperty("label")||!r.config.label?"":`${o.$tc("sw-flow.actions.labelCustomFieldSet",{customFieldSet:o.getInlineSnippet(r.config.label)||a.name},0)}<br>${o.$tc("sw-flow.actions.labelCustomField",{customField:o.getInlineSnippet(r.config.label)||r.name},0)}<br>${o.$tc("sw-flow.actions.labelCustomFieldOption",{customFieldOption:n.optionLabel},0)}`}getSetOrderStateDescription(e){var r,c,u;const{data:{stateMachineState:t},sequence:{config:i},translator:n}=e,o=[];if(i.order){const p=t.find(f=>{var m;return f.technicalName===i.order&&((m=f.stateMachine)==null?void 0:m.technicalName)==="order.state"}),_=((r=p==null?void 0:p.translated)==null?void 0:r.name)||"";o.push(`${n.$tc("sw-flow.modals.status.labelOrderStatus")}: ${_}`)}if(i.order_delivery){const p=t.find(f=>{var m;return f.technicalName===i.order_delivery&&((m=f.stateMachine)==null?void 0:m.technicalName)==="order_delivery.state"}),_=((c=p==null?void 0:p.translated)==null?void 0:c.name)||"";o.push(`
                ${n.$tc("sw-flow.modals.status.labelDeliveryStatus")}: ${_}
            `)}if(i.order_transaction){const p=t.find(f=>{var m;return f.technicalName===i.order_transaction&&((m=f.stateMachine)==null?void 0:m.technicalName)==="order_transaction.state"}),_=((u=p==null?void 0:p.translated)==null?void 0:u.name)||"";o.push(`${n.$tc("sw-flow.modals.status.labelPaymentStatus")}: ${_}`)}const a=i.force_transition?n.$tc("global.default.yes"):n.$tc("global.default.no");return o.push(`${n.$tc("sw-flow.modals.status.forceTransition")}: ${a}`),o.join("<br>")}getGenerateDocumentDescription(e){var o;const{sequence:{config:t},data:i}=e;t.documentType&&Object.assign(t,{documentType:[t]});const n=(o=t.documentTypes)==null?void 0:o.map(a=>{var r,c;return((c=(r=i.documentTypes.find(u=>u.technicalName===a.documentType))==null?void 0:r.translated)==null?void 0:c.name)||""});return n?this.convertTagString(n):""}convertTagString(e){return e.toString().replace(/,/g,", ")}getMailSendDescription(e){var c;const{data:t,sequence:{config:i},translator:n}=e,o=t.mailTemplates.find(u=>u.id===i.mailTemplateId);let a=n.$tc("sw-flow.actions.labelTemplate",{template:(c=o==null?void 0:o.mailTemplateType)==null?void 0:c.name},0),r=o==null?void 0:o.description;return r&&(r=r.length>60?`${r.substring(0,60)}...`:r,a=`${a}<br>${n.$tc("sw-flow.actions.labelDescription",{description:r},0)}`),a}getDownloadAccessDescription(e){const{sequence:{config:t},translator:i}=e;return t.value?i.$tc("sw-flow.actions.downloadAccessLabel.granted"):i.$tc("sw-flow.actions.downloadAccessLabel.revoked")}getAvailableEntities(e,t,i,n=[]){const o=[];return this.getEntities(e,t,i).forEach(r=>{if(!D.has(C(r)))return;const c=D.get(C(r)).properties;n.every(p=>c.hasOwnProperty(p))&&o.push({label:this.convertEntityName(I(r)),value:r})}),o}convertEntityName(e){if(!e)return"";const t=e.replace(/([A-Z])/g," $1");return T(t)}getEntities(e,t,i){const n=[];return t.forEach(o=>{if(!this.isKeyOfActionName(o.name)||this.mapActionType(o.name)===null||this.mapActionType(o.name)!==this.mapActionType(e))return;o.requirements.some(r=>i.includes(r))&&n.push(this.$entityAction[o.name])}),n}flattenNodeList(e,t){t.push(e),e.children.length!==0&&e.children.forEach(i=>{this.flattenNodeList(i,t)})}configValuesToString(e){return e===null?"null":typeof e=="string"||typeof e=="number"||typeof e=="boolean"?e.toString():Array.isArray(e)?`[${e.map(t=>this.configValuesToString(t)).join(", ")}]`:typeof e=="object"?`{${Object.keys(e).map(t=>`${t}: ${this.configValuesToString(e[t])}`).join(", ")}}`:""}rearrangeArrayObjects(e){const t=e.reduce((o,a)=>(o[a.id]=a,o[a.id].children=[],o),{}),i=[];e.forEach(o=>{o.parentId?t[o.parentId].children.push(o):i.push(o)});const n=[];return i.forEach(o=>{this.flattenNodeList(o,n)}),n.forEach(o=>(o.children=[],o)),n}}const{Application:N}=Shopware;N.addServiceProvider("flowBuilderService",()=>new $);Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"settings",key:"flow",roles:{viewer:{privileges:["flow:read","flow_sequence:read","rule:read","mail_template:read","mail_template_type:read","document_type:read","state_machine:read","state_machine_state:read","tag:read"],dependencies:[]},editor:{privileges:["flow:update","flow_sequence:update","flow_sequence:create","flow_sequence:delete","tag:create",Shopware.Service("privileges").getPrivileges("rule.creator"),Shopware.Service("privileges").getPrivileges("mail_templates.creator")],dependencies:["flow.viewer"]},creator:{privileges:["flow:create"],dependencies:["flow.viewer","flow.editor"]},deleter:{privileges:["flow:delete"],dependencies:["flow.viewer"]}}});const{Service:w}=Shopware,{EntityCollection:O}=Shopware.Data,{types:b}=Shopware.Utils;Shopware.Store.register("swFlow",{state:()=>({flow:{eventName:"",sequences:[]},originFlow:{},triggerEvent:{},triggerEvents:[],triggerActions:[],invalidSequences:[],stateMachineState:[],documentTypes:[],mailTemplates:[],customFieldSets:[],customFields:[],customerGroups:[],restrictedRules:[],appActions:[],originAvailableActions:[]}),getters:{getSelectedAppAction(s){return e=>{var t;return(t=s.appActions)==null?void 0:t.find(i=>i.name===e)}},sequences(s){return s.flow.sequences},hasFlowChanged(s){const e={...s.flow,sequences:Array.from(s.flow.sequences).filter(t=>t.actionName||t.ruleId?Object.assign(t,{}):!1)};return!b.isEqual(s.originFlow,e)},isSequenceEmpty(s){var t;if(!((t=s.flow.sequences)!=null&&t.length))return!0;const e=s.flow.sequences[0];return!e.actionName&&!e.ruleId},availableActions(s){if(!s.triggerEvent||!s.triggerActions)return[];const e=[];return s.triggerActions.forEach(t=>{var o;if(!((o=t.requirements)!=null&&o.length)){e.push(t.name);return}if(!t.requirements.some(a=>{var r,c;return(c=(r=s.triggerEvent)==null?void 0:r.aware)==null?void 0:c.includes(a)}))return;const n=w("flowBuilderService").mapActionType(t.name);n&&e.find(r=>w("flowBuilderService").mapActionType(r)===n)!==void 0||e.push(t.name)}),e},mailTemplateIds(s){var e;return((e=s.flow.sequences)==null?void 0:e.filter(t=>t.actionName===w("flowBuilderService").getActionName("MAIL_SEND")).map(t=>{var i;return(i=t.config)==null?void 0:i.mailTemplateId}))??[]},customFieldSetIds(s){var t;const e=w("flowBuilderService");return((t=s.flow.sequences)==null?void 0:t.filter(i=>i.actionName===e.getActionName("SET_CUSTOMER_CUSTOM_FIELD")||i.actionName===e.getActionName("SET_ORDER_CUSTOM_FIELD")||i.actionName===e.getActionName("SET_CUSTOMER_GROUP_CUSTOM_FIELD")).map(i=>{var n;return(n=i.config)==null?void 0:n.customFieldSetId}))??[]},customFieldIds(s){var t;const e=w("flowBuilderService");return((t=s.flow.sequences)==null?void 0:t.filter(i=>i.actionName===e.getActionName("SET_CUSTOMER_CUSTOM_FIELD")||i.actionName===e.getActionName("SET_ORDER_CUSTOM_FIELD")||i.actionName===e.getActionName("SET_CUSTOMER_GROUP_CUSTOM_FIELD")).map(i=>{var n;return(n=i.config)==null?void 0:n.customFieldId}))??[]},actionGroups(){return w("flowBuilderService").getGroups()},hasAvailableAction:s=>e=>{const i=(()=>{const n=[];return!s.triggerEvent||!s.triggerActions?[]:(s.triggerActions.forEach(o=>{var r;if(!((r=o.requirements)!=null&&r.length)){n.push(o.name);return}!o.requirements.some(c=>{var u,p;return(p=(u=s.triggerEvent)==null?void 0:u.aware)==null?void 0:p.includes(c)})||n.includes(o.name)||n.push(o.name)}),n)})();return(i==null?void 0:i.some(n=>n===e))??!1}},actions:{setAppActions(s){this.appActions.push(...s)},setFlow(s){this.flow=s,s.config&&(this.flow.description=s.config.description,this.flow.sequences=s.config.sequences,this.flow.eventName=s.config.eventName)},setOriginFlow(s){var e;this.originFlow={...s,sequences:(e=s.sequences)==null?void 0:e.map(t=>({...t}))}},setEventName(s){this.flow.eventName=s},setSequences(s){this.flow.sequences=s},addSequence(s){var e;if(this.flow.sequences instanceof O){this.flow.sequences.add(s);return}(e=this.flow.sequences)==null||e.push(s)},removeSequences(s){s.forEach(e=>{var t,i;this.flow.sequences instanceof O?(t=this.flow.sequences)==null||t.remove(e):this.flow.sequences=(i=this.flow.sequences)==null?void 0:i.filter(n=>n.id!==e)})},updateSequence(s){const e=this.flow.sequences;if(!e)return;const t=e.findIndex(o=>o.id===s.id),i=e[t];if(!i)return;const n=Object.assign(i,s);this.flow.sequences=new O(e.source,e.entity,Shopware.Context.api,null,[...e.slice(0,t),n,...e.slice(t+1)])},removeCurrentFlow(){this.flow={eventName:"",sequences:[]}},removeInvalidSequences(){this.invalidSequences=[]},removeTriggerEvent(){this.triggerEvent={}},resetFlowState(){this.removeCurrentFlow(),this.removeInvalidSequences(),this.removeTriggerEvent()},setRestrictedRules(s){w("ruleConditionDataProviderService").getRestrictedRules(`flowTrigger.${s}`).then(e=>{this.setRestrictedRules(e==null?void 0:e[0])})},fetchTriggerActions(){return w("businessEventService").getBusinessEvents().then(s=>{this.triggerEvents=s}).catch(()=>{this.triggerEvents=[]})}}});const{Module:y}=Shopware;Shopware.Component.register("sw-flow-index",()=>l(()=>import("./index-DmplaMiN.js"),__vite__mapDeps([0,1])));Shopware.Component.register("sw-flow-detail",()=>l(()=>import("./index-Cc6FSe3l.js"),__vite__mapDeps([2,3])));Shopware.Component.register("sw-flow-detail-flow",()=>l(()=>import("./index-BZLtq1A8.js"),__vite__mapDeps([4,5])));Shopware.Component.register("sw-flow-sequence-modal",()=>l(()=>import("./index-D1m8XpJ_.js"),[]));Shopware.Component.register("sw-flow-detail-general",()=>l(()=>import("./index-C0OtN0yM.js"),__vite__mapDeps([6,7])));Shopware.Component.register("sw-flow-list",()=>l(()=>import("./index-B5v9W6-H.js"),__vite__mapDeps([8,9])));Shopware.Component.register("sw-flow-list-flow-templates",()=>l(()=>import("./index-DgrcdKKV.js"),__vite__mapDeps([10,11])));Shopware.Component.register("sw-flow-trigger",()=>l(()=>import("./index-DvXeof-d.js"),__vite__mapDeps([12,13])));Shopware.Component.register("sw-flow-sequence",()=>l(()=>import("./index-C2gpCmE7.js"),__vite__mapDeps([14,15])));Shopware.Component.register("sw-flow-sequence-action",()=>l(()=>import("./index-DW8bOFdB.js"),__vite__mapDeps([16,17,18,19])));Shopware.Component.register("sw-flow-sequence-condition",()=>l(()=>import("./index-Dtg28Qmi.js"),__vite__mapDeps([20,21])));Shopware.Component.register("sw-flow-sequence-selector",()=>l(()=>import("./index-DDIAfmMN.js"),__vite__mapDeps([22,23])));Shopware.Component.register("sw-flow-sequence-action-error",()=>l(()=>import("./index-CclK7UHp.js"),__vite__mapDeps([24,25])));Shopware.Component.register("sw-flow-rule-modal",()=>l(()=>import("./index-5c3qv6Zz.js"),__vite__mapDeps([26,27])));Shopware.Component.register("sw-flow-tag-modal",()=>l(()=>import("./index-DQcef0LJ.js"),[]));Shopware.Component.register("sw-flow-set-order-state-modal",()=>l(()=>import("./index-JdtH166R.js"),[]));Shopware.Component.register("sw-flow-generate-document-modal",()=>l(()=>import("./index-9T3X4iE6.js"),[]));Shopware.Component.register("sw-flow-grant-download-access-modal",()=>l(()=>import("./index-rCGRPokI.js"),[]));Shopware.Component.register("sw-flow-mail-send-modal",()=>l(()=>import("./index-CjuEUVAy.js"),__vite__mapDeps([28,29,17,30,31,32,33])));Shopware.Component.register("sw-flow-create-mail-template-modal",()=>l(()=>import("./index-CIoYOtAR.js"),__vite__mapDeps([34,35])));Shopware.Component.register("sw-flow-event-change-confirm-modal",()=>l(()=>import("./index-C7shgW81.js"),__vite__mapDeps([36,37])));Shopware.Component.register("sw-flow-change-customer-group-modal",()=>l(()=>import("./index-Dc2gCAoh.js"),[]));Shopware.Component.register("sw-flow-change-customer-status-modal",()=>l(()=>import("./index-DI7JbgO_.js"),[]));Shopware.Component.register("sw-flow-set-entity-custom-field-modal",()=>l(()=>import("./index-CnmYkAHI.js"),__vite__mapDeps([38,39])));Shopware.Component.register("sw-flow-affiliate-and-campaign-code-modal",()=>l(()=>import("./index-RBMxqukd.js"),[]));Shopware.Component.register("sw-flow-app-action-modal",()=>l(()=>import("./index-COc50S1c.js"),__vite__mapDeps([40,41])));Shopware.Component.register("sw-flow-leave-page-modal",()=>l(()=>import("./index-BgCf9vR4.js"),[]));y.register("sw-flow",{type:"core",name:"flow",title:"sw-flow.general.mainMenuItemGeneral",description:"sw-flow.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"regular-cog",favicon:"icon-module-settings.png",entity:"flow",routes:{index:{component:"sw-flow-index",path:"index",meta:{parentPath:"sw.settings.index",privilege:"flow.viewer"},redirect:{name:"sw.flow.index.flows"},children:{flows:{component:"sw-flow-list",path:"flows",meta:{parentPath:"sw.settings.index",privilege:"flow.viewer"}},templates:{component:"sw-flow-list-flow-templates",path:"templates",meta:{parentPath:"sw.settings.index",privilege:"flow.viewer"}}}},detail:{component:"sw-flow-detail",path:"detail/:id",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"},props:{default(s){return{flowId:s.params.id.toLowerCase()}}},redirect:{name:"sw.flow.detail.general"},children:{general:{component:"sw-flow-detail-general",path:"general",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"}},flow:{component:"sw-flow-detail-flow",path:"flow",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"}}}},create:{component:"sw-flow-detail",path:"create/:flowTemplateId?",meta:{parentPath:"sw.flow.index",privilege:"flow.creator"},redirect:{name:"sw.flow.create.general"},children:{general:{component:"sw-flow-detail-general",path:"general",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"}},flow:{component:"sw-flow-detail-flow",path:"flow",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"}}}}},settingsItem:{group:"automation",to:"sw.flow.index",icon:"regular-flow",privilege:"flow.viewer"}});
