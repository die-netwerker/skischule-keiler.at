const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/app-action-button.service-BqFtfKbc.js","assets/api.service-Dyd0zpin.js","assets/channel-D6fkBpuJ.js","assets/InvalidActionButtonParameterError-KvFlsqmj.js","assets/app-cms-blocks.service-2QS_VyxA.js","assets/app-modules.service-DpgDM4s9.js","assets/app-url-change.service-DhKMAxze.js","assets/business-events.api.service-DJMfdRNP.js","assets/calculate-price.api.service-CK4BYLqK.js","assets/cart-store-api.api.service-K4cKluw0.js","assets/util.service-Y0r3dATM.js","assets/_baseUniq-DwRlPR15.js","assets/_baseIteratee-Dn-eCNgF.js","assets/camelCase-AQftrnVC.js","assets/string.utils-BjgJ7cn9.js","assets/file-reader.utils-X6d2K5Hs.js","assets/order.types-BvKP5qzO.js","assets/checkout-store.api.service-gFnxYk31.js","assets/config.api.service-DGZdIVw6.js","assets/custom-snippet.api.service-DAe-SB4O.js","assets/customer-group-registration.api.service-JCAV965x.js","assets/customer-validation.api.service-BQCxrY7w.js","assets/document.api.service-CdXb5lPT.js","assets/excludedSearchTerm.api.service-DVo7SB6z.js","assets/extension-sdk.service-PMMsN_fv.js","assets/flow-actions.api.service-Dy1IhgQl.js","assets/known-ips.api.service-BxL1hJPr.js","assets/mail.api.service-DrTv5gjz.js","assets/media-folder.api.service-C5tySEw7.js","assets/media.api.service-C-t3fDmK.js","assets/message-queue.api.service-B3VMJjmb.js","assets/message-stats.api.service-BKmMt5iJ.js","assets/notifications.service-ZrqCmLns.js","assets/order-document.api.service-_QhqAFKj.js","assets/order-state-machine.api.service-CbzBv-3L.js","assets/order.api.service-DXAdiV1N.js","assets/product-export.api.service-B-aXRmae.js","assets/product-stream-preview.service-DbDoKDoB.js","assets/promotion-sync.api.service-BOy1eCP_.js","assets/sync.api.service-Bal1oVn3.js","assets/rule-conditions-config.api.service-DoI9_ZR2.js","assets/sales-channel.api.service-DuNfRw7S.js","assets/scheduled-task.api.service-CPTHk4QA.js","assets/search.api.service-v58Pcchr.js","assets/extension-api-data.service-BtecsqIr.js","assets/sanitizer.helper-BI7HQCuE.js","assets/purify.es-Du9adIxO.js","assets/promotion.helper-Dhj15HBS.js","assets/administration-BkFWn-Oy.js","assets/administration-DX5ywH2m.css","assets/seo-url-template.api.service-Dqd58PEW.js","assets/seo-url.api.service-ne7m0d25.js","assets/snippet.api.service-62QeU75s.js","assets/sso-invitation.service-DuKWTd-x.js","assets/sso-settings.service-mgNRRDFH.js","assets/state-machine.api.service-DnIz7MZa.js","assets/store-context.api.service-CYyMXCcD.js","assets/store.api.service-DOt3QD6Z.js","assets/system-config.api.service-CbBm2avm.js","assets/error-resolver.system-config.data-DGddVJjA.js","assets/tag.api.service-CwgwvGTl.js","assets/update.api.service-BzX4coNd.js","assets/usage-data.api.service-ClkYihEY.js","assets/user-activity.service-CawAprCn.js","assets/user-config.api.service-rmEDs_8U.js","assets/user-input-sanitize.service-CHGOtTu7.js","assets/user-recovery.api.service-S7ovJfIb.js","assets/user-validation.api.service-BSGIRVL2.js","assets/user.api.service-oD_lsZ13.js"])))=>i.map(i=>d[i]);
var rn=e=>{throw TypeError(e)};var Js=(e,t,r)=>t.has(e)||rn("Cannot "+r);var yt=(e,t,r)=>(Js(e,t,"read from private field"),r?r.call(e):t.get(e)),nn=(e,t,r)=>t.has(e)?rn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r);import{w as $e,o as Ys,u as Vr}from"./util.service-Y0r3dATM.js";import{h as ee,t as Ve,m as Ks,g as Ts,p as Nr,a as Oi,c as ki,d as Xs,E as Hr,b as qe,C as st,e as Zs,f as Qs,r as Le,i as Ci,u as Wr,j as Fi,k as eo,w as Ii,l as to,n as ro,o as mt,q as gt,s as no,v as io,x as so,M as oo,S as ao,F as Bi,V as co}from"./channel-D6fkBpuJ.js";import{g as uo,p as lo,S as po}from"./extension-api-data.service-BtecsqIr.js";import{A as fo}from"./api.service-Dyd0zpin.js";import{S as ho}from"./sanitizer.helper-BI7HQCuE.js";import{P as yo,D as mo,a as go}from"./promotion.helper-Dhj15HBS.js";import{_ as U}from"./administration-BkFWn-Oy.js";import{L as xo}from"./order.types-BvKP5qzO.js";var me,Se=".",Li="function",Ni="string",ji="__global__",Gr="Provider",bo=0,Jr=Array.prototype.slice,vo=function(t,r){var n=t[r];if(n===void 0&&me.config.strict)throw new Error("Bottle was unable to resolve a service.  `"+r+"` is undefined.");return n},ot=function(t){var r;return this.nested[t]||(r=me.pop(),this.nested[t]=r,this.factory(t,function(){return r.container})),this.nested[t]},Di=function(t){return t.split(Se).reduce(vo,this)},Eo=function(t,r,n,i){var s={configurable:!0,enumerable:!0};return t.length?s.get=function(){var a=0,c=function(l){if(l)throw l;t[a]&&t[a++](n,c)};return c(),n}:(s.value=n,s.writable=!0),Object.defineProperty(i,r,s),i[r]},_o=function(t,r){var n,i;return typeof t===Li&&(r=t,t=ji),n=t.split(Se),i=n.shift(),n.length?ot.call(this,i).middleware(n.join(Se),r):(this.middlewares[i]||(this.middlewares[i]=[]),this.middlewares[i].push(r)),this},So=function(t,r){return r(t)},sn=function(t,r){return(t[r]||[]).concat(t.__global__||[])},Ro=function(t,r){var n,i,s,o,a;return this.id,s=this.container,o=this.decorators,a=this.middlewares,n=t+Gr,i=Object.create(null),i[n]={configurable:!0,enumerable:!0,get:function(){var h=new r;return delete s[n],s[n]=h,h}},i[t]={configurable:!0,enumerable:!0,get:function(){var h=s[n],l;return h&&(l=sn(o,t).reduce(So,h.$get(s)),delete s[n],delete s[t]),l===void 0?l:Eo(sn(a,t),t,l,s)}},Object.defineProperties(s,i),this},Mi=function(t,r){var n,i;return n=t.split(Se),this.providerMap[t]&&n.length===1&&!this.container[t+Gr]?console.error(t+" provider already instantiated."):(this.originalProviders[t]=r,this.providerMap[t]=!0,i=n.shift(),n.length?(ot.call(this,i).provider(n.join(Se),r),this):Ro.call(this,i,r))},Yr=function(t,r){return Mi.call(this,t,function(){this.$get=r})},Ui=function(t,r,n){var i=arguments.length>3?Jr.call(arguments,3):[],s=this;return Yr.call(this,t,function(){var a=r,c=i.map(Di,s.container);return n?new(r.bind.apply(r,[null].concat(c))):a.apply(null,c)})},Ao=function(t,r){return Ui.apply(this,[t,r,!0].concat(Jr.call(arguments,2)))},wo=function(t,r){return Ui.apply(this,[t,r,!1].concat(Jr.call(arguments,2)))},$i=function(t,r){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:r,writable:!0})},qi=function(t,r){var n=t[r];return n||(n={},$i.call(t,r,n)),n},Po=function(t,r){var n;return n=t.split(Se),t=n.pop(),$i.call(n.reduce(qi,this.container),t,r),this},Oo=function(t,r){Object.defineProperty(this,t,{configurable:!1,enumerable:!0,value:r,writable:!1})},ko=function(t,r){var n=t.split(Se);return t=n.pop(),Oo.call(n.reduce(qi,this.container),t,r),this},zi=function(t,r){var n,i;return typeof t===Li&&(r=t,t=ji),n=t.split(Se),i=n.shift(),n.length?ot.call(this,i).decorator(n.join(Se),r):(this.decorators[i]||(this.decorators[i]=[]),this.decorators[i].push(r)),this},Co=function(t){return this.deferred.push(t),this},Fo=function(t){return(t||[]).map(Di,this.container)},Io=function(t,r){return Yr.call(this,t,function(i){return{instance:r.bind(r,i)}})},Bo=function(t){return!/^\$(?:decorator|register|list)$|Provider$/.test(t)},Kr=function(t){return Object.keys(t||this.container||{}).filter(Bo)},tt={},Lo=function(t){var r;return typeof t===Ni?(r=tt[t],r||(tt[t]=r=new me,r.constant("BOTTLE_NAME",t)),r):new me},No=function(t){typeof t===Ni?delete tt[t]:tt={}},Vi=function(t){var r=t.$value===void 0?t:t.$value;return this[t.$type||"service"].apply(this,[t.$name,r].concat(t.$inject||[]))},on=function(t){delete this.providerMap[t],delete this.container[t],delete this.container[t+Gr]},jo=function(t){var r=this.originalProviders,n=Array.isArray(t);Object.keys(this.originalProviders).forEach(function(s){if(!(n&&t.indexOf(s)===-1)){var o=s.split(Se);o.length>1&&o.forEach(on,ot.call(this,o[0])),on.call(this,s),this.provider(s,r[s])}},this)},Do=function(t){return this.deferred.forEach(function(n){n(t)}),this};me=function e(t){if(!(this instanceof e))return e.pop(t);this.id=bo++,this.decorators={},this.middlewares={},this.nested={},this.providerMap={},this.originalProviders={},this.deferred=[],this.container={$decorator:zi.bind(this),$register:Vi.bind(this),$list:Kr.bind(this)}};me.prototype={constant:ko,decorator:zi,defer:Co,digest:Fo,factory:Yr,instanceFactory:Io,list:Kr,middleware:_o,provider:Mi,resetProviders:jo,register:Vi,resolve:Do,service:Ao,serviceFactory:wo,value:Po};me.pop=Lo;me.clear=No;me.list=Kr;me.config={strict:!1};class at{constructor(){this._stack=[]}get stack(){return this._stack}use(t){if(typeof t!="function")throw new Error("Middleware must be a function.");return this._stack.push(t),this}go(...t){this.stack.forEach(r=>r(()=>{},...t))}}const Me={getModuleRoutes:qo,registerModule:Uo,getModuleRegistry:Mo,getModuleByEntityName:zo,getModuleSnippets:Vo,getModuleByKey:Go},_e=new Map,Hi=new at;function Mo(){return _e.forEach((e,t)=>{var r;ee(e.manifest,"flag")&&!Shopware.Feature.isActive(((r=e==null?void 0:e.manifest)==null?void 0:r.flag)??"")&&_e.delete(t)}),_e}function Uo(e,t){const r=t.type||"plugin";let n=new Map;if(!e)return!1;if(_e.has(e))return $e("ModuleFactory",`A module with the identifier "${e}" is registered already. Abort registration.`,_e.get(e)),!1;const i=e.split("-");if(i.length<2||(ee(t,"display")||(t.display=!0),!t.display)||!ee(t,"routes")&&!t.routeMiddleware)return!1;if(ee(t,"routes")&&Object.keys(t.routes).forEach(o=>{let a=t.routes[o];const c=t.routePrefixName?t.routePrefixName:i.join(".");a.name=`${c}.${o}`;const h=t.routePrefixPath?t.routePrefixPath:i.join("/");if(a.coreRoute||(a.path=`/${h}/${a.path}`),a.type=r,a=$o(a,e,t),!a)return;const l=a.children??{};if(ee(a,"children")&&Object.keys(l).length&&(a=Gi(a),n=Wi(a,n)),a.alias&&typeof a.alias=="string"&&a.alias.length>0&&!a.coreRoute){const f=t.routePrefixPath?t.routePrefixPath:i.join("/");a.alias=`/${f}/${a.alias}`}a.isChildren=!1,a.routeKey=o,n.set(a.name??"",a)}),t.routeMiddleware&&Ve.isFunction(t.routeMiddleware))Hi.use(t.routeMiddleware);else if(n.size===0)return $e("ModuleFactory",`The module "${e}" was not registered cause it hasn't a valid route definition`,"Abort registration.",t.routes),!1;const s={routes:n,manifest:t,type:r};if(ee(t,"navigation")&&t.navigation){if(!Ve.isArray(t.navigation))return $e("ModuleFactory","The route definition has to be an array.",t.navigation),!1;t.navigation=t.navigation.filter(o=>(o.moduleType=t.type,t.type==="plugin"&&!o.parent||!o.id&&!o.path&&!o.parent&&!o.link||!o.label||!o.label.length?!1:(t.type==="plugin"&&(o.position?o.position+=1e3:o.position=1e3),!0))),s.navigation=t.navigation}return ee(t,"settingsItem")&&t.settingsItem&&Ho(e,t),ee(t,"extensionEntryRoute")&&t.extensionEntryRoute&&Wo(t.extensionEntryRoute),_e.set(e,s),s}function Wi(e,t){return Object.values(e.children??{}).map(r=>(ee(r,"children")&&Object.keys(r.children??{}).length&&(t=Wi(r,t)),t.set(r.name??"",r),r)),t}function Gi(e){const t=e.children;return t&&(e.children=Object.entries(t).map(([r,n])=>(n.path&&n.path.length===0?n.path="":n.path=`${e.path}/${n.path}`,n.name=`${e.name??""}.${r}`,n.isChildren=!0,ee(n,"children")&&Object.keys(n.children??{}).length&&(n=Gi(n)),n))),e}function $o(e,t,r){ee(r,"flag")&&(e.flag=r.flag),e.component&&(e.components={default:e.component},delete e.component);const n={},i=e.components??{};return Object.entries(i).forEach(([s,o])=>{o&&(n[s]=o)}),e.components=n,e}function qo(){const e=[];return _e.forEach(t=>{t.routes.forEach(r=>{ee(r,"flag")&&!Shopware.Feature.isActive(r.flag??"")||r.isChildren||(Hi.go(r),e.push(r))})}),e}function zo(e){return Array.from(_e.values()).find(t=>e===t.manifest.entity)}function Vo(){return Array.from(_e.values()).reduce((e,t)=>{const r=t.manifest;if(!ee(r,"snippets"))return e;const n=Object.keys(r.snippets??{});return n.length&&n.forEach(i=>{if(ee(e,i)||(e[i]={}),r.snippets){const s=r.snippets[i];e[i]=Ks(e[i],s)}}),e},{})}function Ho(e,t){ee(t,"flag")&&!Shopware.Feature.isActive(t.flag??"")||t.settingsItem&&(Array.isArray(t.settingsItem)||(t.settingsItem=[t.settingsItem]),t.settingsItem.forEach(r=>{r.group&&r.to&&(r.icon||r.iconComponent)&&((!ee(r,"id")||!r.id)&&(r.id=e),(!ee(r,"name")||!r.name)&&(r.name=t.name),(!ee(r,"label")||!r.label)&&(r.label=t.title),Shopware.Store.get("settingsItems").addItem(r))}))}function Wo(e){e.extensionName!=="string"&&e.route!=="string"&&Shopware.Store.get("extensionEntryRoutes").addItem(e)}function Go(e,t){return Array.from(_e.values()).find(r=>t===r.manifest[e])}var xt,an;function Jo(){return an||(an=1,xt=function(e){e.trace=!1,e.debug=!1,e.cache=!0,e.noop=function(){},e.merge=function(n,i,s){return Object.keys(i).forEach(o=>{s&&!(o in n)||(n[o]=i[o])}),n},e.Error=function(n,i){this.message=n,this.name="TwigException",this.type="TwigException",this.file=i},e.Error.prototype.toString=function(){return this.name+": "+this.message},e.log={trace(...n){e.trace&&console&&console.log(Array.prototype.slice.call(n))},debug(...n){e.debug&&console&&console.log(Array.prototype.slice.call(n))}},typeof console>"u"?e.log.error=function(){}:typeof console.error<"u"?e.log.error=function(...n){console.error(...n)}:typeof console.log<"u"&&(e.log.error=function(...n){console.log(...n)}),e.token={},e.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",outputWhitespacePre:"output_whitespace_pre",outputWhitespacePost:"output_whitespace_post",outputWhitespaceBoth:"output_whitespace_both",logicWhitespacePre:"logic_whitespace_pre",logicWhitespacePost:"logic_whitespace_post",logicWhitespaceBoth:"logic_whitespace_both"},e.token.definitions=[{type:e.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:e.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:e.token.type.outputWhitespacePre,open:"{{-",close:"}}"},{type:e.token.type.outputWhitespacePost,open:"{{",close:"-}}"},{type:e.token.type.outputWhitespaceBoth,open:"{{-",close:"-}}"},{type:e.token.type.logicWhitespacePre,open:"{%-",close:"%}"},{type:e.token.type.logicWhitespacePost,open:"{%",close:"-%}"},{type:e.token.type.logicWhitespaceBoth,open:"{%-",close:"-%}"},{type:e.token.type.output,open:"{{",close:"}}"},{type:e.token.type.logic,open:"{%",close:"%}"},{type:e.token.type.comment,open:"{#",close:"#}"}],e.token.strings=['"',"'"],e.token.findStart=function(n){const i={position:null,def:null};let s=null;const o=e.token.definitions.length;let a,c,h,l;for(a=0;a<o;a++)c=e.token.definitions[a],h=n.indexOf(c.open),l=n.indexOf(c.close),e.log.trace("Twig.token.findStart: ","Searching for ",c.open," found at ",h),!(h>=0&&c.open.length!==c.close.length&&l<0)&&(h>=0&&(i.position===null||h<i.position)?(i.position=h,i.def=c,s=l):h>=0&&i.position!==null&&h===i.position&&(c.open.length>i.def.open.length?(i.position=h,i.def=c,s=l):c.open.length===i.def.open.length&&(c.close.length>i.def.close.length,l>=0&&l<s&&(i.position=h,i.def=c,s=l))));return i},e.token.findEnd=function(n,i,s){let o=null,a=!1,c=0,h=null,l=null,f=null,y=null,m=null,x=null,v,A;for(;!a;){if(h=null,l=null,f=n.indexOf(i.close,c),f>=0)o=f,a=!0;else throw new e.Error("Unable to find closing bracket '"+i.close+"' opened near template position "+s);if(i.type===e.token.type.comment||i.type===e.token.type.raw)break;for(A=e.token.strings.length,v=0;v<A;v+=1)m=n.indexOf(e.token.strings[v],c),m>0&&m<f&&(h===null||m<h)&&(h=m,l=e.token.strings[v]);if(h!==null)for(y=h+1,o=null,a=!1;;){if(x=n.indexOf(l,y),x<0)throw e.Error("Unclosed string in template");if(n.slice(x-1,x)==="\\")y=x+1;else{c=x+1;break}}}return o},e.tokenize=function(n){const i=[];let s=0,o=null,a=null;for(;n.length>0;)if(o=e.token.findStart(n),e.log.trace("Twig.tokenize: ","Found token: ",o),o.position===null)i.push({type:e.token.type.raw,value:n,position:{start:s,end:s+o.position}}),n="";else{if(o.position>0&&i.push({type:e.token.type.raw,value:n.slice(0,Math.max(0,o.position)),position:{start:s,end:s+Math.max(0,o.position)}}),n=n.slice(o.position+o.def.open.length),s+=o.position+o.def.open.length,a=e.token.findEnd(n,o.def,s),e.log.trace("Twig.tokenize: ","Token ends at ",a),i.push({type:o.def.type,value:n.slice(0,Math.max(0,a)).trim(),position:{start:s-o.def.open.length,end:s+a+o.def.close.length}}),n.slice(a+o.def.close.length,a+o.def.close.length+1)===`
`)switch(o.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":a+=1;break}n=n.slice(a+o.def.close.length),s+=a+o.def.close.length}return i},e.compile=function(n){const i=this;try{const s=[],o=[];let a=[],c=null,h=null,l=null,f=null,y=null,m=null,x=null,v=null,A=null,B=null,M=null,$=null;const W=function(j){e.expression.compile.call(i,j),o.length>0?a.push(j):s.push(j)},F=function(j){if(h=e.logic.compile.call(i,j),h.position=j.position,B=h.type,M=e.logic.handler[B].open,$=e.logic.handler[B].next,e.log.trace("Twig.compile: ","Compiled logic token to ",h," next is: ",$," open is : ",M),M!==void 0&&!M){if(f=o.pop(),x=e.logic.handler[f.type],!x.next.includes(B))throw new Error(B+" not expected after a "+f.type);f.output=f.output||[],f.output=f.output.concat(a),a=[],A={type:e.token.type.logic,token:f,position:{open:f.position,close:j.position}},o.length>0?a.push(A):s.push(A)}$!==void 0&&$.length>0?(e.log.trace("Twig.compile: ","Pushing ",h," to logic stack."),o.length>0&&(f=o.pop(),f.output=f.output||[],f.output=f.output.concat(a),o.push(f),a=[]),o.push(h)):M!==void 0&&M&&(A={type:e.token.type.logic,token:h,position:h.position},o.length>0?a.push(A):s.push(A))};for(;n.length>0;){switch(c=n.shift(),y=s[s.length-1],m=a[a.length-1],v=n[0],e.log.trace("Compiling token ",c),c.type){case e.token.type.raw:o.length>0?a.push(c):s.push(c);break;case e.token.type.logic:F.call(i,c);break;case e.token.type.comment:break;case e.token.type.output:W.call(i,c);break;case e.token.type.logicWhitespacePre:case e.token.type.logicWhitespacePost:case e.token.type.logicWhitespaceBoth:case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:switch(c.type!==e.token.type.outputWhitespacePost&&c.type!==e.token.type.logicWhitespacePost&&(y&&y.type===e.token.type.raw&&(s.pop(),y.value=y.value.trimEnd(),s.push(y)),m&&m.type===e.token.type.raw&&(a.pop(),m.value=m.value.trimEnd(),a.push(m))),c.type){case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:W.call(i,c);break;case e.token.type.logicWhitespacePre:case e.token.type.logicWhitespacePost:case e.token.type.logicWhitespaceBoth:F.call(i,c);break;default:break}c.type!==e.token.type.outputWhitespacePre&&c.type!==e.token.type.logicWhitespacePre&&v&&v.type===e.token.type.raw&&(n.shift(),v.value=v.value.trimStart(),n.unshift(v));break;default:break}e.log.trace("Twig.compile: "," Output: ",s," Logic Stack: ",o," Pending Output: ",a)}if(o.length>0)throw l=o.pop(),new Error("Unable to find an end tag for "+l.type+", expecting one of "+l.next);return s}catch(s){if(i.options.rethrow)throw s.type==="TwigException"&&!s.file&&(s.file=i.id),s;e.log.error("Error compiling twig template "+i.id+": "),s.stack?e.log.error(s.stack):e.log.error(s.toString())}};function t(n,i){if(n.template.options.rethrow)throw typeof i=="string"&&(i=new e.Error(i)),i.type==="TwigException"&&!i.file&&(i.file=n.template.id),i;if(e.log.error("Error parsing twig template "+n.template.id+": "),i.stack?e.log.error(i.stack):e.log.error(i.toString()),e.debug)return i.toString()}e.prepare=function(n){e.log.debug("Twig.prepare: ","Tokenizing ",n);const i=e.tokenize.call(this,n);e.log.debug("Twig.prepare: ","Compiling ",i);const s=e.compile.call(this,i);return e.log.debug("Twig.prepare: ","Compiled ",s),s},e.output=function(n){const{autoescape:i}=this.options;if(!i)return n.join("");const s=typeof i=="string"?i:"html",o=n.map(c=>(c&&c.twigMarkup!==!0&&c.twigMarkup!==s&&!(s==="html"&&c.twigMarkup==="html_attr")&&(c=e.filters.escape(c,[s])),c));if(o.length===0)return"";const a=o.join("");return a.length===0?"":new e.Markup(a,!0)},e.Templates={loaders:{},parsers:{},registry:{}},e.validateId=function(n){if(n==="prototype")throw new e.Error(n+" is not a valid twig identifier");if(e.cache&&Object.hasOwnProperty.call(e.Templates.registry,n))throw new e.Error("There is already a template with the ID "+n);return!0},e.Templates.registerLoader=function(n,i,s){if(typeof i!="function")throw new e.Error("Unable to add loader for "+n+": Invalid function reference given.");s&&(i=i.bind(s)),this.loaders[n]=i},e.Templates.unRegisterLoader=function(n){this.isRegisteredLoader(n)&&delete this.loaders[n]},e.Templates.isRegisteredLoader=function(n){return Object.hasOwnProperty.call(this.loaders,n)},e.Templates.registerParser=function(n,i,s){if(typeof i!="function")throw new e.Error("Unable to add parser for "+n+": Invalid function regerence given.");s&&(i=i.bind(s)),this.parsers[n]=i},e.Templates.unRegisterParser=function(n){this.isRegisteredParser(n)&&delete this.parsers[n]},e.Templates.isRegisteredParser=function(n){return Object.hasOwnProperty.call(this.parsers,n)},e.Templates.save=function(n){if(n.id===void 0)throw new e.Error("Unable to save template with no id");e.Templates.registry[n.id]=n},e.Templates.load=function(n){return Object.hasOwnProperty.call(e.Templates.registry,n)?e.Templates.registry[n]:null},e.Templates.loadRemote=function(n,i,s,o){const a=typeof i.id>"u"?n:i.id,c=e.Templates.registry[a];return e.cache&&typeof c<"u"?(typeof s=="function"&&s(c),c):(i.parser=i.parser||"twig",i.id=a,typeof i.async>"u"&&(i.async=!0),(this.loaders[i.method]||this.loaders.fs).call(this,n,i,s,o))};function r(n,i){const s=Object.prototype.toString.call(i).slice(8,-1);return i!=null&&s===n}return e.Block=function(n,i){this.template=n,this.token=i},e.Block.prototype.render=function(n,i){const s=n.template;let o;return n.template=this.template,this.token.expression?o=e.expression.parseAsync.call(n,this.token.output,i):o=n.parseAsync(this.token.output,i),o.then(a=>e.expression.parseAsync.call(n,{type:e.expression.type.string,value:a},i)).then(a=>(n.template=s,a))},e.ParseState=function(n,i,s){this.renderedBlocks={},this.overrideBlocks=i===void 0?{}:i,this.context=s===void 0?{}:s,this.macros={},this.nestingStack=[],this.template=n},e.ParseState.prototype.getBlock=function(n,i){let s;return i!==!0&&(s=this.overrideBlocks[n]),s===void 0&&(s=this.template.getBlock(n,i)),s===void 0&&this.template.parentTemplate!==null&&(s=this.template.parentTemplate.getBlock(n)),s},e.ParseState.prototype.getBlocks=function(n){let i={};return n!==!1&&this.template.parentTemplate!==null&&this.template.parentTemplate!==this.template&&(i=this.template.parentTemplate.getBlocks()),i={...i,...this.template.getBlocks(),...this.overrideBlocks},i},e.ParseState.prototype.getNestingStackToken=function(n){let i;return this.nestingStack.forEach(s=>{i===void 0&&s.type===n&&(i=s)}),i},e.ParseState.prototype.parse=function(n,i,s){const o=this;let a=[],c=null,h=!0,l=null,f=!0;i&&(o.context=i);function y(x){a.push(x)}function m(x){typeof x.chain<"u"&&(f=x.chain),typeof x.context<"u"&&(o.context=x.context),typeof x.output<"u"&&a.push(x.output)}if(l=e.async.forEach(n,x=>{switch(e.log.debug("Twig.ParseState.parse: ","Parsing token: ",x),x.type){case e.token.type.raw:a.push(e.filters.raw(x.value));break;case e.token.type.logic:return e.logic.parseAsync.call(o,x.token,o.context,f).then(m);case e.token.type.comment:break;case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:case e.token.type.output:return e.log.debug("Twig.ParseState.parse: ","Output token: ",x.stack),e.expression.parseAsync.call(o,x.stack,o.context).then(y)}}).then(()=>(a=e.output.call(o.template,a),h=!1,a)).catch(x=>{s&&t(o,x),c=x}),s)return l;if(c!==null)return t(o,c);if(h)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return a},e.Template=function(n){const{data:i,id:s,base:o,path:a,url:c,name:h,method:l,options:f}=n;this.base=o,this.blocks={defined:{},imported:{}},this.id=s,this.method=l,this.name=h,this.options=f,this.parentTemplate=null,this.path=a,this.url=c,r("String",i)?this.tokens=e.prepare.call(this,i):this.tokens=i,s!==void 0&&e.Templates.save(this)},e.Template.prototype.getBlock=function(n,i,s=!0){let o;return i!==!0&&(o=this.blocks.defined[n]),s&&o===void 0&&(o=this.blocks.imported[n]),o===void 0&&this.parentTemplate!==null&&(o=this.parentTemplate.getBlock(n,i,s=!1)),o},e.Template.prototype.getBlocks=function(){let n={};return n={...n,...this.blocks.imported,...this.blocks.defined},n},e.Template.prototype.render=function(n,i,s){const o=this;return i=i||{},e.async.potentiallyAsync(o,s,()=>{const a=new e.ParseState(o,i.blocks,n);return a.parseAsync(o.tokens).then(c=>{let h,l;return o.parentTemplate!==null?(o.options.allowInlineIncludes&&(h=e.Templates.load(o.parentTemplate),h&&(h.options=o.options)),h||(l=e.path.parsePath(o,o.parentTemplate),h=e.Templates.loadRemote(l,{method:o.getLoaderMethod(),base:o.base,async:!1,id:l,options:o.options})),o.parentTemplate=h,o.parentTemplate.renderAsync(a.context,{blocks:a.getBlocks(!1),isInclude:!0})):i.isInclude===!0?c:c.valueOf()})})},e.Template.prototype.importFile=function(n){let i=null,s;if(!this.url&&this.options.allowInlineIncludes){if(n=this.path?e.path.parsePath(this,n):n,s=e.Templates.load(n),!s&&(s=e.Templates.loadRemote(i,{id:n,method:this.getLoaderMethod(),async:!1,path:n,options:this.options}),!s))throw new e.Error("Unable to find the template "+n);return s.options=this.options,s}return i=e.path.parsePath(this,n),s=e.Templates.loadRemote(i,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:i}),s},e.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},e.Template.prototype.compile=function(n){return e.compiler.compile(this,n)},e.Markup=function(n,i){if(typeof n!="string")return n;const s=new String(n);return s.twigMarkup=typeof i>"u"?!0:i,s},e}),xt}var bt,cn;function Yo(){return cn||(cn=1,bt=function(e){return e.compiler={module:{}},e.compiler.compile=function(t,r){const n=JSON.stringify(t.tokens),{id:i}=t;let s=null;if(r.module){if(e.compiler.module[r.module]===void 0)throw new e.Error("Unable to find module type "+r.module);s=e.compiler.module[r.module](i,n,r.twig)}else s=e.compiler.wrap(i,n);return s},e.compiler.module={amd(t,r,n){return'define(["'+n+`"], function (Twig) {
	var twig, templates;
twig = Twig.twig;
templates = `+e.compiler.wrap(t,r)+`
	return templates;
});`},node(t,r){return`var twig = require("twig").twig;
exports.template = `+e.compiler.wrap(t,r)},cjs2(t,r,n){return'module.declare([{ twig: "'+n+`" }], function (require, exports, module) {
	var twig = require("twig").twig;
	exports.template = `+e.compiler.wrap(t,r)+`
});`}},e.compiler.wrap=function(t,r){return'twig({id:"'+t.replace('"','\\"')+'", data:'+r+`, precompiled: true});
`},e}),bt}var vt,un;function Ko(){return un||(un=1,vt=function(e){e.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};const t=function(r,n){if(n==null)return null;if(n.indexOf!==void 0)return(r===n||r!=="")&&n.includes(r);let i;for(i in n)if(Object.hasOwnProperty.call(n,i)&&n[i]===r)return!0;return!1};return e.expression.operator.lookup=function(r,n){switch(r){case"..":n.precidence=20,n.associativity=e.expression.operator.leftToRight;break;case",":n.precidence=18,n.associativity=e.expression.operator.leftToRight;break;case"?:":case"?":case":":n.precidence=16,n.associativity=e.expression.operator.rightToLeft;break;case"??":n.precidence=15,n.associativity=e.expression.operator.rightToLeft;break;case"or":n.precidence=14,n.associativity=e.expression.operator.leftToRight;break;case"and":n.precidence=13,n.associativity=e.expression.operator.leftToRight;break;case"b-or":n.precidence=12,n.associativity=e.expression.operator.leftToRight;break;case"b-xor":n.precidence=11,n.associativity=e.expression.operator.leftToRight;break;case"b-and":n.precidence=10,n.associativity=e.expression.operator.leftToRight;break;case"==":case"!=":n.precidence=9,n.associativity=e.expression.operator.leftToRight;break;case"<=>":n.precidence=9,n.associativity=e.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":case"not in":case"in":n.precidence=8,n.associativity=e.expression.operator.leftToRight;break;case"~":case"+":case"-":n.precidence=6,n.associativity=e.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":n.precidence=5,n.associativity=e.expression.operator.leftToRight;break;case"not":n.precidence=3,n.associativity=e.expression.operator.rightToLeft;break;case"matches":n.precidence=8,n.associativity=e.expression.operator.leftToRight;break;case"starts with":n.precidence=8,n.associativity=e.expression.operator.leftToRight;break;case"ends with":n.precidence=8,n.associativity=e.expression.operator.leftToRight;break;default:throw new e.Error("Failed to lookup operator: "+r+" is an unknown operator.")}return n.operator=r,n},e.expression.operator.parse=function(r,n){e.log.trace("Twig.expression.operator.parse: ","Handling ",r);let i,s,o;if(r==="?"&&(o=n.pop()),s=n.pop(),r!=="not"&&(i=n.pop()),r!=="in"&&r!=="not in"&&r!=="??"&&(i&&Array.isArray(i)&&(i=i.length),r!=="?"&&s&&Array.isArray(s)&&(s=s.length)),r==="matches"&&s&&typeof s=="string"){const a=s.match(/^\/(.*)\/([gims]?)$/),c=a[1],h=a[2];s=new RegExp(c,h)}switch(r){case":":break;case"??":i===void 0&&(i=s,s=o,o=void 0),i!=null?n.push(i):n.push(s);break;case"?:":e.lib.boolval(i)?n.push(i):n.push(s);break;case"?":i===void 0&&(i=s,s=o,o=void 0),e.lib.boolval(i)?n.push(s):n.push(o);break;case"+":s=parseFloat(s),i=parseFloat(i),n.push(i+s);break;case"-":s=parseFloat(s),i=parseFloat(i),n.push(i-s);break;case"*":s=parseFloat(s),i=parseFloat(i),n.push(i*s);break;case"/":s=parseFloat(s),i=parseFloat(i),n.push(i/s);break;case"//":s=parseFloat(s),i=parseFloat(i),n.push(Math.floor(i/s));break;case"%":s=parseFloat(s),i=parseFloat(i),n.push(i%s);break;case"~":n.push((typeof i<"u"&&i!==null?i.toString():"")+(typeof s<"u"&&s!==null?s.toString():""));break;case"not":case"!":n.push(!e.lib.boolval(s));break;case"<=>":n.push(i===s?0:i<s?-1:1);break;case"<":n.push(i<s);break;case"<=":n.push(i<=s);break;case">":n.push(i>s);break;case">=":n.push(i>=s);break;case"===":n.push(i===s);break;case"==":n.push(i==s);break;case"!==":n.push(i!==s);break;case"!=":n.push(i!=s);break;case"or":n.push(e.lib.boolval(i)||e.lib.boolval(s));break;case"b-or":n.push(i|s);break;case"b-xor":n.push(i^s);break;case"and":n.push(e.lib.boolval(i)&&e.lib.boolval(s));break;case"b-and":n.push(i&s);break;case"**":n.push(i**s);break;case"not in":n.push(!t(i,s));break;case"in":n.push(t(i,s));break;case"matches":n.push(s.test(i));break;case"starts with":n.push(typeof i=="string"&&i.indexOf(s)===0);break;case"ends with":n.push(typeof i=="string"&&i.includes(s,i.length-s.length));break;case"..":n.push(e.functions.range(i,s));break;default:throw new e.Error("Failed to parse operator: "+r+" is an unknown operator.")}},e}),vt}var Et,ln;function To(){return ln||(ln=1,Et=function(e){function t(r,n,i){return n?e.expression.parseAsync.call(r,n,i):e.Promise.resolve(!1)}for(e.expression={},Ko()(e),e.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context","and","b-and","or","b-or","b-xor","in","not in","if","matches","starts","ends","with"],e.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",slice:"Twig.expression.type.slice",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},subexpression:{start:"Twig.expression.type.subexpression.start",end:"Twig.expression.type.subexpression.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},e.expression.set={operations:[e.expression.type.filter,e.expression.type.operator.unary,e.expression.type.operator.binary,e.expression.type.array.end,e.expression.type.object.end,e.expression.type.parameter.end,e.expression.type.subexpression.end,e.expression.type.comma,e.expression.type.test],expressions:[e.expression.type._function,e.expression.type.bool,e.expression.type.string,e.expression.type.variable,e.expression.type.number,e.expression.type._null,e.expression.type.context,e.expression.type.parameter.start,e.expression.type.array.start,e.expression.type.object.start,e.expression.type.subexpression.start,e.expression.type.operator.unary]},e.expression.set.operationsExtended=e.expression.set.operations.concat([e.expression.type.key.period,e.expression.type.key.brackets,e.expression.type.slice]),e.expression.fn={compile:{push(r,n,i){i.push(r)},pushBoth(r,n,i){i.push(r),n.push(r)}},parse:{push(r,n){n.push(r)},pushValue(r,n){n.push(r.value)}}},e.expression.definitions=[{type:e.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_]\w*(\s?(?:as|by))?)/,next:e.expression.set.operations.concat([e.expression.type.parameter.start]),compile(r,n,i){r.filter=r.match[2],r.modifier=r.match[1],delete r.match,delete r.value,i.push(r)},parse(r,n,i){const s=n.pop();return t(this,r.params,i).then(a=>{const c=e.test(r.filter,s,a);r.modifier==="not"?n.push(!c):n.push(c)})}},{type:e.expression.type.comma,regex:/^,/,next:e.expression.set.expressions.concat([e.expression.type.array.end,e.expression.type.object.end]),compile(r,n,i){let s=n.length-1,o;for(delete r.match,delete r.value;s>=0;s--){if(o=n.pop(),o.type===e.expression.type.object.start||o.type===e.expression.type.parameter.start||o.type===e.expression.type.array.start){n.push(o);break}i.push(o)}i.push(r)}},{type:e.expression.type.number,regex:/^-?\d+(\.\d+)?/,next:e.expression.set.operations,compile(r,n,i){r.value=Number(r.value),i.push(r)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.operator.binary,regex:/(^\?\?|^\?:|^(b-and)|^(b-or)|^(b-xor)|^[+\-~%?]|^(<=>)|^[:](?!\d\])|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^(and)[(|\s+]|^(or)[(|\s+]|^(in)[(|\s+]|^(not in)[(|\s+]|^(matches)|^(starts with)|^(ends with)|^\.\.)/,next:e.expression.set.expressions,transform(r,n){switch(r[0]){case"and(":case"or(":case"in(":case"not in(":return n[n.length-1].value=r[2],r[0];default:return""}},compile(r,n,i){delete r.match,r.value=r.value.trim();const{value:s}=r,o=e.expression.operator.lookup(s,r);for(e.log.trace("Twig.expression.compile: ","Operator: ",o," from ",s);n.length>0&&(n[n.length-1].type===e.expression.type.operator.unary||n[n.length-1].type===e.expression.type.operator.binary)&&(o.associativity===e.expression.operator.leftToRight&&o.precidence>=n[n.length-1].precidence||o.associativity===e.expression.operator.rightToLeft&&o.precidence>n[n.length-1].precidence);){const a=n.pop();i.push(a)}if(s===":"){if(!(n[n.length-1]&&n[n.length-1].value==="?")){const a=i.pop();if(a.type===e.expression.type.string||a.type===e.expression.type.variable)r.key=a.value;else if(a.type===e.expression.type.number)r.key=a.value.toString();else if(a.expression&&(a.type===e.expression.type.parameter.end||a.type===e.expression.type.subexpression.end))r.params=a.params;else throw new e.Error("Unexpected value before ':' of "+a.type+" = "+a.value);i.push(r)}}else n.push(o)},parse(r,n,i){const s=this;if(r.key)n.push(r);else{if(r.params)return e.expression.parseAsync.call(s,r.params,i).then(o=>{r.key=o,n.push(r),i.loop||delete r.params});e.expression.operator.parse(r.value,n)}}},{type:e.expression.type.operator.unary,regex:/(^not\s+)/,next:e.expression.set.expressions,compile(r,n,i){delete r.match,r.value=r.value.trim();const{value:s}=r,o=e.expression.operator.lookup(s,r);for(e.log.trace("Twig.expression.compile: ","Operator: ",o," from ",s);n.length>0&&(n[n.length-1].type===e.expression.type.operator.unary||n[n.length-1].type===e.expression.type.operator.binary)&&(o.associativity===e.expression.operator.leftToRight&&o.precidence>=n[n.length-1].precidence||o.associativity===e.expression.operator.rightToLeft&&o.precidence>n[n.length-1].precidence);){const a=n.pop();i.push(a)}n.push(o)},parse(r,n){e.expression.operator.parse(r.value,n)}},{type:e.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:e.expression.set.operationsExtended,compile(r,n,i){let{value:s}=r;delete r.match,s.slice(0,1)==='"'?s=s.replace('\\"','"'):s=s.replace("\\'","'"),r.value=s.slice(1,-1).replace(/\\n/g,`
`).replace(/\\r/g,"\r"),e.log.trace("Twig.expression.compile: ","String value: ",r.value),i.push(r)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.subexpression.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.subexpression.end]),compile(r,n,i){r.value="(",i.push(r),n.push(r)},parse:e.expression.fn.parse.push},{type:e.expression.type.subexpression.end,regex:/^\)/,next:e.expression.set.operationsExtended,validate(r,n){let i=n.length-1,s=!1,o=!1,a=0;for(;!s&&i>=0;){const c=n[i];s=c.type===e.expression.type.subexpression.start,s&&o&&(o=!1,s=!1),c.type===e.expression.type.parameter.start?a++:c.type===e.expression.type.parameter.end?a--:c.type===e.expression.type.subexpression.end&&(o=!0),i--}return s&&a===0},compile(r,n,i){let s;const o=r;for(s=n.pop();n.length>0&&s.type!==e.expression.type.subexpression.start;)i.push(s),s=n.pop();const a=[];for(;r.type!==e.expression.type.subexpression.start;)a.unshift(r),r=i.pop();a.unshift(r),s=n[n.length-1],s===void 0||s.type!==e.expression.type._function&&s.type!==e.expression.type.filter&&s.type!==e.expression.type.test&&s.type!==e.expression.type.key.brackets?(o.expression=!0,a.pop(),a.shift(),o.params=a,i.push(o)):(o.expression=!1,s.params=a)},parse(r,n,i){const s=this;if(r.expression)return e.expression.parseAsync.call(s,r.params,i).then(o=>{n.push(o)});throw new e.Error("Unexpected subexpression end when token is not marked as an expression")}},{type:e.expression.type.parameter.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.parameter.end]),validate(r,n){const i=n[n.length-1];return i&&!e.expression.reservedWords.includes(i.value.trim())},compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.parameter.end,regex:/^\)/,next:e.expression.set.operationsExtended,compile(r,n,i){let s;const o=r;for(s=n.pop();n.length>0&&s.type!==e.expression.type.parameter.start;)i.push(s),s=n.pop();const a=[];for(;r.type!==e.expression.type.parameter.start;)a.unshift(r),r=i.pop();a.unshift(r),r=i[i.length-1],r===void 0||r.type!==e.expression.type._function&&r.type!==e.expression.type.filter&&r.type!==e.expression.type.test&&r.type!==e.expression.type.key.brackets?(o.expression=!0,a.pop(),a.shift(),o.params=a,i.push(o)):(o.expression=!1,r.params=a)},parse(r,n,i){const s=[];let o=!1,a=null;const c=this;if(r.expression)return e.expression.parseAsync.call(c,r.params,i).then(h=>{n.push(h)});for(;n.length>0;){if(a=n.pop(),a&&a.type&&a.type===e.expression.type.parameter.start){o=!0;break}s.unshift(a)}if(!o)throw new e.Error("Expected end of parameter set.");n.push(s)}},{type:e.expression.type.slice,regex:/^\[(-?\w*:-?\w*)\]/,next:e.expression.set.operationsExtended,compile(r,n,i){const s=r.match[1].split(":"),o=s[0],a=s[1];r.value="slice",r.params=[o,a],a||(r.params=[o]),i.push(r)},parse(r,n,i){const s=n.pop();let{params:o}=r;const a=this;if(parseInt(o[0],10).toString()===o[0])o[0]=parseInt(o[0],10);else{const c=i[o[0]];if(a.template.options.strictVariables&&c===void 0)throw new e.Error('Variable "'+o[0]+'" does not exist.');o[0]=c}if(o[1])if(parseInt(o[1],10).toString()===o[1])o[1]=parseInt(o[1],10);else{const c=i[o[1]];if(a.template.options.strictVariables&&c===void 0)throw new e.Error('Variable "'+o[1]+'" does not exist.');c===void 0?o=[o[0]]:o[1]=c}n.push(e.filter.call(a,r.value,s,o))}},{type:e.expression.type.array.start,regex:/^\[/,next:e.expression.set.expressions.concat([e.expression.type.array.end]),compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.array.end,regex:/^\]/,next:e.expression.set.operationsExtended,compile(r,n,i){let s=n.length-1,o;for(;s>=0&&(o=n.pop(),o.type!==e.expression.type.array.start);s--)i.push(o);i.push(r)},parse(r,n){const i=[];let s=!1,o=null;for(;n.length>0;){if(o=n.pop(),o&&o.type&&o.type===e.expression.type.array.start){s=!0;break}i.unshift(o)}if(!s)throw new e.Error("Expected end of array.");n.push(i)}},{type:e.expression.type.object.start,regex:/^\{/,next:e.expression.set.expressions.concat([e.expression.type.object.end]),compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.object.end,regex:/^\}/,next:e.expression.set.operationsExtended,compile(r,n,i){let s=n.length-1,o;for(;s>=0&&(o=n.pop(),!(o&&o.type===e.expression.type.object.start));s--)i.push(o);i.push(r)},parse(r,n){const i={};let s=!1,o=null,a=!1,c=null;for(;n.length>0;){if(o=n.pop(),o&&o.type&&o.type===e.expression.type.object.start){s=!0;break}if(o&&o.type&&(o.type===e.expression.type.operator.binary||o.type===e.expression.type.operator.unary)&&o.key){if(!a)throw new e.Error("Missing value for key '"+o.key+"' in object definition.");i[o.key]=c,i._keys===void 0&&(i._keys=[]),i._keys.unshift(o.key),c=null,a=!1}else a=!0,c=o}if(!s)throw new e.Error("Unexpected end of object.");n.push(i)}},{type:e.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_-]*)/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(r,n,i){r.value=r.match[1],i.push(r)},parse(r,n,i){const s=n.pop(),o=this;return t(o,r.params,i).then(a=>e.filter.call(o,r.value,s,a)).then(a=>{n.push(a)})}},{type:e.expression.type._function,regex:/^([a-zA-Z_]\w*)\s*\(/,next:e.expression.type.parameter.start,validate(r){return r[1]&&!e.expression.reservedWords.includes(r[1])},transform(){return"("},compile(r,n,i){const s=r.match[1];r.fn=s,delete r.match,delete r.value,i.push(r)},parse(r,n,i){const s=this,{fn:o}=r;let a;return t(s,r.params,i).then(c=>{if(e.functions[o])a=e.functions[o].apply(s,c);else if(typeof i[o]=="function")a=i[o](...c);else throw new e.Error(o+" function does not exist and is not defined in the context");return a}).then(c=>{n.push(c)})}},{type:e.expression.type.variable,regex:/^[a-zA-Z_]\w*/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,validate(r){return!e.expression.reservedWords.includes(r[0])},parse(r,n,i){const s=this;return e.expression.resolveAsync.call(s,i[r.value],i).then(o=>{if(s.template.options.strictVariables&&o===void 0)throw new e.Error('Variable "'+r.value+'" does not exist.');n.push(o)})}},{type:e.expression.type.key.period,regex:/^\.(\w+)/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(r,n,i){r.key=r.match[1],delete r.match,delete r.value,i.push(r)},parse(r,n,i,s){const o=this,{key:a}=r,c=n.pop();let h;if(c&&!Object.prototype.hasOwnProperty.call(c,a)&&o.template.options.strictVariables)throw Object.keys(c).length>0?new e.Error('Key "'+a+'" for object with keys "'+Object.keys(c).join(", ")+'" does not exist.'):new e.Error('Key "'+a+'" does not exist as the object is empty.');return t(o,r.params,i).then(l=>{if(c==null)h=void 0;else{const f=function(y){return y.slice(0,1).toUpperCase()+y.slice(1)};typeof c=="object"&&a in c?h=c[a]:c["get"+f(a)]?h=c["get"+f(a)]:c["is"+f(a)]?h=c["is"+f(a)]:h=void 0}return e.expression.resolveAsync.call(o,h,i,l,s,c)}).then(l=>{n.push(l)})}},{type:e.expression.type.key.brackets,regex:/^\[([^\]]*)\]/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(r,n,i){const s=r.match[1];delete r.value,delete r.match,r.stack=e.expression.compile({value:s}).stack,i.push(r)},parse(r,n,i,s){const o=this;let a=null,c,h;return t(o,r.params,i).then(l=>(a=l,e.expression.parseAsync.call(o,r.stack,i))).then(l=>{if(c=n.pop(),c&&!Object.prototype.hasOwnProperty.call(c,l)&&o.template.options.strictVariables){const f=Object.keys(c);throw f.length>0?new e.Error('Key "'+l+'" for array with keys "'+f.join(", ")+'" does not exist.'):new e.Error('Key "'+l+'" does not exist as the array is empty.')}else if(c==null)return null;return typeof c=="object"&&l in c?h=c[l]:h=null,e.expression.resolveAsync.call(o,h,c,a,s)}).then(l=>{n.push(l)})}},{type:e.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:e.expression.set.operations,compile(r,n,i){delete r.match,r.value=null,i.push(r)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.context,regex:/^_context/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,parse(r,n,i){n.push(i)}},{type:e.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:e.expression.set.operations,compile(r,n,i){r.value=r.match[0].toLowerCase()==="true",delete r.match,i.push(r)},parse:e.expression.fn.parse.pushValue}],e.expression.resolveAsync=function(r,n,i,s,o){const a=this;if(typeof r!="function")return e.Promise.resolve(r);let c=e.Promise.resolve(i);return s&&s.type===e.expression.type.parameter.end&&(c=c.then(()=>s.params&&e.expression.parseAsync.call(a,s.params,n,!0)).then(l=>(s.cleanup=!0,l))),c.then(h=>r.apply(o||n,h||[]))},e.expression.resolve=function(r,n,i,s,o){return e.async.potentiallyAsync(this,!1,function(){return e.expression.resolveAsync.call(this,r,n,i,s,o)})},e.expression.handler={},e.expression.extendType=function(r){e.expression.type[r]="Twig.expression.type."+r},e.expression.extend=function(r){if(!r.type)throw new e.Error("Unable to extend logic definition. No type provided for "+r);e.expression.handler[r.type]=r};e.expression.definitions.length>0;)e.expression.extend(e.expression.definitions.shift());return e.expression.tokenize=function(r){let n=r.value;const i=[];let s=0,o=null,a,c,h,l,f,y=[];const m=function(...x){let v=arguments.length-2;const A=new Array(v);for(;v-- >0;)A[v]=x[v];if(e.log.trace("Twig.expression.tokenize","Matched a ",a," regular expression of ",A),o&&!o.includes(a))return y.push(a+" cannot follow a "+i[i.length-1].type+" at template:"+s+" near '"+A[0].slice(0,20)+"...'"),A[0];const B=e.expression.handler[a];if(B.validate&&!B.validate(A,i))return A[0];y=[];const M={type:a,value:A[0],match:A};return r.position&&(M.position=r.position),i.push(M),f=!0,o=l,s+=A[0].length,B.transform?B.transform(A,i):""};for(e.log.debug("Twig.expression.tokenize","Tokenizing expression ",n);n.length>0;){n=n.trim();for(a in e.expression.handler)if(Object.hasOwnProperty.call(e.expression.handler,a)){if(l=e.expression.handler[a].next,c=e.expression.handler[a].regex,e.log.trace("Checking type ",a," on ",n),f=!1,Array.isArray(c))for(h=c.length;h-- >0;)n=n.replace(c[h],m);else n=n.replace(c,m);if(f)break}if(!f)throw y.length>0?new e.Error(y.join(" OR ")):new e.Error("Unable to parse '"+n+"' at template position"+s)}return e.log.trace("Twig.expression.tokenize","Tokenized to ",i),i},e.expression.compile=function(r){const n=e.expression.tokenize(r);let i=null;const s=[],o=[];let a=null;for(e.log.trace("Twig.expression.compile: ","Compiling ",r.value);n.length>0;)i=n.shift(),a=e.expression.handler[i.type],e.log.trace("Twig.expression.compile: ","Compiling ",i),a.compile(i,o,s),e.log.trace("Twig.expression.compile: ","Stack is",o),e.log.trace("Twig.expression.compile: ","Output is",s);for(;o.length>0;)s.push(o.pop());return e.log.trace("Twig.expression.compile: ","Final output is",s),r.stack=s,delete r.value,r},e.expression.parse=function(r,n,i,s){const o=this;Array.isArray(r)||(r=[r]);const a=[],c=[],h=e.expression.type.operator.binary;return e.async.potentiallyAsync(o,s,()=>e.async.forEach(r,(l,f)=>{let y=null,m=null,x;if(!l.cleanup)return r.length>f+1&&(m=r[f+1]),y=e.expression.handler[l.type],y.parse&&(x=y.parse.call(o,l,a,n,m)),l.type===h&&n.loop&&c.push(l),x}).then(()=>{let l=c.length,f=null;for(;l-- >0;)f=c[l],f.params&&f.key&&delete f.key;if(i){const y=a.splice(0);a.push(y)}return a.pop()}))},e}),Et}var _t,pn;function Xo(){return pn||(pn=1,_t=function(e){function t(r,n){const i=Object.prototype.toString.call(n).slice(8,-1);return n!=null&&i===r}return e.filters={upper(r){return typeof r!="string"?r:r.toUpperCase()},lower(r){return typeof r!="string"?r:r.toLowerCase()},capitalize(r){return typeof r!="string"?r:r.slice(0,1).toUpperCase()+r.toLowerCase().slice(1)},title(r){return typeof r!="string"?r:r.toLowerCase().replace(/(^|\s)([a-z])/g,(n,i,s)=>i+s.toUpperCase())},length(r){return e.lib.is("Array",r)||typeof r=="string"?r.length:e.lib.is("Object",r)?r._keys===void 0?Object.keys(r).length:r._keys.length:0},reverse(r){if(t("Array",r))return r.reverse();if(t("String",r))return r.split("").reverse().join("");if(t("Object",r)){const n=r._keys||Object.keys(r).reverse();return r._keys=n,r}},sort(r){if(t("Array",r))return r.sort();if(t("Object",r)){delete r._keys;const i=Object.keys(r).sort((s,o)=>{let a,c;return r[s]>r[o]==!(r[s]<=r[o])?r[s]>r[o]?1:r[s]<r[o]?-1:0:!isNaN(a=parseFloat(r[s]))&&!isNaN(c=parseFloat(r[o]))?a>c?1:a<c?-1:0:typeof r[s]=="string"?r[s]>r[o].toString()?1:r[s]<r[o].toString()?-1:0:typeof r[o]=="string"?r[s].toString()>r[o]?1:r[s].toString()<r[o]?-1:0:null});return r._keys=i,r}},keys(r){if(r==null)return;const n=r._keys||Object.keys(r),i=[];return n.forEach(s=>{s!=="_keys"&&Object.hasOwnProperty.call(r,s)&&i.push(s)}),i},url_encode(r){if(r==null)return;if(e.lib.is("Object",r)){const i=function(s,o){const a=[];return(s._keys||Object.keys(s)).forEach(h=>{if(!Object.prototype.hasOwnProperty.call(s,h))return;const l=o?o+"["+h+"]":h,f=s[h];a.push(e.lib.is("Object",f)||Array.isArray(f)?i(f,l):encodeURIComponent(l)+"="+encodeURIComponent(f))}),a.join("&amp;")};return i(r)}let n=encodeURIComponent(r);return n=n.replace("'","%27"),n},join(r,n){if(r==null)return;let i="",s=[],o=null;return n&&n[0]&&(i=n[0]),t("Array",r)?s=r:(o=r._keys||Object.keys(r),o.forEach(a=>{a!=="_keys"&&Object.hasOwnProperty.call(r,a)&&s.push(r[a])})),s.join(i)},default(r,n){if(n!==void 0&&n.length>1)throw new e.Error("default filter expects one argument");return r==null||r===""?n===void 0?"":n[0]:r},json_encode(r){if(r==null)return"null";if(typeof r=="object"&&t("Array",r)){const n=[];return r.forEach(i=>{n.push(e.filters.json_encode(i))}),"["+n.join(",")+"]"}if(typeof r=="object"&&t("Date",r))return'"'+r.toISOString()+'"';if(typeof r=="object"){const n=r._keys||Object.keys(r),i=[];return n.forEach(s=>{i.push(JSON.stringify(s)+":"+e.filters.json_encode(r[s]))}),"{"+i.join(",")+"}"}return JSON.stringify(r)},merge(r,n){let i=[],s=0,o=[];if(t("Array",r)?n.forEach(a=>{t("Array",a)||(i={})}):i={},t("Array",i)||(i._keys=[]),t("Array",r)?r.forEach(a=>{i._keys&&i._keys.push(s),i[s]=a,s++}):(o=r._keys||Object.keys(r),o.forEach(a=>{i[a]=r[a],i._keys.push(a);const c=parseInt(a,10);!isNaN(c)&&c>=s&&(s=c+1)})),n.forEach(a=>{t("Array",a)?a.forEach(c=>{i._keys&&i._keys.push(s),i[s]=c,s++}):(o=a._keys||Object.keys(a),o.forEach(c=>{i[c]||i._keys.push(c),i[c]=a[c];const h=parseInt(c,10);!isNaN(h)&&h>=s&&(s=h+1)}))}),n.length===0)throw new e.Error("Filter merge expects at least one parameter");return i},date(r,n){const i=e.functions.date(r),s=n&&n.length?n[0]:"F j, Y H:i";return e.lib.date(s.replace(/\\\\/g,"\\"),i)},date_modify(r,n){if(r==null)return;if(n===void 0||n.length!==1)throw new e.Error("date_modify filter expects 1 argument");const i=n[0];let s;return e.lib.is("Date",r)&&(s=e.lib.strtotime(i,r.getTime()/1e3)),e.lib.is("String",r)&&(s=e.lib.strtotime(i,e.lib.strtotime(r))),e.lib.is("Number",r)&&(s=e.lib.strtotime(i,r)),new Date(s*1e3)},replace(r,n){if(r==null)return;const i=n[0];let s;for(s in i)Object.hasOwnProperty.call(i,s)&&s!=="_keys"&&(r=e.lib.replaceAll(r,s,i[s]));return r},format(r,n){if(r!=null)return e.lib.vsprintf(r,n)},striptags(r,n){if(r!=null)return e.lib.stripTags(r,n)},escape(r,n){if(r==null||r==="")return;let i="html";if(n&&n.length&&n[0]!==!0&&(i=n[0]),i==="html"){const s=r.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return new e.Markup(s,"html")}if(i==="js"){const s=r.toString();let o="";for(let a=0;a<s.length;a++)if(s[a].match(/^[a-zA-Z0-9,._]$/))o+=s[a];else{const c=s.charAt(a),h=s.charCodeAt(a),l={"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};l[c]?o+=l[c]:o+=e.lib.sprintf("\\u%04s",h.toString(16).toUpperCase())}return new e.Markup(o,"js")}if(i==="css"){const s=r.toString();let o="";for(let a=0;a<s.length;a++)if(s[a].match(/^[a-zA-Z0-9]$/))o+=s[a];else{const c=s.charCodeAt(a);o+="\\"+c.toString(16).toUpperCase()+" "}return new e.Markup(o,"css")}if(i==="url"){const s=e.filters.url_encode(r);return new e.Markup(s,"url")}if(i==="html_attr"){const s=r.toString();let o="";for(let a=0;a<s.length;a++)if(s[a].match(/^[a-zA-Z0-9,.\-_]$/))o+=s[a];else if(s[a].match(/^[&<>"]$/))o+=s[a].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");else{const c=s.charCodeAt(a);c<=31&&c!==9&&c!==10&&c!==13?o+="&#xFFFD;":c<128?o+=e.lib.sprintf("&#x%02s;",c.toString(16).toUpperCase()):o+=e.lib.sprintf("&#x%04s;",c.toString(16).toUpperCase())}return new e.Markup(o,"html_attr")}throw new e.Error("escape strategy unsupported")},e(r,n){return e.filters.escape(r,n)},nl2br(r){if(r==null||r==="")return;const n="BACKSLASH_n_replace",i="<br />"+n;return r=e.filters.escape(r).replace(/\r\n/g,i).replace(/\r/g,i).replace(/\n/g,i),r=e.lib.replaceAll(r,n,`
`),new e.Markup(r)},number_format(r,n){let i=r;const s=n&&n[0]?n[0]:void 0,o=n&&n[1]!==void 0?n[1]:".",a=n&&n[2]!==void 0?n[2]:",";i=String(i).replace(/[^0-9+\-Ee.]/g,"");const c=isFinite(Number(i))?Number(i):0,h=isFinite(Number(s))?Math.abs(s):0;let l="";return l=(h?function(y,m){const x=10**m;return String(Math.round(y*x)/x)}(c,h):String(Math.round(c))).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(l[1]||"").length<h&&(l[1]=l[1]||"",l[1]+=new Array(h-l[1].length+1).join("0")),l.join(o)},trim(r,n){if(r==null)return;let i=String(r),s;n&&n[0]?s=String(n[0]):s=` 
\r	\f\v            ​\u2028\u2029　`;for(let o=0;o<i.length;o++)if(!s.includes(i.charAt(o))){i=i.slice(Math.max(0,o));break}for(let o=i.length-1;o>=0;o--)if(!s.includes(i.charAt(o))){i=i.slice(0,Math.max(0,o+1));break}return s.includes(i.charAt(0))?"":i},truncate(r,n){let i=30,s=!1,o="...";if(r=String(r),n&&(n[0]&&(i=n[0]),n[1]&&(s=n[1]),n[2]&&(o=n[2])),r.length>i){if(s&&(i=r.indexOf(" ",i),i===-1))return r;r=r.slice(0,i)+o}return r},slice(r,n){if(r==null)return;if(n===void 0||n.length===0)throw new e.Error("slice filter expects at least 1 argument");const i=n[0]||0;let s=n.length>1?n[1]:r.length;const o=i>=0?i:Math.max(r.length+i,0);if(s<0&&(s=r.length-o+s),e.lib.is("Array",r)){const a=[];for(let c=o;c<o+s&&c<r.length;c++)a.push(r[c]);return a}if(e.lib.is("String",r))return r.slice(o,o+s);throw new e.Error("slice filter expects value to be an array or string")},abs(r){if(r!=null)return Math.abs(r)},first(r){if(t("Array",r))return r[0];if(t("Object",r)){if("_keys"in r)return r[r._keys[0]]}else if(typeof r=="string")return r.slice(0,1)},split(r,n){if(r!=null){if(n===void 0||n.length===0||n.length>2)throw new e.Error("split filter expects 1 or 2 argument");if(e.lib.is("String",r)){const i=n[0],s=n[1],o=r.split(i);if(s===void 0)return o;if(s<0)return r.split(i,o.length+s);const a=[];if(i==="")for(;o.length>0;){let c="";for(let h=0;h<s&&o.length>0;h++)c+=o.shift();a.push(c)}else{for(let c=0;c<s-1&&o.length>0;c++)a.push(o.shift());o.length>0&&a.push(o.join(i))}return a}throw new e.Error("split filter expects value to be a string")}},last(r){if(e.lib.is("Object",r)){let n;return r._keys===void 0?n=Object.keys(r):n=r._keys,r[n[n.length-1]]}return e.lib.is("Number",r)?r.toString().slice(-1):r[r.length-1]},raw(r){return new e.Markup(r||"")},batch(r,n){let i=n.shift();const s=n.shift();let o,a;if(!e.lib.is("Array",r))throw new e.Error("batch filter expects items to be an array");if(!e.lib.is("Number",i))throw new e.Error("batch filter expects size to be a number");i=Math.ceil(i);const c=e.lib.chunkArray(r,i);if(s&&r.length%i!==0){for(o=c.pop(),a=i-o.length;a--;)o.push(s);c.push(o)}return c},round(r,n){n=n||[];const i=n.length>0?n[0]:0,s=n.length>1?n[1]:"common";if(r=parseFloat(r),i&&!e.lib.is("Number",i))throw new e.Error("round filter expects precision to be a number");if(s==="common")return e.lib.round(r,i);if(!e.lib.is("Function",Math[s]))throw new e.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[s](r*10**i)/10**i},spaceless(r){return r.replace(/>\s+</g,"><").trim()}},e.filter=function(r,n,i){const s=this;if(!e.filters[r])throw new e.Error("Unable to find filter "+r);return e.filters[r].call(s,n,i)},e.filter.extend=function(r,n){e.filters[r]=n},e}),_t}var St={exports:{}},fn;function Zo(){return fn||(fn=1,function(e){e.exports=function(t){const r='Template "{name}" is not defined.';return t.functions={range(n,i,s){const o=[];let a,c;const h=s||1;let l=!1;if(!isNaN(n)&&!isNaN(i)?(a=parseInt(n,10),c=parseInt(i,10)):isNaN(n)&&isNaN(i)?(l=!0,a=n.charCodeAt(0),c=i.charCodeAt(0)):(a=isNaN(n)?0:n,c=isNaN(i)?0:i),!(a>c))for(;a<=c;)o.push(l?String.fromCharCode(a):a),a+=h;else for(;a>=c;)o.push(l?String.fromCharCode(a):a),a-=h;return o},cycle(n,i){const s=i%n.length;return n[s]},dump(...n){const i=[...n],s=this,o=`
`,a="  ";let c=0,h="";const l=function(m){let x="";for(;m>0;)m--,x+=a;return x},f=function(m){h+=l(c),typeof m=="object"?y(m):typeof m=="function"?h+="function()"+o:typeof m=="string"?h+="string("+m.length+') "'+m+'"'+o:typeof m=="number"?h+="number("+m+")"+o:typeof m=="boolean"&&(h+="bool("+m+")"+o)},y=function(m){let x;if(m===null)h+="NULL"+o;else if(m===void 0)h+="undefined"+o;else if(typeof m=="object"){h+=l(c)+typeof m,c++,h+="("+function(v){let A=0,B;for(B in v)Object.hasOwnProperty.call(v,B)&&A++;return A}(m)+") {"+o;for(x in m)Object.hasOwnProperty.call(m,x)&&(h+=l(c)+"["+x+"]=> "+o,f(m[x]));c--,h+=l(c)+"}"+o}else f(m)};return i.length===0&&i.push(s.context),i.forEach(m=>{y(m)}),h},date(n){let i;if(n==null||n==="")i=new Date;else if(t.lib.is("Date",n))i=n;else if(t.lib.is("String",n))n.match(/^\d+$/)?i=new Date(n*1e3):i=new Date(t.lib.strtotime(n)*1e3);else if(t.lib.is("Number",n))i=new Date(n*1e3);else throw new t.Error("Unable to parse date "+n);return i},block(n){const i=this,s=i.getBlock(n);if(s!==void 0)return s.render(i,i.context)},parent(){const n=this;return n.getBlock(n.getNestingStackToken(t.logic.type.block).blockName,!0).render(n,n.context)},attribute(n,i,s){return t.lib.is("Object",n)&&Object.hasOwnProperty.call(n,i)?typeof n[i]=="function"?n[i].apply(void 0,s):n[i]:n&&n[i]||void 0},max(n,...i){return t.lib.is("Object",n)?(delete n._keys,t.lib.max(n)):Reflect.apply(t.lib.max,null,[n,...i])},min(n,...i){return t.lib.is("Object",n)?(delete n._keys,t.lib.min(n)):Reflect.apply(t.lib.min,null,[n,...i])},template_from_string(n){const i=this;return n===void 0&&(n=""),t.Templates.parsers.twig({options:i.template.options,data:n})},random(n){function s(o){const a=Math.floor(Math.random()*2147483648),c=Math.min.call(null,0,o),h=Math.max.call(null,0,o);return c+Math.floor((h-c+1)*a/2147483648)}if(t.lib.is("Number",n))return s(n);if(t.lib.is("String",n))return n.charAt(s(n.length-1));if(t.lib.is("Array",n))return n[s(n.length-1)];if(t.lib.is("Object",n)){const o=Object.keys(n);return n[o[s(o.length-1)]]}return s(2147483647)},source(n,i){const s=this,{namespaces:o}=s.template.options;let a,c=!1;const h=typeof window>"u";let l,f=n;o&&typeof o=="object"&&(f=t.path.expandNamespace(o,f)),h?l="fs":l="ajax";const y={id:n,path:f,method:l,parser:"source",async:!1,fetchTemplateSource:!0};typeof i>"u"&&(i=!1);try{a=t.Templates.loadRemote(n,y),typeof a>"u"||a===null?a="":c=!0}catch(m){t.log.debug("Twig.functions.source: ","Problem loading template  ",m)}return!c&&!i?r.replace("{name}",n):a}},t._function=function(n,i,s){if(!t.functions[n])throw new t.Error("Unable to find function "+n);return t.functions[n](i,s)},t._function.extend=function(n,i){t.functions[n]=i},t}}(St)),St.exports}var Rt,hn;function Ji(){return hn||(hn=1,Rt=function(){var t=/%%|%(?:(\d+)\$)?((?:[-+#0 ]|'[\s\S])*)(\d+)?(?:\.(\d*))?([\s\S])/g,r=arguments,n=0,i=r[n++],s=function(f,y,m,x){m||(m=" ");var v=f.length>=y?"":new Array(1+y-f.length>>>0).join(m);return x?f+v:v+f},o=function(f,y,m,x,v){var A=x-f.length;return A>0&&(!m&&v==="0"?f=[f.slice(0,y.length),s("",A,"0",!0),f.slice(y.length)].join(""):f=s(f,x,v,m)),f},a=function(f,y,m,x,v,A){var B=f>>>0;return f=s(B.toString(y),v||0,"0",!1),o(f,"",m,x,A)},c=function(f,y,m,x,v){return x!=null&&(f=f.slice(0,x)),o(f,"",y,m,v)},h=function(f,y,m,x,v,A){var B=void 0,M=void 0,$=void 0,W=void 0,F=void 0;if(f==="%%")return"%";var j=" ",S=!1,L="",D=void 0,J=void 0;for(D=0,J=m.length;D<J;D++)switch(m.charAt(D)){case" ":case"0":j=m.charAt(D);break;case"+":L="+";break;case"-":S=!0;break;case"'":D+1<J&&(j=m.charAt(D+1),D++);break}if(x?x=+x:x=0,!isFinite(x))throw new Error("Width must be finite");if(v?v=+v:v=A==="d"?0:"fFeE".indexOf(A)>-1?6:void 0,y&&+y==0)throw new Error("Argument number must be greater than zero");if(y&&+y>=r.length)throw new Error("Too few arguments");switch(F=y?r[+y]:r[n++],A){case"%":return"%";case"s":return c(F+"",S,x,v,j);case"c":return c(String.fromCharCode(+F),S,x,v,j);case"b":return a(F,2,S,x,v,j);case"o":return a(F,8,S,x,v,j);case"x":return a(F,16,S,x,v,j);case"X":return a(F,16,S,x,v,j).toUpperCase();case"u":return a(F,10,S,x,v,j);case"i":case"d":return B=+F||0,B=Math.round(B-B%1),M=B<0?"-":L,F=M+s(String(Math.abs(B)),v,"0",!1),S&&j==="0"&&(j=" "),o(F,M,S,x,j);case"e":case"E":case"f":case"F":case"g":case"G":return B=+F,M=B<0?"-":L,$=["toExponential","toFixed","toPrecision"]["efg".indexOf(A.toLowerCase())],W=["toString","toUpperCase"]["eEfFgG".indexOf(A)%2],F=M+Math.abs(B)[$](v),o(F,M,S,x,j)[W]();default:return""}};try{return i.replace(t,h)}catch{return!1}}),Rt}var At,dn;function Qo(){return dn||(dn=1,At=function(t,r){var n=Ji();return n.apply(this,[t].concat(r))}),At}var wt,yn;function Yi(){if(yn)return wt;yn=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return wt=function(r){var n=typeof r>"u"?"undefined":e(r);switch(n){case"number":return isNaN(r)||!isFinite(r)?0:r<0?Math.ceil(r):Math.floor(r);case"string":return parseInt(r,10)||0;case"boolean":default:return+!!r}},wt}var Pt,mn;function ea(){if(mn)return Pt;mn=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Pt=function(r){var n=typeof r>"u"?"undefined":e(r);switch(n){case"number":return r;case"string":return parseFloat(r)||0;case"boolean":default:return Yi()(r)}},Pt}var Ot,gn;function ta(){if(gn)return Ot;gn=1;function e(t,r){var n=Math.floor(Math.abs(t)+.5);return(r==="PHP_ROUND_HALF_DOWN"&&t===n-.5||r==="PHP_ROUND_HALF_EVEN"&&t===.5+2*Math.floor(n/2)||r==="PHP_ROUND_HALF_ODD"&&t===.5+2*Math.floor(n/2)-1)&&(n-=1),t<0?-n:n}return Ot=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"PHP_ROUND_HALF_UP",s=ea(),o=Yi(),a=void 0;if(r=s(r),n=o(n),a=Math.pow(10,n),isNaN(r)||!isFinite(r)||Math.trunc(r)===r&&n>=0)return r;var c=14-Math.floor(Math.log10(Math.abs(r)));return c>n&&c-15<n?(r=e(r*Math.pow(10,c),i),r/=Math.pow(10,Math.abs(n-c))):r*=a,r=e(r,i),r/a},Ot}var kt,xn;function ra(){if(xn)return kt;xn=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return kt=function(){var r=void 0,n=void 0,i=0,s=0,o=arguments,a=o.length,c=function(f){if(Object.prototype.toString.call(f)==="[object Array]")return f;var y=[];for(var m in f)f.hasOwnProperty(m)&&y.push(f[m]);return y},h=function l(f,y){var m=0,x=0,v=0,A=0,B=0;if(f===y)return 0;if((typeof f>"u"?"undefined":e(f))==="object"){if((typeof y>"u"?"undefined":e(y))==="object"){if(f=c(f),y=c(y),B=f.length,A=y.length,A>B)return 1;if(A<B)return-1;for(m=0,x=B;m<x;++m){if(v=l(f[m],y[m]),v===1)return 1;if(v===-1)return-1}return 0}return-1}else{if((typeof y>"u"?"undefined":e(y))==="object")return 1;if(isNaN(y)&&!isNaN(f))return f===0?0:f<0?1:-1;if(isNaN(f)&&!isNaN(y))return y===0?0:y>0?1:-1}return y===f?0:y>f?1:-1};if(a===0)throw new Error("At least one value should be passed to max()");if(a===1){if(e(o[0])==="object")r=c(o[0]);else throw new Error("Wrong parameter count for max()");if(r.length===0)throw new Error("Array must contain at least one element for max()")}else r=o;for(n=r[0],i=1,s=r.length;i<s;++i)h(n,r[i])===1&&(n=r[i]);return n},kt}var Ct,bn;function na(){if(bn)return Ct;bn=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Ct=function(){var r=void 0,n=void 0,i=0,s=0,o=arguments,a=o.length,c=function(f){if(Object.prototype.toString.call(f)==="[object Array]")return f;var y=[];for(var m in f)f.hasOwnProperty(m)&&y.push(f[m]);return y},h=function l(f,y){var m=0,x=0,v=0,A=0,B=0;if(f===y)return 0;if((typeof f>"u"?"undefined":e(f))==="object"){if((typeof y>"u"?"undefined":e(y))==="object"){if(f=c(f),y=c(y),B=f.length,A=y.length,A>B)return 1;if(A<B)return-1;for(m=0,x=B;m<x;++m){if(v=l(f[m],y[m]),v===1)return 1;if(v===-1)return-1}return 0}return-1}else{if((typeof y>"u"?"undefined":e(y))==="object")return 1;if(isNaN(y)&&!isNaN(f))return f===0?0:f<0?1:-1;if(isNaN(f)&&!isNaN(y))return y===0?0:y>0?1:-1}return y===f?0:y>f?1:-1};if(a===0)throw new Error("At least one value should be passed to min()");if(a===1){if(e(o[0])==="object")r=c(o[0]);else throw new Error("Wrong parameter count for min()");if(r.length===0)throw new Error("Array must contain at least one element for min()")}else r=o;for(n=r[0],i=1,s=r.length;i<s;++i)h(n,r[i])===-1&&(n=r[i]);return n},Ct}var Ft,vn;function ia(){if(vn)return Ft;vn=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return Ft=function(r){var n=typeof r>"u"?"undefined":e(r);switch(n){case"boolean":return r?"1":"";case"string":return r;case"number":return isNaN(r)?"NAN":isFinite(r)?r+"":(r<0?"-":"")+"INF";case"undefined":return"";case"object":return Array.isArray(r)?"Array":r!==null?"Object":"";case"function":default:throw new Error("Unsupported value type")}},Ft}var It,En;function sa(){return En||(En=1,It=function(t,r){var n=ia();r=(((r||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var i=/<\/?([a-z0-9]*)\b[^>]*>?/gi,s=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,o=n(t);for(o=o.substring(o.length-1)==="<"?o.substring(0,o.length-1):o;;){var a=o;if(o=a.replace(s,"").replace(i,function(c,h){return r.indexOf("<"+h.toLowerCase()+">")>-1?c:""}),a===o)return o}}),It}var Bt,_n;function oa(){if(_n)return Bt;_n=1;var e="[ \\t]+",t="[ \\t]*",r="(?:([ap])\\.?m\\.?([\\t ]|$))",n="(2[0-4]|[01]?[0-9])",i="([01][0-9]|2[0-4])",s="(0?[1-9]|1[0-2])",o="([0-5]?[0-9])",a="([0-5][0-9])",c="(60|[0-5]?[0-9])",h="(60|[0-5][0-9])",l="(?:\\.([0-9]+))",f="sunday|monday|tuesday|wednesday|thursday|friday|saturday",y="sun|mon|tue|wed|thu|fri|sat",m=f+"|"+y+"|weekdays?",x="first|second|third|fourth|fifth|sixth|seventh|eighth?|ninth|tenth|eleventh|twelfth",v="next|last|previous|this",A="(?:second|sec|minute|min|hour|day|fortnight|forthnight|month|year)s?|weeks|"+m,B="([0-9]{1,4})",M="([0-9]{2})",$="([0-9]{4})",W="([+-]?[0-9]{4})",F="(1[0-2]|0?[0-9])",j="(0[0-9]|1[0-2])",S="(?:(3[01]|[0-2]?[0-9])(?:st|nd|rd|th)?)",L="(0[0-9]|[1-2][0-9]|3[01])",D="january|february|march|april|may|june|july|august|september|october|november|december",J="jan|feb|mar|apr|may|jun|jul|aug|sept?|oct|nov|dec",T="i[vx]|vi{0,3}|xi{0,2}|i{1,3}",re="("+D+"|"+J+"|"+T+")",oe="((?:GMT)?([+-])"+n+":?"+o+"?)",ie="\\(?([a-zA-Z]{1,6})\\)?",pe="(00[1-9]|0[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6])",ue="(0[1-9]|[1-4][0-9]|5[0-3])",fe=re+"[ .\\t-]*"+S+"[,.stndrh\\t ]*";function ae(k,C){switch(C=C&&C.toLowerCase(),C){case"a":k+=k===12?-12:0;break;case"p":k+=k!==12?12:0;break}return k}function ge(k){var C=+k;return k.length<4&&C<100&&(C+=C<70?2e3:1900),C}function se(k){return{jan:0,january:0,i:0,feb:1,february:1,ii:1,mar:2,march:2,iii:2,apr:3,april:3,iv:3,may:4,v:4,jun:5,june:5,vi:5,jul:6,july:6,vii:6,aug:7,august:7,viii:7,sep:8,sept:8,september:8,ix:8,oct:9,october:9,x:9,nov:10,november:10,xi:10,dec:11,december:11,xii:11}[k.toLowerCase()]}function _(k){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R={mon:1,monday:1,tue:2,tuesday:2,wed:3,wednesday:3,thu:4,thursday:4,fri:5,friday:5,sat:6,saturday:6,sun:0,sunday:0};return R[k.toLowerCase()]||C}function q(k){var C={last:-1,previous:-1,this:0,first:1,next:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eight:8,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12},R={this:1},P=k.toLowerCase();return{amount:C[P],behavior:R[P]||0}}function z(k,C){var R=/(?:GMT)?([+-])(\d+)(:?)(\d{0,2})/i;if(k=k&&k.match(R),!k)return C;var P=k[1]==="-"?-1:1,I=+k[2],N=+k[4];return!k[4]&&!k[3]&&(N=Math.floor(I%100),I=Math.floor(I/100)),P*(I*60+N)*60}var H={acdt:37800,acst:34200,addt:-7200,adt:-10800,aedt:39600,aest:36e3,ahdt:-32400,ahst:-36e3,akdt:-28800,akst:-32400,amt:-13840,apt:-10800,ast:-14400,awdt:32400,awst:28800,awt:-10800,bdst:7200,bdt:-36e3,bmt:-14309,bst:3600,cast:34200,cat:7200,cddt:-14400,cdt:-18e3,cemt:10800,cest:7200,cet:3600,cmt:-15408,cpt:-18e3,cst:-21600,cwt:-18e3,chst:36e3,dmt:-1521,eat:10800,eddt:-10800,edt:-14400,eest:10800,eet:7200,emt:-26248,ept:-14400,est:-18e3,ewt:-14400,ffmt:-14660,fmt:-4056,gdt:39600,gmt:0,gst:36e3,hdt:-34200,hkst:32400,hkt:28800,hmt:-19776,hpt:-34200,hst:-36e3,hwt:-34200,iddt:14400,idt:10800,imt:25025,ist:7200,jdt:36e3,jmt:8440,jst:32400,kdt:36e3,kmt:5736,kst:30600,lst:9394,mddt:-18e3,mdst:16279,mdt:-21600,mest:7200,met:3600,mmt:9017,mpt:-21600,msd:14400,msk:10800,mst:-25200,mwt:-21600,nddt:-5400,ndt:-9052,npt:-9e3,nst:-12600,nwt:-9e3,nzdt:46800,nzmt:41400,nzst:43200,pddt:-21600,pdt:-25200,pkst:21600,pkt:18e3,plmt:25590,pmt:-13236,ppmt:-17340,ppt:-25200,pst:-28800,pwt:-25200,qmt:-18840,rmt:5794,sast:7200,sdmt:-16800,sjmt:-20173,smt:-13884,sst:-39600,tbmt:10751,tmt:12344,uct:0,utc:0,wast:7200,wat:3600,wemt:7200,west:3600,wet:0,wib:25200,wita:28800,wit:32400,wmt:5040,yddt:-25200,ydt:-28800,ypt:-28800,yst:-32400,ywt:-28800,a:3600,b:7200,c:10800,d:14400,e:18e3,f:21600,g:25200,h:28800,i:32400,k:36e3,l:39600,m:43200,n:-3600,o:-7200,p:-10800,q:-14400,r:-18e3,s:-21600,t:-25200,u:-28800,v:-32400,w:-36e3,x:-39600,y:-43200,z:0},O={yesterday:{regex:/^yesterday/i,name:"yesterday",callback:function(){return this.rd-=1,this.resetTime()}},now:{regex:/^now/i,name:"now"},noon:{regex:/^noon/i,name:"noon",callback:function(){return this.resetTime()&&this.time(12,0,0,0)}},midnightOrToday:{regex:/^(midnight|today)/i,name:"midnight | today",callback:function(){return this.resetTime()}},tomorrow:{regex:/^tomorrow/i,name:"tomorrow",callback:function(){return this.rd+=1,this.resetTime()}},timestamp:{regex:/^@(-?\d+)/i,name:"timestamp",callback:function(C,R){return this.rs+=+R,this.y=1970,this.m=0,this.d=1,this.dates=0,this.resetTime()&&this.zone(0)}},firstOrLastDay:{regex:/^(first|last) day of/i,name:"firstdayof | lastdayof",callback:function(C,R){R.toLowerCase()==="first"?this.firstOrLastDayOfMonth=1:this.firstOrLastDayOfMonth=-1}},backOrFrontOf:{regex:RegExp("^(back|front) of "+n+t+r+"?","i"),name:"backof | frontof",callback:function(C,R,P,I){var N=R.toLowerCase()==="back",V=+P,X=15;return N||(V-=1,X=45),V=ae(V,I),this.resetTime()&&this.time(V,X,0,0)}},mssqltime:{regex:RegExp("^"+s+":"+a+":"+h+"[:.]([0-9]+)"+r,"i"),name:"mssqltime",callback:function(C,R,P,I,N,V){return this.time(ae(+R,V),+P,+I,+N.substr(0,3))}},oracledate:{regex:/^(\d{2})-([A-Z]{3})-(\d{2})$/i,name:"d-M-y",callback:function(C,R,P,I){var N={JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}[P.toUpperCase()];return this.ymd(2e3+parseInt(I,10),N,parseInt(R,10))}},timeLong12:{regex:RegExp("^"+s+"[:.]"+o+"[:.]"+h+t+r,"i"),name:"timelong12",callback:function(C,R,P,I,N){return this.time(ae(+R,N),+P,+I,0)}},timeShort12:{regex:RegExp("^"+s+"[:.]"+a+t+r,"i"),name:"timeshort12",callback:function(C,R,P,I){return this.time(ae(+R,I),+P,0,0)}},timeTiny12:{regex:RegExp("^"+s+t+r,"i"),name:"timetiny12",callback:function(C,R,P){return this.time(ae(+R,P),0,0,0)}},soap:{regex:RegExp("^"+$+"-"+j+"-"+L+"T"+i+":"+a+":"+h+l+oe+"?","i"),name:"soap",callback:function(C,R,P,I,N,V,X,we,xe){return this.ymd(+R,P-1,+I)&&this.time(+N,+V,+X,+we.substr(0,3))&&this.zone(z(xe))}},wddx:{regex:RegExp("^"+$+"-"+F+"-"+S+"T"+n+":"+o+":"+c),name:"wddx",callback:function(C,R,P,I,N,V,X){return this.ymd(+R,P-1,+I)&&this.time(+N,+V,+X,0)}},exif:{regex:RegExp("^"+$+":"+j+":"+L+" "+i+":"+a+":"+h,"i"),name:"exif",callback:function(C,R,P,I,N,V,X){return this.ymd(+R,P-1,+I)&&this.time(+N,+V,+X,0)}},xmlRpc:{regex:RegExp("^"+$+j+L+"T"+n+":"+a+":"+h),name:"xmlrpc",callback:function(C,R,P,I,N,V,X){return this.ymd(+R,P-1,+I)&&this.time(+N,+V,+X,0)}},xmlRpcNoColon:{regex:RegExp("^"+$+j+L+"[Tt]"+n+a+h),name:"xmlrpcnocolon",callback:function(C,R,P,I,N,V,X){return this.ymd(+R,P-1,+I)&&this.time(+N,+V,+X,0)}},clf:{regex:RegExp("^"+S+"/("+J+")/"+$+":"+i+":"+a+":"+h+e+oe,"i"),name:"clf",callback:function(C,R,P,I,N,V,X,we){return this.ymd(+I,se(P),+R)&&this.time(+N,+V,+X,0)&&this.zone(z(we))}},iso8601long:{regex:RegExp("^t?"+n+"[:.]"+o+"[:.]"+c+l,"i"),name:"iso8601long",callback:function(C,R,P,I,N){return this.time(+R,+P,+I,+N.substr(0,3))}},dateTextual:{regex:RegExp("^"+re+"[ .\\t-]*"+S+"[,.stndrh\\t ]+"+B,"i"),name:"datetextual",callback:function(C,R,P,I){return this.ymd(ge(I),se(R),+P)}},pointedDate4:{regex:RegExp("^"+S+"[.\\t-]"+F+"[.-]"+$),name:"pointeddate4",callback:function(C,R,P,I){return this.ymd(+I,P-1,+R)}},pointedDate2:{regex:RegExp("^"+S+"[.\\t]"+F+"\\."+M),name:"pointeddate2",callback:function(C,R,P,I){return this.ymd(ge(I),P-1,+R)}},timeLong24:{regex:RegExp("^t?"+n+"[:.]"+o+"[:.]"+c),name:"timelong24",callback:function(C,R,P,I){return this.time(+R,+P,+I,0)}},dateNoColon:{regex:RegExp("^"+$+j+L),name:"datenocolon",callback:function(C,R,P,I){return this.ymd(+R,P-1,+I)}},pgydotd:{regex:RegExp("^"+$+"\\.?"+pe),name:"pgydotd",callback:function(C,R,P){return this.ymd(+R,0,+P)}},timeShort24:{regex:RegExp("^t?"+n+"[:.]"+o,"i"),name:"timeshort24",callback:function(C,R,P){return this.time(+R,+P,0,0)}},iso8601noColon:{regex:RegExp("^t?"+i+a+h,"i"),name:"iso8601nocolon",callback:function(C,R,P,I){return this.time(+R,+P,+I,0)}},iso8601dateSlash:{regex:RegExp("^"+$+"/"+j+"/"+L+"/"),name:"iso8601dateslash",callback:function(C,R,P,I){return this.ymd(+R,P-1,+I)}},dateSlash:{regex:RegExp("^"+$+"/"+F+"/"+S),name:"dateslash",callback:function(C,R,P,I){return this.ymd(+R,P-1,+I)}},american:{regex:RegExp("^"+F+"/"+S+"/"+B),name:"american",callback:function(C,R,P,I){return this.ymd(ge(I),R-1,+P)}},americanShort:{regex:RegExp("^"+F+"/"+S),name:"americanshort",callback:function(C,R,P){return this.ymd(this.y,R-1,+P)}},gnuDateShortOrIso8601date2:{regex:RegExp("^"+B+"-"+F+"-"+S),name:"gnudateshort | iso8601date2",callback:function(C,R,P,I){return this.ymd(ge(R),P-1,+I)}},iso8601date4:{regex:RegExp("^"+W+"-"+j+"-"+L),name:"iso8601date4",callback:function(C,R,P,I){return this.ymd(+R,P-1,+I)}},gnuNoColon:{regex:RegExp("^t?"+i+a,"i"),name:"gnunocolon",callback:function(C,R,P){switch(this.times){case 0:return this.time(+R,+P,0,this.f);case 1:return this.y=R*100+ +P,this.times++,!0;default:return!1}}},gnuDateShorter:{regex:RegExp("^"+$+"-"+F),name:"gnudateshorter",callback:function(C,R,P){return this.ymd(+R,P-1,1)}},pgTextReverse:{regex:RegExp("^(\\d{3,4}|[4-9]\\d|3[2-9])-("+J+")-"+L,"i"),name:"pgtextreverse",callback:function(C,R,P,I){return this.ymd(ge(R),se(P),+I)}},dateFull:{regex:RegExp("^"+S+"[ \\t.-]*"+re+"[ \\t.-]*"+B,"i"),name:"datefull",callback:function(C,R,P,I){return this.ymd(ge(I),se(P),+R)}},dateNoDay:{regex:RegExp("^"+re+"[ .\\t-]*"+$,"i"),name:"datenoday",callback:function(C,R,P){return this.ymd(+P,se(R),1)}},dateNoDayRev:{regex:RegExp("^"+$+"[ .\\t-]*"+re,"i"),name:"datenodayrev",callback:function(C,R,P){return this.ymd(+R,se(P),1)}},pgTextShort:{regex:RegExp("^("+J+")-"+L+"-"+B,"i"),name:"pgtextshort",callback:function(C,R,P,I){return this.ymd(ge(I),se(R),+P)}},dateNoYear:{regex:RegExp("^"+fe,"i"),name:"datenoyear",callback:function(C,R,P){return this.ymd(this.y,se(R),+P)}},dateNoYearRev:{regex:RegExp("^"+S+"[ .\\t-]*"+re,"i"),name:"datenoyearrev",callback:function(C,R,P){return this.ymd(this.y,se(P),+R)}},isoWeekDay:{regex:RegExp("^"+$+"-?W"+ue+"(?:-?([0-7]))?"),name:"isoweekday | isoweek",callback:function(C,R,P,I){if(I=I?+I:1,!this.ymd(+R,0,1))return!1;var N=new Date(this.y,this.m,this.d).getDay();N=0-(N>4?N-7:N),this.rd+=N+(P-1)*7+I}},relativeText:{regex:RegExp("^("+x+"|"+v+")"+e+"("+A+")","i"),name:"relativetext",callback:function(C,R,P){var I=q(R),N=I.amount;switch(P.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=N;break;case"min":case"mins":case"minute":case"minutes":this.ri+=N;break;case"hour":case"hours":this.rh+=N;break;case"day":case"days":this.rd+=N;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=N*14;break;case"week":case"weeks":this.rd+=N*7;break;case"month":case"months":this.rm+=N;break;case"year":case"years":this.ry+=N;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=_(P,7),this.weekdayBehavior=1,this.rd+=(N>0?N-1:N)*7;break}}},relative:{regex:RegExp("^([+-]*)[ \\t]*(\\d+)"+t+"("+A+"|week)","i"),name:"relative",callback:function(C,R,P,I){var N=R.replace(/[^-]/g,"").length,V=+P*Math.pow(-1,N);switch(I.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=V;break;case"min":case"mins":case"minute":case"minutes":this.ri+=V;break;case"hour":case"hours":this.rh+=V;break;case"day":case"days":this.rd+=V;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=V*14;break;case"week":case"weeks":this.rd+=V*7;break;case"month":case"months":this.rm+=V;break;case"year":case"years":this.ry+=V;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=_(I,7),this.weekdayBehavior=1,this.rd+=(V>0?V-1:V)*7;break}}},dayText:{regex:RegExp("^("+m+")","i"),name:"daytext",callback:function(C,R){this.resetTime(),this.weekday=_(R,0),this.weekdayBehavior!==2&&(this.weekdayBehavior=1)}},relativeTextWeek:{regex:RegExp("^("+v+")"+e+"week","i"),name:"relativetextweek",callback:function(C,R){switch(this.weekdayBehavior=2,R.toLowerCase()){case"this":this.rd+=0;break;case"next":this.rd+=7;break;case"last":case"previous":this.rd-=7;break}isNaN(this.weekday)&&(this.weekday=1)}},monthFullOrMonthAbbr:{regex:RegExp("^("+D+"|"+J+")","i"),name:"monthfull | monthabbr",callback:function(C,R){return this.ymd(this.y,se(R),this.d)}},tzCorrection:{regex:RegExp("^"+oe,"i"),name:"tzcorrection",callback:function(C){return this.zone(z(C))}},tzAbbr:{regex:RegExp("^"+ie),name:"tzabbr",callback:function(C,R){var P=H[R.toLowerCase()];return isNaN(P)?!1:this.zone(P)}},ago:{regex:/^ago/i,name:"ago",callback:function(){this.ry=-this.ry,this.rm=-this.rm,this.rd=-this.rd,this.rh=-this.rh,this.ri=-this.ri,this.rs=-this.rs,this.rf=-this.rf}},year4:{regex:RegExp("^"+$),name:"year4",callback:function(C,R){return this.y=+R,!0}},whitespace:{regex:/^[ .,\t]+/,name:"whitespace"},dateShortWithTimeLong:{regex:RegExp("^"+fe+"t?"+n+"[:.]"+o+"[:.]"+c,"i"),name:"dateshortwithtimelong",callback:function(C,R,P,I,N,V){return this.ymd(this.y,se(R),+P)&&this.time(+I,+N,+V,0)}},dateShortWithTimeLong12:{regex:RegExp("^"+fe+s+"[:.]"+o+"[:.]"+h+t+r,"i"),name:"dateshortwithtimelong12",callback:function(C,R,P,I,N,V,X){return this.ymd(this.y,se(R),+P)&&this.time(ae(+I,X),+N,+V,0)}},dateShortWithTimeShort:{regex:RegExp("^"+fe+"t?"+n+"[:.]"+o,"i"),name:"dateshortwithtimeshort",callback:function(C,R,P,I,N){return this.ymd(this.y,se(R),+P)&&this.time(+I,+N,0,0)}},dateShortWithTimeShort12:{regex:RegExp("^"+fe+s+"[:.]"+a+t+r,"i"),name:"dateshortwithtimeshort12",callback:function(C,R,P,I,N,V){return this.ymd(this.y,se(R),+P)&&this.time(ae(+I,V),+N,0,0)}}},te={y:NaN,m:NaN,d:NaN,h:NaN,i:NaN,s:NaN,f:NaN,ry:0,rm:0,rd:0,rh:0,ri:0,rs:0,rf:0,weekday:NaN,weekdayBehavior:0,firstOrLastDayOfMonth:0,z:NaN,dates:0,times:0,zones:0,ymd:function(C,R,P){return this.dates>0?!1:(this.dates++,this.y=C,this.m=R,this.d=P,!0)},time:function(C,R,P,I){return this.times>0?!1:(this.times++,this.h=C,this.i=R,this.s=P,this.f=I,!0)},resetTime:function(){return this.h=0,this.i=0,this.s=0,this.f=0,this.times=0,!0},zone:function(C){return this.zones<=1?(this.zones++,this.z=C,!0):!1},toDate:function(C){switch(this.dates&&!this.times&&(this.h=this.i=this.s=this.f=0),isNaN(this.y)&&(this.y=C.getFullYear()),isNaN(this.m)&&(this.m=C.getMonth()),isNaN(this.d)&&(this.d=C.getDate()),isNaN(this.h)&&(this.h=C.getHours()),isNaN(this.i)&&(this.i=C.getMinutes()),isNaN(this.s)&&(this.s=C.getSeconds()),isNaN(this.f)&&(this.f=C.getMilliseconds()),this.firstOrLastDayOfMonth){case 1:this.d=1;break;case-1:this.d=0,this.m+=1;break}if(!isNaN(this.weekday)){var R=new Date(C.getTime());R.setFullYear(this.y,this.m,this.d),R.setHours(this.h,this.i,this.s,this.f);var P=R.getDay();if(this.weekdayBehavior===2)P===0&&this.weekday!==0&&(this.weekday=-6),this.weekday===0&&P!==0&&(this.weekday=7),this.d-=P,this.d+=this.weekday;else{var I=this.weekday-P;(this.rd<0&&I<0||this.rd>=0&&I<=-this.weekdayBehavior)&&(I+=7),this.weekday>=0?this.d+=I:this.d-=7-(Math.abs(this.weekday)-P),this.weekday=NaN}}this.y+=this.ry,this.m+=this.rm,this.d+=this.rd,this.h+=this.rh,this.i+=this.ri,this.s+=this.rs,this.f+=this.rf,this.ry=this.rm=this.rd=0,this.rh=this.ri=this.rs=this.rf=0;var N=new Date(C.getTime());switch(N.setFullYear(this.y,this.m,this.d),N.setHours(this.h,this.i,this.s,this.f),this.firstOrLastDayOfMonth){case 1:N.setDate(1);break;case-1:N.setMonth(N.getMonth()+1,0);break}return!isNaN(this.z)&&N.getTimezoneOffset()!==this.z&&(N.setUTCFullYear(N.getFullYear(),N.getMonth(),N.getDate()),N.setUTCHours(N.getHours(),N.getMinutes(),N.getSeconds()-this.z,N.getMilliseconds())),N}};return Bt=function(C,R){R==null&&(R=Math.floor(Date.now()/1e3));for(var P=[O.yesterday,O.now,O.noon,O.midnightOrToday,O.tomorrow,O.timestamp,O.firstOrLastDay,O.backOrFrontOf,O.timeTiny12,O.timeShort12,O.timeLong12,O.mssqltime,O.oracledate,O.timeShort24,O.timeLong24,O.iso8601long,O.gnuNoColon,O.iso8601noColon,O.americanShort,O.american,O.iso8601date4,O.iso8601dateSlash,O.dateSlash,O.gnuDateShortOrIso8601date2,O.gnuDateShorter,O.dateFull,O.pointedDate4,O.pointedDate2,O.dateNoDay,O.dateNoDayRev,O.dateTextual,O.dateNoYear,O.dateNoYearRev,O.dateNoColon,O.xmlRpc,O.xmlRpcNoColon,O.soap,O.wddx,O.exif,O.pgydotd,O.isoWeekDay,O.pgTextShort,O.pgTextReverse,O.clf,O.year4,O.ago,O.dayText,O.relativeTextWeek,O.relativeText,O.monthFullOrMonthAbbr,O.tzCorrection,O.tzAbbr,O.dateShortWithTimeShort12,O.dateShortWithTimeLong12,O.dateShortWithTimeShort,O.dateShortWithTimeLong,O.relative,O.whitespace],I=Object.create(te);C.length;){for(var N=null,V=null,X=0,we=P.length;X<we;X++){var xe=P[X],Re=C.match(xe.regex);Re&&(!N||Re[0].length>N[0].length)&&(N=Re,V=xe)}if(!V||V.callback&&V.callback.apply(I,N)===!1)return!1;C=C.substr(N[0].length),V=null,N=null}return Math.floor(I.toDate(new Date(R*1e3))/1e3)},Bt}var Lt,Sn;function aa(){return Sn||(Sn=1,Lt=function(t,r){var n=void 0,i=void 0,s=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],o=/\\?(.?)/gi,a=function(f,y){return i[f]?i[f]():y},c=function(f,y){for(f=String(f);f.length<y;)f="0"+f;return f};i={d:function(){return c(i.j(),2)},D:function(){return i.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return s[i.w()]+"day"},N:function(){return i.w()||7},S:function(){var f=i.j(),y=f%10;return y<=3&&parseInt(f%100/10,10)===1&&(y=0),["st","nd","rd"][y-1]||"th"},w:function(){return n.getDay()},z:function(){var f=new Date(i.Y(),i.n()-1,i.j()),y=new Date(i.Y(),0,1);return Math.round((f-y)/864e5)},W:function(){var f=new Date(i.Y(),i.n()-1,i.j()-i.N()+3),y=new Date(f.getFullYear(),0,4);return c(1+Math.round((f-y)/864e5/7),2)},F:function(){return s[6+i.n()]},m:function(){return c(i.n(),2)},M:function(){return i.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(i.Y(),i.n(),0).getDate()},L:function(){var f=i.Y();return f%4===0&f%100!==0|f%400===0},o:function(){var f=i.n(),y=i.W(),m=i.Y();return m+(f===12&&y<9?1:f===1&&y>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return i.Y().toString().slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return i.a().toUpperCase()},B:function(){var f=n.getUTCHours()*3600,y=n.getUTCMinutes()*60,m=n.getUTCSeconds();return c(Math.floor((f+y+m+3600)/86.4)%1e3,3)},g:function(){return i.G()%12||12},G:function(){return n.getHours()},h:function(){return c(i.g(),2)},H:function(){return c(i.G(),2)},i:function(){return c(n.getMinutes(),2)},s:function(){return c(n.getSeconds(),2)},u:function(){return c(n.getMilliseconds()*1e3,6)},e:function(){var f="Not supported (see source code of date() for timezone on how to add support)";throw new Error(f)},I:function(){var f=new Date(i.Y(),0),y=Date.UTC(i.Y(),0),m=new Date(i.Y(),6),x=Date.UTC(i.Y(),6);return f-y!==m-x?1:0},O:function(){var f=n.getTimezoneOffset(),y=Math.abs(f);return(f>0?"-":"+")+c(Math.floor(y/60)*100+y%60,4)},P:function(){var f=i.O();return f.substr(0,3)+":"+f.substr(3,2)},T:function(){return"UTC"},Z:function(){return-n.getTimezoneOffset()*60},c:function(){return"Y-m-d\\TH:i:sP".replace(o,a)},r:function(){return"D, d M Y H:i:s O".replace(o,a)},U:function(){return n/1e3|0}};var h=function(f,y){return n=y===void 0?new Date:y instanceof Date?new Date(y):new Date(y*1e3),f.replace(o,a)};return h(t,r)}),Lt}var Nt,Rn;function ca(){return Rn||(Rn=1,Nt=function(t){return!(t===!1||t===0||t===0||t===""||t==="0"||Array.isArray(t)&&t.length===0||t==null)}),Nt}var jt,An;function ua(){return An||(An=1,jt=function(e){return e.lib={},e.lib.sprintf=Ji(),e.lib.vsprintf=Qo(),e.lib.round=ta(),e.lib.max=ra(),e.lib.min=na(),e.lib.stripTags=sa(),e.lib.strtotime=oa(),e.lib.date=aa(),e.lib.boolval=ca(),e.lib.is=function(t,r){if(typeof r>"u"||r===null)return!1;switch(t){case"Array":return Array.isArray(r);case"Date":return r instanceof Date;case"String":return typeof r=="string"||r instanceof String;case"Number":return typeof r=="number"||r instanceof Number;case"Function":return typeof r=="function";case"Object":return r instanceof Object;default:return!1}},e.lib.replaceAll=function(t,r,n){const i=typeof t=="string"?t:t.toString(),s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return i.replace(new RegExp(s,"g"),n)},e.lib.chunkArray=function(t,r){const n=[];let i=0;const s=t.length;if(r<1||!Array.isArray(t))return[];for(;i<s;)n.push(t.slice(i,i+=r));return n},e}),jt}var Dt,wn;function la(){return wn||(wn=1,Dt=function(e){e.Templates.registerLoader("ajax",function(t,r,n,i){let s;const{precompiled:o}=r,a=this.parsers[r.parser]||this.parser.twig;if(typeof XMLHttpRequest>"u")throw new e.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');const c=new XMLHttpRequest;return c.onreadystatechange=function(){let h=null;c.readyState===4&&(c.status===200||window.cordova&&c.status===0?(e.log.debug("Got template ",c.responseText),o===!0?h=JSON.parse(c.responseText):h=c.responseText,r.url=t,r.data=h,s=a.call(this,r),typeof n=="function"&&n(s)):typeof i=="function"&&i(c))},c.open("GET",t,!!r.async),c.overrideMimeType("text/plain"),c.send(),r.async?!0:s})}),Dt}const pa={},fa=Object.freeze(Object.defineProperty({__proto__:null,default:pa},Symbol.toStringTag,{value:"Module"})),ha=Ts(fa);var Mt,Pn;function Ki(){if(Pn)return Mt;Pn=1;function e(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function t(i,s){for(var o="",a=0,c=-1,h=0,l,f=0;f<=i.length;++f){if(f<i.length)l=i.charCodeAt(f);else{if(l===47)break;l=47}if(l===47){if(!(c===f-1||h===1))if(c!==f-1&&h===2){if(o.length<2||a!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var y=o.lastIndexOf("/");if(y!==o.length-1){y===-1?(o="",a=0):(o=o.slice(0,y),a=o.length-1-o.lastIndexOf("/")),c=f,h=0;continue}}else if(o.length===2||o.length===1){o="",a=0,c=f,h=0;continue}}s&&(o.length>0?o+="/..":o="..",a=2)}else o.length>0?o+="/"+i.slice(c+1,f):o=i.slice(c+1,f),a=f-c-1;c=f,h=0}else l===46&&h!==-1?++h:h=-1}return o}function r(i,s){var o=s.dir||s.root,a=s.base||(s.name||"")+(s.ext||"");return o?o===s.root?o+a:o+i+a:a}var n={resolve:function(){for(var s="",o=!1,a,c=arguments.length-1;c>=-1&&!o;c--){var h;c>=0?h=arguments[c]:(a===void 0&&(a=Nr.cwd()),h=a),e(h),h.length!==0&&(s=h+"/"+s,o=h.charCodeAt(0)===47)}return s=t(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var o=s.charCodeAt(0)===47,a=s.charCodeAt(s.length-1)===47;return s=t(s,!o),s.length===0&&!o&&(s="."),s.length>0&&a&&(s+="/"),o?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var a=arguments[o];e(a),a.length>0&&(s===void 0?s=a:s+="/"+a)}return s===void 0?".":n.normalize(s)},relative:function(s,o){if(e(s),e(o),s===o||(s=n.resolve(s),o=n.resolve(o),s===o))return"";for(var a=1;a<s.length&&s.charCodeAt(a)===47;++a);for(var c=s.length,h=c-a,l=1;l<o.length&&o.charCodeAt(l)===47;++l);for(var f=o.length,y=f-l,m=h<y?h:y,x=-1,v=0;v<=m;++v){if(v===m){if(y>m){if(o.charCodeAt(l+v)===47)return o.slice(l+v+1);if(v===0)return o.slice(l+v)}else h>m&&(s.charCodeAt(a+v)===47?x=v:v===0&&(x=0));break}var A=s.charCodeAt(a+v),B=o.charCodeAt(l+v);if(A!==B)break;A===47&&(x=v)}var M="";for(v=a+x+1;v<=c;++v)(v===c||s.charCodeAt(v)===47)&&(M.length===0?M+="..":M+="/..");return M.length>0?M+o.slice(l+x):(l+=x,o.charCodeAt(l)===47&&++l,o.slice(l))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var o=s.charCodeAt(0),a=o===47,c=-1,h=!0,l=s.length-1;l>=1;--l)if(o=s.charCodeAt(l),o===47){if(!h){c=l;break}}else h=!1;return c===-1?a?"/":".":a&&c===1?"//":s.slice(0,c)},basename:function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(s);var a=0,c=-1,h=!0,l;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var f=o.length-1,y=-1;for(l=s.length-1;l>=0;--l){var m=s.charCodeAt(l);if(m===47){if(!h){a=l+1;break}}else y===-1&&(h=!1,y=l+1),f>=0&&(m===o.charCodeAt(f)?--f===-1&&(c=l):(f=-1,c=y))}return a===c?c=y:c===-1&&(c=s.length),s.slice(a,c)}else{for(l=s.length-1;l>=0;--l)if(s.charCodeAt(l)===47){if(!h){a=l+1;break}}else c===-1&&(h=!1,c=l+1);return c===-1?"":s.slice(a,c)}},extname:function(s){e(s);for(var o=-1,a=0,c=-1,h=!0,l=0,f=s.length-1;f>=0;--f){var y=s.charCodeAt(f);if(y===47){if(!h){a=f+1;break}continue}c===-1&&(h=!1,c=f+1),y===46?o===-1?o=f:l!==1&&(l=1):o!==-1&&(l=-1)}return o===-1||c===-1||l===0||l===1&&o===c-1&&o===a+1?"":s.slice(o,c)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return r("/",s)},parse:function(s){e(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var a=s.charCodeAt(0),c=a===47,h;c?(o.root="/",h=1):h=0;for(var l=-1,f=0,y=-1,m=!0,x=s.length-1,v=0;x>=h;--x){if(a=s.charCodeAt(x),a===47){if(!m){f=x+1;break}continue}y===-1&&(m=!1,y=x+1),a===46?l===-1?l=x:v!==1&&(v=1):l!==-1&&(v=-1)}return l===-1||y===-1||v===0||v===1&&l===y-1&&l===f+1?y!==-1&&(f===0&&c?o.base=o.name=s.slice(1,y):o.base=o.name=s.slice(f,y)):(f===0&&c?(o.name=s.slice(1,l),o.base=s.slice(1,y)):(o.name=s.slice(f,l),o.base=s.slice(f,y)),o.ext=s.slice(l,y)),f>0?o.dir=s.slice(0,f-1):c&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,Mt=n,Mt}var Ut,On;function da(){return On||(On=1,Ut=function(e){let t,r;try{t=ha,r=Ki()}catch(n){console.warn("Missing fs and path modules. "+n)}e.Templates.registerLoader("fs",function(n,i,s,o){let a,c=null;const{precompiled:h}=i,l=this.parsers[i.parser]||this.parser.twig;if(!t||!r)throw new e.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');const f=function(y,m){if(y){typeof o=="function"&&o(y);return}h===!0&&(m=JSON.parse(m)),i.data=m,i.path=i.path||n,a=l.call(this,i),typeof s=="function"&&s(a)};if(i.path=i.path||n,i.async)return t.stat(i.path,(y,m)=>{if(y||!m.isFile()){typeof o=="function"&&o(new e.Error("Unable to find template file "+i.path));return}t.readFile(i.path,"utf8",f)}),!0;try{if(!t.statSync(i.path).isFile())throw new e.Error("Unable to find template file "+i.path)}catch(y){throw new e.Error("Unable to find template file "+i.path+". "+y)}return c=t.readFileSync(i.path,"utf8"),f(void 0,c),a})}),Ut}var $t,kn;function ya(){return kn||(kn=1,$t=function(e){for(e.logic={},e.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",apply:"Twig.logic.type.apply",endapply:"Twig.logic.type.endapply",do:"Twig.logic.type.do",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed",with:"Twig.logic.type.with",endwith:"Twig.logic.type.endwith",deprecated:"Twig.logic.type.deprecated"},e.logic.definitions=[{type:e.logic.type.if_,regex:/^if\s?([\s\S]+)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!0,compile(t){const r=t.match[1];return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,delete t.match,t},parse(t,r,n){const i=this;return e.expression.parseAsync.call(i,t.stack,r).then(s=>(n=!0,e.lib.boolval(s)?(n=!1,i.parseAsync(t.output,r)):"")).then(s=>({chain:n,output:s}))}},{type:e.logic.type.elseif,regex:/^elseif\s*([^\s].*)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!1,compile(t){const r=t.match[1];return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,delete t.match,t},parse(t,r,n){const i=this;return e.expression.parseAsync.call(i,t.stack,r).then(s=>n&&e.lib.boolval(s)?(n=!1,i.parseAsync(t.output,r)):"").then(s=>({chain:n,output:s}))}},{type:e.logic.type.else_,regex:/^else$/,next:[e.logic.type.endif,e.logic.type.endfor],open:!1,parse(t,r,n){let i=e.Promise.resolve("");return n&&(i=this.parseAsync(t.output,r)),i.then(o=>({chain:n,output:o}))}},{type:e.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:e.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([\S\s]+?)(?:\s+if\s+([^\s].*))?$/,next:[e.logic.type.else_,e.logic.type.endfor],open:!0,compile(t){const r=t.match[1],n=t.match[2],i=t.match[3];let s=null;if(t.keyVar=null,t.valueVar=null,r.includes(","))if(s=r.split(","),s.length===2)t.keyVar=s[0].trim(),t.valueVar=s[1].trim();else throw new e.Error("Invalid expression in for loop: "+r);else t.valueVar=r.trim();return t.expression=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,i&&(t.conditional=e.expression.compile.call(this,{type:e.expression.type.expression,value:i}).stack),delete t.match,t},parse(t,r,n){const i=[];let s,o=0,a;const c=this,{conditional:h}=t,l=function(y,m){const x=h!==void 0;return{index:y+1,index0:y,revindex:x?void 0:m-y,revindex0:x?void 0:m-y-1,first:y===0,last:x?void 0:y===m-1,length:x?void 0:m,parent:r}},f=function(y,m){const x={...r};return x[t.valueVar]=m,t.keyVar&&(x[t.keyVar]=y),x.loop=l(o,s),(h===void 0?e.Promise.resolve(!0):e.expression.parseAsync.call(c,h,x)).then(A=>{if(A)return c.parseAsync(t.output,x).then(B=>{i.push(B),o+=1})}).then(()=>{delete x.loop,delete x[t.valueVar],delete x[t.keyVar],e.merge(r,x,!0)})};return e.expression.parseAsync.call(c,t.expression,r).then(y=>{if(Array.isArray(y))return s=y.length,e.async.forEach(y,m=>f(o,m));if(e.lib.is("Object",y))return y._keys===void 0?a=Object.keys(y):a=y._keys,s=a.length,e.async.forEach(a,m=>{if(m!=="_keys")return f(m,y[m])})}).then(()=>(n=i.length===0,{chain:n,context:r,output:e.output.call(c.template,i)}))}},{type:e.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:e.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile(t){const r=t.match[1].trim(),n=t.match[2],i=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack;return t.key=r,t.expression=i,delete t.match,t},parse(t,r,n){const{key:i}=t,s=this;return e.expression.parseAsync.call(s,t.expression,r).then(o=>(o===r&&(o={...o}),r[i]=o,{chain:n,context:r}))}},{type:e.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[e.logic.type.endset],open:!0,compile(t){const r=t.match[1].trim();return t.key=r,delete t.match,t},parse(t,r,n){const i=this,{key:s}=t;return i.parseAsync(t.output,r).then(o=>(i.context[s]=o,r[s]=o,{chain:n,context:r}))}},{type:e.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:e.logic.type.filter,regex:/^filter\s+(.+)$/,next:[e.logic.type.endfilter],open:!0,compile(t){const r="|"+t.match[1].trim();return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,delete t.match,t},parse(t,r,n){const i=this;return i.parseAsync(t.output,r).then(s=>{const o=[{type:e.expression.type.string,value:s}].concat(t.stack);return e.expression.parseAsync.call(i,o,r)}).then(s=>({chain:n,output:s}))}},{type:e.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:e.logic.type.apply,regex:/^apply\s+(.+)$/,next:[e.logic.type.endapply],open:!0,compile(t){const r="|"+t.match[1].trim();return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,delete t.match,t},parse(t,r,n){const i=this;return i.parseAsync(t.output,r).then(s=>{const o=[{type:e.expression.type.string,value:s}].concat(t.stack);return e.expression.parseAsync.call(i,o,r)}).then(s=>({chain:n,output:s}))}},{type:e.logic.type.endapply,regex:/^endapply$/,next:[],open:!1},{type:e.logic.type.do,regex:/^do\s+([\S\s]+)$/,next:[],open:!0,compile(t){const r=t.match[1],n=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack;return t.expression=n,delete t.match,t},parse(t,r,n){const i=this;return e.expression.parseAsync.call(i,t.expression,r).then(()=>({chain:n,context:r}))}},{type:e.logic.type.block,regex:/^block\s+(\w+)$/,next:[e.logic.type.endblock],open:!0,compile(t){return t.blockName=t.match[1].trim(),delete t.match,t},parse(t,r,n){const i=this;let s=e.Promise.resolve();return i.template.blocks.defined[t.blockName]=new e.Block(i.template,t),(i.template.parentTemplate===null||i.template.parentTemplate instanceof e.Template)&&(s=i.getBlock(t.blockName).render(i,r)),s.then(o=>({chain:n,output:o}))}},{type:e.logic.type.shortblock,regex:/^block\s+(\w+)\s+(.+)$/,next:[],open:!0,compile(t){const r=this;return t.expression=t.match[2].trim(),t.output=e.expression.compile({type:e.expression.type.expression,value:t.expression}).stack,e.logic.handler[e.logic.type.block].compile.apply(r,[t])},parse(...t){const r=this;return e.logic.handler[e.logic.type.block].parse.apply(r,t)}},{type:e.logic.type.endblock,regex:/^endblock(?:\s+(\w+))?$/,next:[],open:!1},{type:e.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile(t){const r=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,t},parse(t,r,n){const i=this;return e.expression.parseAsync.call(i,t.stack,r).then(s=>{if(Array.isArray(s)){const o=s.reverse().reduce((a,c)=>{try{return{render:i.template.importFile(c),fileName:c}}catch{return a}},{render:null,fileName:null});o.fileName!==null&&(i.template.parentTemplate=o.fileName)}else i.template.parentTemplate=s;return{chain:n,output:""}})}},{type:e.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile(t){const r=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,t},parse(t,r,n){const i=this;return e.expression.parseAsync.call(i,t.stack,r).then(s=>{const o=i.template.importFile(s),a=new e.ParseState(o);return a.parseAsync(o.tokens).then(()=>{i.template.blocks.imported={...i.template.blocks.imported,...a.getBlocks()}})}).then(()=>({chain:n,output:""}))}},{type:e.logic.type.include,regex:/^include\s+(.+?)(?:\s|$)(ignore missing(?:\s|$))?(?:with\s+([\S\s]+?))?(?:\s|$)(only)?$/,next:[],open:!0,compile(t){const{match:r}=t,n=r[1].trim(),i=r[2]!==void 0,s=r[3],o=r[4]!==void 0&&r[4].length;return delete t.match,t.only=o,t.ignoreMissing=i,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,s!==void 0&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:s.trim()}).stack),t},parse(t,r,n){let i=t.only?{}:{...r};const{ignoreMissing:s}=t,o=this;let a=null;const c={chain:n,output:""};return typeof t.withStack>"u"?a=e.Promise.resolve():a=e.expression.parseAsync.call(o,t.withStack,r).then(h=>{i={...i,...h}}),a.then(()=>e.expression.parseAsync.call(o,t.stack,r)).then(h=>{let l;Array.isArray(h)?l=h:l=[h];const f=l.reduce((y,m)=>{if(y.render===null){if(m instanceof e.Template)return{render:m.renderAsync(i,{isInclude:!0}),lastError:null};try{return{render:o.template.importFile(m).renderAsync(i,{isInclude:!0}),lastError:null}}catch(x){return{render:null,lastError:x}}}return y},{render:null,lastError:null});if(f.render!==null)return f.render;if(f.render===null&&s)return"";throw f.lastError}).then(h=>(h!==""&&(c.output=h),c))}},{type:e.logic.type.spaceless,regex:/^spaceless$/,next:[e.logic.type.endspaceless],open:!0,parse(t,r,n){return this.parseAsync(t.output,r).then(s=>{const o=/>\s+</g;let a=s.replace(o,"><").trim();return a=new e.Markup(a),{chain:n,output:a}})}},{type:e.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:e.logic.type.macro,regex:/^macro\s+(\w+)\s*\(\s*((?:\w+(?:\s*=\s*([\s\S]+))?(?:,\s*)?)*)\s*\)$/,next:[e.logic.type.endmacro],open:!0,compile(t){const r=t.match[1],n=t.match[2].split(/\s*,\s*/),i=n.map(o=>o.split(/\s*=\s*/)[0]),s=i.length;if(s>1){const o={};for(let a=0;a<s;a++){const c=i[a];if(o[c])throw new e.Error("Duplicate arguments for parameter: "+c);o[c]=1}}return t.macroName=r,t.parameters=i,t.defaults=n.reduce(function(o,a){const c=a.split(/\s*=\s*/),h=c[0],l=c[1];return l?o[h]=e.expression.compile.call(this,{type:e.expression.type.expression,value:l}).stack:o[h]=void 0,o},{}),delete t.match,t},parse(t,r,n){const i=this;return i.macros[t.macroName]=function(...s){const o={...i.context,_self:i.macros};return e.async.forEach(t.parameters,function(a,c){return typeof s[c]<"u"?(o[a]=s[c],!0):typeof t.defaults[a]<"u"?e.expression.parseAsync.call(this,t.defaults[a],r).then(h=>(o[a]=h,e.Promise.resolve())):(o[a]=void 0,!0)}).then(()=>i.parseAsync(t.output,o))},{chain:n,output:""}}},{type:e.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:e.logic.type.import_,regex:/^import\s+(.+)\s+as\s+(\w+)$/,next:[],open:!0,compile(t){const r=t.match[1].trim(),n=t.match[2].trim();return delete t.match,t.expression=r,t.contextName=n,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,t},parse(t,r,n){const i=this,s={chain:n,output:""};return t.expression==="_self"?(r[t.contextName]=i.macros,s):e.expression.parseAsync.call(i,t.stack,r).then(o=>i.template.importFile(o||t.expression)).then(o=>{const a=new e.ParseState(o);return a.parseAsync(o.tokens).then(()=>(r[t.contextName]=a.macros,s))})}},{type:e.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile(t){const r=t.match[1].trim(),n=t.match[2].trim().split(/\s*,\s*/),i={};for(const s of n){const o=s.match(/^(\w+)\s+as\s+(\w+)$/);o?i[o[1].trim()]=o[2].trim():s.match(/^(\w+)$/)&&(i[s]=s)}return delete t.match,t.expression=r,t.macroNames=i,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,t},parse(t,r,n){const i=this;let s;return t.expression==="_self"?s=e.Promise.resolve(i.macros):s=e.expression.parseAsync.call(i,t.stack,r).then(o=>i.template.importFile(o||t.expression)).then(o=>{const a=new e.ParseState(o);return a.parseAsync(o.tokens).then(()=>a.macros)}),s.then(o=>{for(const a in t.macroNames)o[a]!==void 0&&(r[t.macroNames[a]]=o[a]);return{chain:n,output:""}})}},{type:e.logic.type.embed,regex:/^embed\s+(.+?)(?:\s+(ignore missing))?(?:\s+with\s+([\S\s]+?))?(?:\s+(only))?$/,next:[e.logic.type.endembed],open:!0,compile(t){const{match:r}=t,n=r[1].trim(),i=r[2]!==void 0,s=r[3],o=r[4]!==void 0&&r[4].length;return delete t.match,t.only=o,t.ignoreMissing=i,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,s!==void 0&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:s.trim()}).stack),t},parse(t,r,n){let i={},s=e.Promise.resolve(),o=this;return t.only||(i={...r}),t.withStack!==void 0&&(s=e.expression.parseAsync.call(o,t.withStack,r).then(a=>{i={...i,...a}})),s.then(()=>e.expression.parseAsync.call(o,t.stack,i)).then(a=>{const c=new e.Template({data:t.output,base:o.template.base,path:o.template.path,url:o.template.url,name:o.template.name,method:o.template.method,options:o.template.options});try{c.importFile(a)}catch(h){if(t.ignoreMissing)return"";throw o=null,h}return c.parentTemplate=a,c.renderAsync(i,{isInclude:!0})}).then(a=>({chain:n,output:a}))}},{type:e.logic.type.endembed,regex:/^endembed$/,next:[],open:!1},{type:e.logic.type.with,regex:/^(?:with(?:\s+([\S\s]+?))?)(?:\s|$)(only)?$/,next:[e.logic.type.endwith],open:!0,compile(t){const{match:r}=t,n=r[1],i=r[2]!==void 0&&r[2].length;return delete t.match,t.only=i,n!==void 0&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n.trim()}).stack),t},parse(t,r,n){let i={},s;const o=this;let a=e.Promise.resolve();t.only||(i={...r}),t.withStack!==void 0&&(a=e.expression.parseAsync.call(o,t.withStack,r).then(h=>{for(s in h)Object.hasOwnProperty.call(h,s)&&(i[s]=h[s])}));const c=new e.ParseState(o.template,void 0,i);return a.then(()=>c.parseAsync(t.output)).then(h=>({chain:n,output:h}))}},{type:e.logic.type.endwith,regex:/^endwith$/,next:[],open:!1},{type:e.logic.type.deprecated,regex:/^deprecated\s+(.+)$/,next:[],open:!0,compile(t){return console.warn("Deprecation notice: "+t.match[1]),t},parse(){return{}}}],e.logic.handler={},e.logic.extendType=function(t,r){r=r||"Twig.logic.type"+t,e.logic.type[t]=r},e.logic.extend=function(t){if(t.type)e.logic.extendType(t.type);else throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.logic.handler[t.type]=t};e.logic.definitions.length>0;)e.logic.extend(e.logic.definitions.shift());return e.logic.compile=function(t){const r=t.value.trim();let n=e.logic.tokenize.call(this,r);const i=e.logic.handler[n.type];return i.compile&&(n=i.compile.call(this,n),e.log.trace("Twig.logic.compile: ","Compiled logic token to ",n)),n},e.logic.tokenize=function(t){let r=null,n=null,i=null,s=null,o=null,a=null,c=null;t=t.trim();for(r in e.logic.handler)if(Object.hasOwnProperty.call(e.logic.handler,r)){for(n=e.logic.handler[r].type,i=e.logic.handler[r].regex,s=i,Array.isArray(i)||(s=[i]),o=s.length,a=0;a<o;a++)if(c=s[a].exec(t),c!==null)return e.log.trace("Twig.logic.tokenize: ","Matched a ",n," regular expression of ",c),{type:n,match:c}}throw new e.Error("Unable to parse '"+t.trim()+"'")},e.logic.parse=function(t,r,n,i){return e.async.potentiallyAsync(this,i,function(){e.log.debug("Twig.logic.parse: ","Parsing logic token ",t);const s=e.logic.handler[t.type];let o;const a=this;return s.parse?(a.nestingStack.unshift(t),o=s.parse.call(a,t,r||{},n),e.isPromise(o)?o=o.then(c=>(a.nestingStack.shift(),c)):a.nestingStack.shift(),o):""})},e}),$t}var qt,Cn;function ma(){return Cn||(Cn=1,qt=function(e){e.Templates.registerParser("source",t=>t.data||"")}),qt}var zt,Fn;function ga(){return Fn||(Fn=1,zt=function(e){e.Templates.registerParser("twig",t=>new e.Template(t))}),zt}var Vt,In;function xa(){return In||(In=1,Vt=function(e){return e.path={},e.path.expandNamespace=function(t,r){const n=Object.keys(t),i=new RegExp(`^(?:@(${n.join("|")})/|(${n.join("|")})::)`);return r.replace(i,(s,o,a)=>`${t[o===void 0?a:o]}/`)},e.path.parsePath=function(t,r){const{namespaces:n}=t.options,i=r||"";let o=n&&typeof n=="object"?e.path.expandNamespace(n,i):i;return o===i&&(o=e.path.relativePath(t,i)),o},e.path.relativePath=function(t,r){let n,i,s="/";const o=[];let a=r||"",c;if(t.url)typeof t.base>"u"?n=t.url:n=t.base.replace(/([^/])$/,"$1/");else if(t.path){const h=Ki(),l=h.sep||s,f=new RegExp("^\\.{1,2}"+l.replace("\\","\\\\"));a=a.replace(/\//g,l),t.base!==void 0&&a.match(f)===null?(a=a.replace(t.base,""),n=t.base+l):n=h.normalize(t.path),n=n.replace(l+l,l),s=l}else if((t.name||t.id)&&t.method&&t.method!=="fs"&&t.method!=="ajax")n=t.base||t.name||t.id;else throw new e.Error("Cannot extend an inline template.");for(i=n.split(s),i.pop(),i=i.concat(a.split(s));i.length>0;)c=i.shift(),c==="."||(c===".."&&o.length>0&&o[o.length-1]!==".."?o.pop():o.push(c));return o.join(s)},e}),Vt}var Ht,Bn;function ba(){return Bn||(Bn=1,Ht=function(e){return e.tests={empty(t){if(t===!0)return!1;if(t==null)return!0;if(typeof t=="number"||t.length>0)return!1;for(const r in t)if(Object.hasOwnProperty.call(t,r))return!1;return!0},odd(t){return t%2===1},even(t){return t%2===0},"divisible by"(t,r){return t%r[0]===0},divisibleby(t,r){return console.warn("`divisibleby` is deprecated use `divisible by`"),e.tests["divisible by"](t,r)},defined(t){return t!==void 0},none(t){return t===null},null(t){return this.none(t)},"same as"(t,r){return t===r[0]},sameas(t,r){return console.warn("`sameas` is deprecated use `same as`"),e.tests["same as"](t,r)},iterable(t){return t&&(e.lib.is("Array",t)||e.lib.is("Object",t))}},e.test=function(t,r,n){if(!e.tests[t])throw e.Error("Test "+t+" is not defined.");return e.tests[t](r,n)},e.test.extend=function(t,r){e.tests[t]=r},e}),Ht}var Wt,Ln;function va(){return Ln||(Ln=1,Wt=function(e){e.ParseState.prototype.parseAsync=function(a,c){return this.parse(a,c,!0)},e.expression.parseAsync=function(a,c,h){const l=this;return e.expression.parse.call(l,a,c,h,!0)},e.logic.parseAsync=function(a,c,h){const l=this;return e.logic.parse.call(l,a,c,h,!0)},e.Template.prototype.renderAsync=function(a,c){return this.render(a,c,!0)},e.async={},e.isPromise=function(a){return a&&a.then&&typeof a.then=="function"};function i(a,c,h){let l=h.call(a),f=null,y=!0;if(!e.isPromise(l))return l;if(l.then(m=>{l=m,y=!1}).catch(m=>{f=m}),f!==null)throw f;if(y)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return l}e.async.potentiallyAsync=function(a,c,h){return c?e.Promise.resolve(h.call(a)):i(a,c,h)};function s(a,c,h){try{a(c,h)}catch(l){h(l)}}function o(a,c,h){const l=[c,h,-2];return a?a[2]===-2?a=[a,l]:a.push(l):a=l,a}return e.Thenable=function(a,c,h){this.then=a,this._value=h?c:null,this._state=h||0},e.Thenable.prototype.catch=function(a){return this._state===1?this:this.then(null,a)},e.Thenable.resolvedThen=function(a){try{return e.Promise.resolve(a(this._value))}catch(c){return e.Promise.reject(c)}},e.Thenable.rejectedThen=function(a,c){if(!c||typeof c!="function")return this;const h=this._value;let l;try{l=c(h)}catch(f){l=e.Promise.reject(f)}return e.Promise.resolve(l)},e.Promise=function(a){let c=0,h=null,l=function(m,x){c=m,h=x};function f(m){l(1,m)}function y(m){l(2,m)}return s(a,f,y),c===1?e.Promise.resolve(h):c===2?e.Promise.reject(h):(l=new e.FullPromise,l.promise)},e.FullPromise=function(){let a=null;function c(m){m(y._value)}function h(m,x){x(y._value)}let l=function(m,x){a=o(a,m,x)};function f(m,x){if(!y._state&&(y._value=x,y._state=m,l=m===1?c:h,!!a)){if(a[2]===-2){l(a[0],a[1]),a=null;return}a.forEach(v=>{l(v[0],v[1])}),a=null}}const y=new e.Thenable((m,x)=>{const v=typeof m=="function";if(y._state===1&&!v)return e.Promise.resolve(y._value);if(y._state===1)try{return e.Promise.resolve(m(y._value))}catch(B){return e.Promise.reject(B)}const A=typeof x=="function";return new e.Promise((B,M)=>{l(v?$=>{try{B(m($))}catch(W){M(W)}}:B,A?$=>{try{B(x($))}catch(W){M(W)}}:M)})});return f.promise=y,f},e.Promise.defaultResolved=new e.Thenable(e.Thenable.resolvedThen,void 0,1),e.Promise.emptyStringResolved=new e.Thenable(e.Thenable.resolvedThen,"",1),e.Promise.resolve=function(a){return arguments.length===0||typeof a>"u"?e.Promise.defaultResolved:e.isPromise(a)?a:a===""?e.Promise.emptyStringResolved:new e.Thenable(e.Thenable.resolvedThen,a,1)},e.Promise.reject=function(a){return new e.Thenable(e.Thenable.rejectedThen,a,2)},e.Promise.all=function(a){const c=new Array(a.length);return e.async.forEach(a,(h,l)=>{if(!e.isPromise(h)){c[l]=h;return}if(h._state===1){c[l]=h._value;return}return h.then(f=>{c[l]=f})}).then(()=>c)},e.async.forEach=function(a,c){const h=a?a.length:0;let l=0;function f(){let y=null;do{if(l===h)return e.Promise.resolve();y=c(a[l],l),l++}while(!y||!e.isPromise(y)||y._state===1);return y.then(f)}return f()},e}),Wt}var Gt,Nn;function Ea(){return Nn||(Nn=1,Gt=function(e){return e.exports={VERSION:e.VERSION},e.exports.twig=function(t){const{id:r}=t,n={strictVariables:t.strict_variables||!1,autoescape:t.autoescape!==null&&t.autoescape||!1,allowInlineIncludes:t.allowInlineIncludes||!1,rethrow:t.rethrow||!1,namespaces:t.namespaces};if(e.cache&&r&&e.validateId(r),t.debug!==void 0&&(e.debug=t.debug),t.trace!==void 0&&(e.trace=t.trace),t.data!==void 0)return e.Templates.parsers.twig({data:t.data,path:Object.hasOwnProperty.call(t,"path")?t.path:void 0,module:t.module,id:r,options:n});if(t.ref!==void 0){if(t.id!==void 0)throw new e.Error("Both ref and id cannot be set on a twig.js template.");return e.Templates.load(t.ref)}if(t.method!==void 0){if(!e.Templates.isRegisteredLoader(t.method))throw new e.Error('Loader for "'+t.method+'" is not defined.');return e.Templates.loadRemote(t.name||t.href||t.path||r||void 0,{id:r,method:t.method,parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:n},t.load,t.error)}if(t.href!==void 0)return e.Templates.loadRemote(t.href,{id:r,method:"ajax",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:n},t.load,t.error);if(t.path!==void 0)return e.Templates.loadRemote(t.path,{id:r,method:"fs",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:n},t.load,t.error)},e.exports.extendFilter=function(t,r){e.filter.extend(t,r)},e.exports.extendFunction=function(t,r){e._function.extend(t,r)},e.exports.extendTest=function(t,r){e.test.extend(t,r)},e.exports.extendTag=function(t){e.logic.extend(t)},e.exports.extend=function(t){t(e)},e.exports.compile=function(t,r){const n=r.filename,i=r.filename,s=new e.Template({data:t,path:i,id:n,options:r.settings["twig options"]});return function(o){return s.render(o)}},e.exports.renderFile=function(t,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};const i=r.settings||{},s=i["twig options"],o={path:t,base:i.views,load(a){if(!s||!s.allowAsync){n(null,String(a.render(r)));return}a.renderAsync(r).then(c=>n(null,c),n)},error(a){n(a)}};if(s)for(const a in s)Object.hasOwnProperty.call(s,a)&&(o[a]=s[a]);e.exports.twig(o)},e.exports.__express=e.exports.renderFile,e.exports.cache=function(t){e.cache=t},e.exports.path=e.path,e.exports.filters=e.filters,e.exports.tests=e.tests,e.exports.functions=e.functions,e.exports.Promise=e.Promise,e}),Gt}var Jt,jn;function _a(){return jn||(jn=1,Jt=function e(){const t={VERSION:"1.17.1"};return Jo()(t),Yo()(t),To()(t),Xo()(t),Zo()(t),ua()(t),la()(t),da()(t),ya()(t),ma()(t),ga()(t),xa()(t),ba()(t),va()(t),Ea()(t),t.exports.factory=e,t.exports}),Jt}/**
 * Twig.js
 *
 * @copyright 2011-2020 John Roepke and the Twig.js Contributors
 * @license   Available under the BSD 2-Clause License
 * @link      https://github.com/twigjs/twig.js
 */var Yt,Dn;function Sa(){return Dn||(Dn=1,Yt=_a()()),Yt}var Ra=Sa();const ct=Oi(Ra),ye={registerComponentTemplate:Pa,extendComponentTemplate:Oa,registerTemplateOverride:ka,getRenderedTemplate:$a,resolveTemplates:Ca,clearTwigCache:La,getTwigCache:Na,disableTwigCache:ja,getTemplateRegistry:Da,getNormalizedTemplateRegistry:Ma,getTemplateOverrides:Ua};let Ti=null;ct.extend(e=>{e.token.definitions=e.token.definitions.filter(t=>t.type!==e.token.type.output_whitespace_pre&&t.type!==e.token.type.output_whitespace_post&&t.type!==e.token.type.output_whitespace_both&&t.type!==e.token.type.output),e.exports.extendTag({type:"parent",regex:/^parent/,next:[],open:!0,parse(t,r,n){return{chain:n,output:"{{|PARENT|}}"}}}),e.exports.getRegistry=function(){return e.Templates.registry},e.exports.clearRegistry=function(){e.Templates.registry={}},Ti=e.Templates,e.cache=!1});const Aa="{{\\|PARENT\\|}}",wa=new RegExp(Aa,"gm"),le=new Map,ce=new Map;function Pa(e,t=null){const r=le.get(e)||{},n=r.overrides?r.overrides:[];return le.set(e,{name:e,raw:t,extend:null,overrides:n}),!0}function Oa(e,t,r=null){const n=le.get(e)||{},i=n.overrides?n.overrides:[];return r||(r=""),le.set(e,{name:e,raw:r,extend:t,overrides:i}),!0}function ka(e,t=null,r=0){const n=le.get(e)||{name:e,raw:null,extend:null,overrides:[]};return n.overrides.push({index:r,raw:t}),n.overrides.sort((i,s)=>i.index-s.index),le.set(e,n),!0}function Tr(e){let t=ns(e);if(!t){ce.delete(e.name);return}t={...t,html:""};const r=i=>i.extend?i.extend.overrides.length>0||r(i.extend):!1;r(t)&&Tr(le.get(t.extend.name));const n=Qi(t.template.tokens,t);t.template.tokens=n,ce.set(t.name,t),t=Fa(t.name),t.html=t.html.replace(wa,""),ce.set(t.name,t)}function Ca(){return Array.from(le.values()).forEach(Tr),ce}function Fa(e){const t=ce.get(e),r={};if(!t.overrides.length){const o=t.template.render(r),a={...t,html:o};return ce.set(a.name,a),a}const n=ce.get(t.name);t.overrides.forEach((o,a)=>{jr(`${n.name}-${a}`,o.raw).tokens.forEach(h=>{h.type==="logic"&&(n.template.tokens=Xi(n.template.tokens,[h]))})}),ce.set(n.name,n);let i=ce.get(t.name);const s=i.template.render(r);return i={...i,html:s},ce.set(i.name,i),i}function Xi(e,t){return e?e.reduce((r,n)=>{if(n.type!=="logic"||!n.token||!n.token.blockName)return[...r,n];const i=n.token.blockName,s=ts(i,t);if(s)return s.type==="logic"&&(s.token.output=Zi(n,s.token.output)),[...r,s];const o=Xi(n.token.output,t);return n.token.output=o,[...r,n]},[]):[]}function Zi(e,t){return t.reduce((r,n)=>{var i;return n.type==="logic"&&n.token.type==="parent"?[...r,...e.token.output]:((i=n.token)!=null&&i.output&&(n.token.output=Ia(n.token.output,e.token.output)),[...r,n])},[])}function Ia(e,t){return e.reduce((r,n)=>n.type==="logic"&&n.token.type==="parent"?[...r,...t]:[...r,n],[])}function Qi(e,t){if(!t.extend)return e;let r;ce.has(t.extend.name)?r=ki(ce.get(t.extend.name).template.tokens):r=t.extend.template.tokens;const n=Array.from(Qi(r,t.extend)),i=Ba(Array.from(e),n);return e=n.map(s=>rs(s,i,t.name)),e}function Ba(e,t){return e.reduce((n,i)=>i.token&&!es(i.token.blockName,t)?[...n,...i.token.output]:[...n,i],[])}function es(e,t){return t.find(n=>n.token&&n.token.blockName===e||n.token&&es(e,n.token.output))}function ts(e,t){return t.find(n=>n.token&&n.token.blockName===e)}function rs(e,t,r){if(e.type!=="logic")return e;const n=["Twig.logic.type.if","Twig.logic.type.else","Twig.logic.type.endif"];if(e.type==="logic"&&n.includes(e.token.type))return e;const i=e.token.blockName,s=ts(i,t);return s?(s.type!=="logic"||(s.token.output=Zi(e,s.token.output)),s):(e.token.output=e.token.output.map(o=>rs(o,t)),e)}function ns(e){if(!e)return null;if(e.extend){const t=ns(le.get(e.extend));return t?{...e,template:jr(e.name,e.raw),extend:t}:null}return{...e,template:jr(e.name,e.raw)}}function jr(e,t){return Ti.parsers.twig({id:`${e}-baseTemplate`,data:t,path:!1,options:{}})}function La(){ct.clearRegistry()}function Na(){return ct.getRegistry()}function ja(){ct.cache(!1)}function Da(){return le}function Ma(){return ce}function Ua(e){return le.has(e)?le.get(e).overrides||[]:[]}function $a(e){const t=le.get(e);if(!t)return null;Tr(t);const r=ce.get(e);return r?r.html:null}const qa=Xs,he={register:Ka,extend:Ta,override:Xa,build:os,wrapComponentConfig:qa,getComponentTemplate:ss,getComponentRegistry:Ha,getOverrideRegistry:Wa,getComponentHelper:Ga,_clearComponentHelper:Ja,registerComponentHelper:Ya,resolveComponentTemplates:nc,markComponentTemplatesAsNotResolved:ic,isSyncComponent:za,markComponentAsSync:Va},je=new Map,De=new Map,He={},is=new Set;function za(e){return is.has(e)}function Va(e){is.add(e)}function Ha(){return je}function Wa(){return De}function Ga(){return He}function Ja(){Object.keys(He).forEach(e=>{delete He[e]})}function Ya(e,t){return!e||!e.length||He.hasOwnProperty(e)?!1:(He[e]=t,!0)}function Ka(e,t){if(!e||!e.length||je.has(e))return!1;const r=async()=>{let i=await(typeof t=="function"?t:()=>Promise.resolve(t))();i!=null&&i.default&&(i=i.default);const s={...i};if(s.name=e,s.template)ye.registerComponentTemplate(e,s.template),delete s.template;else if(!s.functional&&typeof s.render!="function")return $e("ComponentFactory",`The component "${s.name}" needs a template to be functional.`,'Please add a "template" property to your component definition',s),!1;return s};return je.set(e,r),r}function Ta(e,t,r={name:""}){let n;const i=async()=>{if(n)return n;let o=await(typeof r=="function"?r:()=>Promise.resolve(r))();return o!=null&&o.default&&(o=o.default),n={...o},n.template?(ye.extendComponentTemplate(e,t,n.template),delete n.template):ye.extendComponentTemplate(e,t),n.name=e,n.extends=t,n};return je.set(e,i),i}function Xa(e,t,r=null){let n;const i=async()=>n||(n=await(typeof t=="function"?t:()=>Promise.resolve(t))(),n!=null&&n.default&&(n=n.default),n.name=e,n.template&&(ye.registerTemplateOverride(e,n.template,r),delete n.template),n),s=De.get(e)||[];return s.push({index:r!==null?r:0,config:i}),s.sort((o,a)=>o.index-a.index),De.set(e,s),i}async function ss(e){return await Za(e),ye.getRenderedTemplate(e)}async function Za(e){const t=je.get(e),r=De.get(e);t&&await t(),r&&await Promise.all(r.map(n=>n.config()))}async function os(e,t=!1){var a;const r=je.get(e);if(!r)throw new Error(`The component registry has not found a component with the name "${e}".`);const n=await r();if(typeof n=="boolean")throw new Error(`The component registry could not build the component with the name "${e}".`);let i={...n};if(!i)throw new Error(`The config of the component "${e}" is invalid.`);if(i.extends){let c;if(typeof i.extends=="string"){const h=await os(i.extends,!0);typeof h!="boolean"&&(c=h)}c?(us(c,i),i.extends=c):delete i.extends}if(De.has(e)){const c=ki(De.get(e));(await Qa(c.map(l=>l.config),i)).forEach(l=>{l.extends=i,l._isOverride=!0,i={...l}})}const s=as(i);if(rc(s)&&i){const c=ls(i)?`#${e}`:typeof i.extends!="string"&&((a=i==null?void 0:i.extends)==null?void 0:a.name);i.methods={...i.methods,...ec(c,s)}}if(typeof(i==null?void 0:i.render)=="function"||t&&i)return delete i.template,i;const o=await ss(e);return i&&typeof o=="string"&&(i.template=o),typeof(i==null?void 0:i.template)!="string"?!1:i}async function Qa(e,t){if(!e)return[];const n=(await Promise.all(e.map(i=>i()))).reduceRight((i,s)=>{if(i.length===0)return[s];const o=i.shift();return Object.entries(s).forEach(([a,c])=>{if(o&&o.hasOwnProperty(a)){if(Array.isArray(c))return;typeof c=="object"&&Object.entries(c).forEach(([h,l])=>{o[a].hasOwnProperty(h)||(o[a][h]=l,delete s[a][h])})}else o[a]=c,delete s[a]}),[s,o,...i]},[]);return n.forEach(i=>{us(t,i)}),n}function as(e){let t={};return e._isOverride&&e.extends&&typeof e.extends!="string"&&(t=as(e.extends)),["computed","methods"].forEach(r=>{const n=e[r];if(!n)return;Object.entries(n).forEach(([s,o])=>{r==="computed"&&typeof o=="object"?Object.entries(o).forEach(([a,c])=>{const h=`${String(s)}.${String(a)}`;t=Mn(t,h,c,r,e)}):t=Mn(t,s,o,r,e)})}),t}function Mn(e,t,r,n,i){const s=/\.\$super/g,o=typeof r=="function"&&r.toString();if(!(o&&s.test(o)))return e;e.hasOwnProperty(t)||(e[t]={});const c=ls(i)?"#":"";return e[t]=cs(i,t,n,c),e}function ec(e,t){return{$super(r,...n){var o,a;if(r==="$super")throw new Error(`Don't call "$super" manually! This is not supported!`);this._initVirtualCallStack(r);const s=this._findInSuperRegister(r)[this._virtualCallStack[r]];if(!s)throw new Error(`There was an error resolving the "$super" chain for method "${r}".`);return(a=(o=s==null?void 0:s.func)==null?void 0:o.toString())!=null&&a.includes("$super")?(this._virtualCallStack[r]=s.parent,s.func.bind(this)(...n)):(this._virtualCallStack[r]=void 0,s.func.bind(this)(...n))},_initVirtualCallStack(r){this._virtualCallStack[r]||(this._virtualCallStack[r]=this._inheritedFrom())},_findInSuperRegister(r){return this._superRegistry()[r]},_superRegistry(){return t},_inheritedFrom(){return e}}}function cs(e,t,r="methods",n=""){const i=e.extends;if(!i||typeof i=="string")return{};const s=`${n}${i.name??""}`;let o=typeof i.extends=="object"&&i.extends?`${n}${i.extends.name??""}`:null;if(s===o){(n.length>0||i._isOverride)&&(n=`#${n}`);const f=i&&i.extends&&typeof i.extends!="string"&&i.extends.name;o=`${n}${typeof f=="string"?f:""}`}const a=Dr(i,t,r),c={};return c[s]={parent:o,func:a},typeof a=="function"&&!/\.\$super/g.test(a.toString())?(c[s].parent=null,c):{...cs(i,t,r,n),...c}}function us(e,t){["computed","methods"].forEach(r=>{if(!e.hasOwnProperty(r))return;const n=e[r];n&&(t.hasOwnProperty(r)||(t[r]={}),Object.entries(n).forEach(([i,s])=>{t[r].hasOwnProperty(i)||(r==="computed"&&typeof s=="object"?(t[r][i]={},Object.entries(s).forEach(([o])=>{t[r][i][o]=function(...a){return this.$super(`${i}.${o}`,...a)}})):t[r][i]=function(...o){return this.$super(i,...o)})}))})}function Dr(e,t,r){var i;const n=t.split(".");return n.length>1?tc(e,n,r):(i=e[r])!=null&&i[t]?e[r][t]:null}function tc(e,t,r){const[n,i]=t;return!e[r]||!e[r][n]?Dr(e.extends,n,r):e[r][n][i]}function ls(e){return!e.extends||typeof e.extends=="string"?!1:e.extends.name===e.name}function rc(e){return Object.keys(e).length!==0&&e.constructor===Object}function nc(){return ye.resolveTemplates(),!0}function ic(){return ye.getNormalizedTemplateRegistry().clear(),!0}class sc{_registerProperty(t,r){return Object.defineProperty(this,t,{value:r,writable:!1,enumerable:!0,configurable:!0}),this}_registerPrivateProperty(t,r){return Object.defineProperty(this,t,{value:r,writable:!1,enumerable:!0,configurable:!0}),this}_registerGetterMethod(t,r,n){return Object.defineProperty(this,t,{get:r,set:n,enumerable:!0,configurable:!0}),this}}function ps(){return new sc}function fs(e){return e?Shopware.Application.getContainer("service")[e]:{get:r=>Shopware.Application.getContainer("service")[r],list:()=>Shopware.Application.getContainer("service").$list(),register:(r,n)=>Shopware.Application.addServiceProvider(r,n),registerMiddleware:(...r)=>Shopware.Application.addServiceProviderMiddleware(...r),registerDecorator:(...r)=>Shopware.Application.addServiceProviderDecorator(...r)}}const oc=(e,t)=>function(){const n=function(){Object.entries(e).forEach(([s,o])=>{Object.defineProperty(this,s,{value:o,configurable:!0,enumerable:!0,writable:!0})})};return n.prototype=t,new n}(),Mr={register:uc,getByName:lc,getMixinRegistry:cc},Oe=new Map;function ac(e,t){Oe.set(e,t)}function cc(){return Oe}function uc(e,t){return Oe.has(e)||ac(e,t),Oe.get(e)}function lc(e){if(!Oe.has(e)||Oe.get(e)===void 0)throw new Error(`The mixin "${e}" is not registered.`);return Oe.get(e)}const Xe={getRegistry:pc,register:fc,getByName:hc},rt=new Map;function pc(){return rt}function fc(e,t){return!e||!e.length||rt.has(e)?!1:(rt.set(e,t),!0)}function hc(e){return rt.get(e)}const Ze={registerDirective:dc,getDirectiveByName:yc,getDirectiveRegistry:mc},nt=new Map;function dc(e,t={}){return!e||!e.length||nt.has(e)?!1:(nt.set(e,t),!0)}function yc(e){return nt.get(e)}function mc(){return nt}const Ue={getLocaleByName:Ec,getLocaleRegistry:xc,register:bc,extend:vc,getBrowserLanguage:hs,getBrowserLanguages:ds,getLastKnownLocale:_c,storeCurrentLocale:Sc},Ae=new Map,gc="en-GB",Ur="sw-admin-locale";function xc(){return Ae}function bc(e,t={}){return!e||!e.length||e.split("-").length<2||Ae.has(e)?!1:(Ae.set(e,t),e)}function vc(e,t={}){if(e.split("-").length<2||!Ae.has(e))return!1;const r=Ae.get(e);return Ae.set(e,Ys.merge(r,t)),e}function Ec(e){return Ae.get(e)||!1}function _c(){let e=hs();return window.localStorage.getItem(Ur)!==null&&(e=window.localStorage.getItem(Ur)),e}function hs(){const e=new Map;Ae.forEach((r,n)=>{const i=n.split("-")[0];e.set(i.toLowerCase(),n)});let t=null;return ds().forEach(r=>{!t&&Ae.has(r)&&(t=r),!t&&e.has(r)&&(t=e.get(r)||null)}),t||gc}function ds(){var t;const e=[];return navigator.language&&e.push(navigator.language),(t=navigator.languages)!=null&&t.length&&navigator.languages.forEach(r=>{e.push(r)}),navigator.userLanguage&&e.push(navigator.userLanguage),navigator.systemLanguage&&e.push(navigator.systemLanguage),e}function Sc(e){var t;if(typeof document=="object"){const r=e.split("-")[0];(t=document.querySelector("html"))==null||t.setAttribute("lang",r)}return window.localStorage.setItem(Ur,e),e}const Qe={getPathByCombination:Rc,getShortcutRegistry:Ac,register:wc},We=new Map;function Rc(e){return We.has(e)?We.get(e):!1}function Ac(){return We}function wc(e,t=""){return!e||!e.length||We.has(e)?!1:(We.set(e,t),e)}const $r={addBootPromise:Pc,getBootPromises:Oc},ys=[];function Pc(){let e;return ys.push(new Promise(t=>{e=t})),e}function Oc(){return ys}const Ie={getRegistry:kc,register:Cc,getByName:Fc,getServices:Ic,has:ms},Je=new Map;function kc(){return Je}function Cc(e,t=null){return!e||!e.length||ms(e)?!1:(Je.set(e,t),!0)}function ms(e){return Je.has(e)}function Fc(e){return Je.get(e)}function Ic(){return Array.from(Je).reduce((e,[t,r])=>(e[t]=r,e),{})}const gs=["uuid","int","text","password","float","string","blob","boolean","date"],xs=["json_list","json_object"];function Bc(){return gs}function Lc(){return xs}class bs{constructor({entity:t,properties:r}){this.entity=t,this.properties=r}getEntity(){return this.entity}getPrimaryKeyFields(){return this.filterProperties(t=>{var r;return((r=t.flags)==null?void 0:r.primary_key)===!0})}getAssociationFields(){return this.filterProperties(t=>t.type==="association")}getToManyAssociations(){return this.filterProperties(t=>t.type!=="association"?!1:["one_to_many","many_to_many"].includes(t.relation??""))}getToOneAssociations(){return this.filterProperties(t=>t.type!=="association"?!1:["one_to_one","many_to_one"].includes(t.relation??""))}getTranslatableFields(){return this.filterProperties(t=>this.isTranslatableField(t))}getRequiredFields(){return this.filterProperties(t=>{var r;return((r=t.flags)==null?void 0:r.required)===!0})}filterProperties(t){if(typeof t!="function")return{};const r={};return Object.keys(this.properties).forEach(n=>{t(this.properties[n])&&(r[n]=this.properties[n])}),r}getField(t){return this.properties[t]}forEachField(t){typeof t=="function"&&Object.keys(this.properties).forEach(r=>{t(this.properties[r],r,this.properties)})}isScalarField(t){return gs.includes(t.type??"")}isJsonField(t){return xs.includes(t.type??"")}isJsonObjectField(t){return t.type==="json_object"}isJsonListField(t){return t.type==="json_list"}isToManyAssociation(t){return t.type==="association"&&["one_to_many","many_to_many"].includes(t.relation??"")}isToOneAssociation(t){return t.type==="association"&&["many_to_one","one_to_one"].includes(t.relation??"")}isOneToOneAssociation(t){return t.type==="association"&&t.relation==="one_to_one"}isTranslatableField(t){var r;return(t.type==="string"||t.type==="text")&&((r=t.flags)==null?void 0:r.translatable)===!0}}const be={getScalarTypes:Bc,getJsonTypes:Lc,getDefinitionRegistry:Nc,has:jc,get:ut,add:Dc,remove:Mc,getTranslatedFields:Uc,getAssociationFields:$c,getRequiredFields:qc},Ye=new Map;function Nc(){return Ye}function jc(e){return Ye.has(e)}function ut(e){const t=Ye.get(e);if(typeof t>"u")throw new Error(`[EntityDefinitionRegistry] No definition found for entity type ${e}`);return t}function Dc(e,t){Ye.set(e,new bs(t))}function Mc(e){return Ye.delete(e)}function Uc(e){return ut(e).getTranslatableFields()}function $c(e){return ut(e).getAssociationFields()}function qc(e){return ut(e).getRequiredFields()}const Be={getRegistry:vs,register:zc,remove:Vc,override:Hc,initialize:Wc,resetHelper:Jc},ke=new Map;let et=new at,qr=!1;function vs(){return ke}function zc(e,t){return!e||!e.length||ke.has(e)||!Es(t)?!1:(ke.set(e,t),!0)}function Vc(e){return!e||!e.length||!ke.has(e)?!1:(ke.delete(e),!0)}function Hc(e,t){return!ke.has(e)||!Es(t)?!1:(ke.set(e,t),!0)}function Wc(){return qr||(qr=!0,vs().forEach(({fn:e,name:t})=>{et.use(Gc(t,e))})),et}function Gc(e,t){return(r,n)=>{const i=n.queue.find(o=>o.name===e)||null,s={...n,entry:i,name:e};i===null?r():t.call(null,r,s)}}function Es(e){return ee(e,"name")&&e.name.length>0&&ee(e,"fn")&&Ve.isFunction(e.fn)}function Jc(){return et=new at,qr=!1,!0}class Yc{constructor(t=()=>0,r=1){this._registeredNodes=new Map,this._defaultPosition=r,this._sorting=t}convertToTree(){return this._tree(this._registeredNodes)}_tree(t,r=1,n=void 0){const i=[];return t.forEach(s=>{if(s.parent!==n)return;s.level=r;const o=s.id||s.path;s.children=this._tree(t,r+1,o),i.push(s)}),i.sort(this._sorting)}add(t){const r=t.id||t.path;return r?(ee(t,"link")&&!ee(t,"target")&&(t.target="_self"),t.position||(t.position=this._defaultPosition),this._registeredNodes.has(r)?($e("FlatTree",`Tree contains node with unique identifier ${r} already.`,"Please remove it first before adding a new one.",this._registeredNodes.get(r)),this):(this._registeredNodes.set(r,t),this)):this}remove(t){return this._registeredNodes.delete(t),this}}function zr(){this.listeners=[],window.addEventListener("resize",this.resize.bind(this))}zr.prototype=Object.assign(zr.prototype,{resize:Vr.debounce(function(t){this.listeners.forEach(r=>{r.listener.call(r.scope,t)})},100),onResize({listener:e,scope:t,component:r}){return t||(t=window),this.listeners.push({listener:e,scope:t,component:r}),this.listeners.length-1},removeResizeListener(e){return this.listeners=this.listeners.filter(t=>e!==t.component),!0},getUserAgent(){return window.navigator.userAgent},getViewportWidth(){return window.innerWidth},getViewportHeight(){return window.innerHeight},getDevicePixelRatio(){return window.devicePixelRatio},getScreenWidth(){return window.screen.width},getScreenHeight(){return window.screen.height},getScreenOrientation(){return window.screen.orientation},getBrowserLanguage(){return window.navigator.language},getPlatform(){return window.navigator.platform},getSystemKey(){return this.getPlatform().indexOf("Mac")>-1?"CTRL":"ALT"}});class Kc{create(t,r,n){r=r||Vr.createId();const i=Shopware.EntityDefinition.get(t);if(!i)return null;const s={extensions:{}},o=i.getToManyAssociations();Object.keys(o).forEach(c=>{const h=o[c].entity;o[c].flags.extension?s.extensions[c]=this.createCollection(t,`${r}/extensions`,c,h,n):s[c]=this.createCollection(t,r,c,h,n)});const a=new Hr(r,t,s);return a.markAsNew(),a}createCollection(t,r,n,i,s){const o=n.replace(/_/g,"-"),c=`/${t.replace(/_/g,"-")}/${r}/${o}`;return new qe(c,i,s,new st(1,10))}}class Tc{constructor(){this.cache={}}hydrateSearchResult(t,r,n,i,s){var a;this.cache={};const o=[];return n.data.data.forEach(c=>{const h=this.hydrateEntity(r,c,n.data,i,s);h!==null&&o.push(h)}),new qe(t,r,i,s,o,(a=n.data.meta)==null?void 0:a.total,n.data.aggregations)}hydrate(t,r,n,i,s){this.cache={};const o=new qe(t,r,i,s);return n.data.forEach(a=>{const c=this.hydrateEntity(r,a,n,i,s);c!==null&&o.add(c)}),o}hydrateEntity(t,r,n,i,s){if(!r)return null;const o=r.id,a=`${t}-${o}`;if(this.cache[a])return this.cache[a];const c=Shopware.EntityDefinition.get(t);if(!c)return null;const h=r.attributes;h.id=o,Object.entries(h).forEach(([f,y])=>{const m=c.getField(f);if(!m||!c.isJsonField(m))return;if(Array.isArray(y)&&y.length<=0&&c.isJsonObjectField(m)){h[f]={};return}const x=!Array.isArray(y)&&typeof y=="object"&&y!==null&&Object.keys(y).length<=0;c.isJsonListField(m)&&(x||y===null)&&(h[f]=[])}),Object.keys(r.relationships).forEach(f=>{const y=r.relationships[f];f==="extensions"&&(h[f]=this.hydrateExtensions(o,y,c,n,i,s));const m=c.properties[f];if(!m)return!0;if(c.isToManyAssociation(m))return h[f]=this.hydrateToMany(s,f,y,m.entity,i,n),!0;if(c.isToOneAssociation(m)&&Ve.isObject(y.data)){const x=this.hydrateToOne(s,f,y,n,i);x&&(h[f]=x)}return!0});const l=new Hr(o,t,h);return this.cache[a]=l,l}hydrateToOne(t,r,n,i,s){const o=this.getAssociationCriteria(t,r),a=this.getIncluded(n.data.type,n.data.id,i);return this.hydrateEntity(n.data.type,a,i,s,o)}getAssociationCriteria(t,r){return t.hasAssociation(r)?t.getAssociation(r):new st(1,25)}hydrateToMany(t,r,n,i,s,o){const a=this.getAssociationCriteria(t,r),c=(s==null?void 0:s.apiResourcePath)??"",h=n.links.related.substr(n.links.related.indexOf(c)+c.length),l=new qe(h,i,s,a);return n.data===null||n.data.forEach(f=>{const y=this.getIncluded(f.type,f.id,o),m=this.hydrateEntity(f.type,y,o,s,a);m&&l.add(m)}),l}getIncluded(t,r,n){return n.included.find(i=>i.id===r&&i.type===t)}hydrateExtensions(t,r,n,i,s,o){const a=this.getIncluded("extension",t,i),c={...a.attributes};return Object.keys(a.relationships).forEach(h=>{const l=a.relationships[h],f=n.properties[h];if(!f)return!0;if(n.isToManyAssociation(f))return c[h]=this.hydrateToMany(o,h,l,f.entity,s,i),!0;if(n.isToOneAssociation(f)&&Ve.isObject(l.data)){const y=this.hydrateToOne(o,h,l,i,s);y&&(c[h]=y)}return!0}),c}}class _s{constructor(t,r,n,i,s,o,a,c){this.route=t,this.entityName=r,this.httpClient=n,this.hydrator=i,this.changesetGenerator=s,this.entityFactory=o,this.errorResolver=a,this.options=c}get schema(){return Shopware.EntityDefinition.get(this.entityName)}searchIds(t,r=Shopware.Context.api){const n=this.buildHeaders(r);let i=`/search-ids${this.route}`;return t.getTitle()!==null&&(i+=`?title=${t.getTitle()}`),this.httpClient.post(i,t.parse(),{headers:n}).then(s=>s.data)}search(t,r=Shopware.Context.api){const n=this.buildHeaders(r);let i=`/search${this.route}`;return t.getTitle()!==null&&(i+=`?title=${t.getTitle()}`),this.httpClient.post(i,t.parse(),{headers:n}).then(s=>this.hydrator.hydrateSearchResult(this.route,this.entityName,s,r,t))}get(t,r=Shopware.Context.api,n=null){return n=n||new st(1,1),n.setIds([t]),this.search(n,r).then(i=>i.get(t))}save(t,r=Shopware.Context.api){return this.options.useSync===!0?this.saveWithSync(t,r):this.saveWithRest(t,r)}async saveWithRest(t,r){const{changes:n,deletionQueue:i}=this.changesetGenerator.generate(t);return this.options.keepApiErrors||this.errorResolver.resetApiErrors(),await this.sendDeletions(i,r),this.sendChanges(t,n,r)}async saveWithSync(t,r){const{changes:n,deletionQueue:i}=this.changesetGenerator.generate(t);t.isNew()&&Object.assign(n||{},{id:t.id});const s=[];i.length>0&&s.push(...this.buildDeleteOperations(i)),n!==null&&s.push({key:"write",action:"upsert",entity:t.getEntityName(),payload:[n]});const o=this.buildHeaders(r);return o["single-operation"]=!0,s.length<=0?Promise.resolve():(this.options.keepApiErrors||this.errorResolver.resetApiErrors(),this.httpClient.post("_action/sync",s,{headers:o}).catch(a=>{var l,f;const c=[];throw(((f=(l=a==null?void 0:a.response)==null?void 0:l.data)==null?void 0:f.errors)??[]).forEach(y=>{var m,x;(x=(m=y==null?void 0:y.source)==null?void 0:m.pointer)!=null&&x.startsWith("/write/")&&(y.source.pointer=y.source.pointer.substring(6),c.push(y))}),this.errorResolver.handleWriteErrors([{entity:t,changes:n}],{errors:c}),a}))}clone(t,r,n=Shopware.Context.api){return t?this.httpClient.post(`/_action/clone${this.route}/${t}`,r,{headers:this.buildHeaders(n)}).then(i=>i.data):Promise.reject(new Error("Missing required argument: id"))}hasChanges(t){const{changes:r,deletionQueue:n}=this.changesetGenerator.generate(t);return r!==null||n.length>0}saveAll(t,r=Shopware.Context.api){const n=[];return t.forEach(i=>{n.push(this.save(i,r))}),Promise.all(n)}async sync(t,r=Shopware.Context.api,n=!0){const{changeset:i,deletions:s}=this.getSyncChangeset(t);return this.options.keepApiErrors||this.errorResolver.resetApiErrors(),await this.sendDeletions(s,r),this.sendUpserts(i,n,r)}discard(t){if(!t)return;const{changes:r}=this.changesetGenerator.generate(t);if(!r)return;const n=t.getOrigin();Object.keys(r).forEach(i=>{t[i]=n[i]})}sendUpserts(t,r,n=Shopware.Context.api){if(t.length<=0)return Promise.resolve();const i=t.map(({changes:o})=>o),s=this.buildHeaders(n);return s["fail-on-error"]=r,this.httpClient.post("_action/sync",{[this.entityName]:{entity:this.entityName,action:"upsert",payload:i}},{headers:s}).then(({data:o})=>{if(o.success===!1)throw o;return Promise.resolve()}).catch(o=>{const a=this.getSyncErrors(o);throw this.errorResolver.handleWriteErrors(t,{errors:a}),o})}getSyncErrors(t){var n,i;const r=((i=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:i.errors)??[];return r.forEach(s=>{if(!s.source||!s.source.pointer)return;const o=s.source.pointer.split("/");o[0]===""&&o.shift(),o.shift(),s.source.pointer=o.join("/")}),r}getSyncChangeset(t){return t.reduce((r,n)=>{const{changes:i,deletionQueue:s}=this.changesetGenerator.generate(n);if(r.deletions.push(...s),i===null)return r;const o=this.changesetGenerator.getPrimaryKeyData(n);return Object.assign(i,o),r.changeset.push({entity:n,changes:i}),r},{changeset:[],deletions:[]})}assign(t,r=Shopware.Context.api){const n=this.buildHeaders(r);return this.httpClient.post(`${this.route}`,{id:t},{headers:n})}delete(t,r=Shopware.Context.api){const n=this.buildHeaders(r),i=`${this.route}/${t}`;return this.httpClient.delete(i,{headers:n}).catch(s=>{var a,c,h;const o=(h=(c=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:c.errors)==null?void 0:h.map(l=>({error:l,id:t,entityName:this.entityName}));throw this.errorResolver.handleDeleteError(o),s})}iterateIds(t,r,n=Shopware.Context.api){return t.getLimit()===null&&t.setLimit(50),t.setTotalCountMode(1),this.searchIds(t,n).then(i=>{const s=i.data;return s.length<=0?Promise.resolve():r(s).then(()=>s.length<t.getLimit()?Promise.resolve():(t.setPage(t.getPage()+1),this.iterateIds(t,r)))})}syncDeleted(t,r=Shopware.Context.api){const n=this.buildHeaders(r);n["fail-on-error"]=!0;const i=t.map(s=>({id:s}));return this.httpClient.post("_action/sync",{[this.entityName]:{entity:this.entityName,action:"delete",payload:i}},{headers:n}).then(({data:s})=>{if(s.success===!1)throw s;return Promise.resolve()}).catch(s=>{var c,h;const o=(h=(c=s==null?void 0:s.response)==null?void 0:c.data)==null?void 0:h.data[this.entityName].result;if(!o)return;const a=o.reduce((l,f,y)=>(f.errors&&f.errors.forEach(m=>{l.push({error:m,entityName:this.entityName,id:t[y]})}),l),[]);throw this.errorResolver.handleDeleteError(a),s})}create(t=Shopware.Context.api,r=null){return this.entityFactory.create(this.entityName,r,t)}createVersion(t,r=Shopware.Context.api,n=null,i=null){const s=this.buildHeaders(r),o={};n&&(o.versionId=n),i&&(o.versionName=i);const a=`_action/version/${this.entityName.replace(/_/g,"-")}/${t}`;return this.httpClient.post(a,o,{headers:s}).then(c=>({...r,versionId:c.data.versionId}))}mergeVersion(t,r=Shopware.Context.api){const n=this.buildHeaders(r),i=`_action/version/merge/${this.entityName.replace(/_/g,"-")}/${t}`;return this.httpClient.post(i,{},{headers:n})}deleteVersion(t,r,n=Shopware.Context.api){const i=this.buildHeaders(n),s=`/_action/version/${r}/${this.entityName.replace(/_/g,"-")}/${t}`;return this.httpClient.post(s,{},{headers:i})}sendChanges(t,r,n=Shopware.Context.api){const i=this.buildHeaders(n);return t.isNew()?(r=r||{},Object.assign(r,{id:t.id}),this.httpClient.post(`${this.route}`,r,{headers:i}).catch(s=>{var a,c;const o=(c=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:c.errors;if(o)throw this.errorResolver.handleWriteErrors([{entity:t,changes:r}],{errors:o}),s})):typeof r>"u"||r===null?Promise.resolve():this.httpClient.patch(`${this.route}/${t.id}`,r,{headers:i}).catch(s=>{var a,c;const o=(c=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:c.errors;if(o)throw this.errorResolver.handleWriteErrors([{entity:t,changes:r}],{errors:o}),s})}sendDeletions(t,r=Shopware.Context.api){const n=this.buildHeaders(r),i=t.map(s=>this.httpClient.delete(`${s.route}/${s.key}`,{headers:n}).catch(o=>{throw this.errorResolver.handleDeleteError(o),o}));return Promise.all(i)}buildHeaders(t=Shopware.Context.api){const{hasOwnProperty:r}=Shopware.Utils.object,n=r(this.options,"compatibility")?this.options.compatibility:!0,i=r(this.options,"sw-app-integration-id")?this.options["sw-app-integration-id"]:!1;let s={Accept:"application/vnd.api+json",Authorization:`Bearer ${t.authToken.access}`,"Content-Type":"application/json","sw-api-compatibility":n};return t.languageId&&(s={"sw-language-id":t.languageId,...s}),t.currencyId&&(s={"sw-currency-id":t.currencyId,...s}),t.versionId&&(s={"sw-version-id":t.versionId,...s}),t.inheritance&&(s={"sw-inheritance":t.inheritance,...s}),i&&(s={"sw-app-integration-id":i,...s}),t.measurementLengthUnit&&(s={"sw-measurement-length-unit":t.measurementLengthUnit,...s}),t.measurementWeightUnit&&(s={"sw-measurement-weight-unit":t.measurementWeightUnit,...s}),s}buildDeleteOperations(t){const r={};t.forEach(i=>{const s=i.entity;s&&(r.hasOwnProperty(s)||(r[s]=[]),r[s].push(i.primary))});const n=[];return Object.keys(r).forEach(i=>{const s=r[i];n.push({action:"delete",payload:s,entity:i})}),n}}class Ss{constructor(){this.STRING_FILTER_INPUT="string-filter",this.NUMBER_FILTER_INPUT="number-filter",this.DATE_FILTER_INPUT="date-filter",this.ASSOCIATION_FILTER_INPUT="multi-select-filter",this.BOOLEAN_FILTER_INPUT="boolean-filter",this.PRICE_FILTER_INPUT="price-filter",this.EXISTENCE_FILTER_INPUT="existence-filter"}create(t,r){return Object.entries(r).map(([n,i])=>{i.name=n;const s=this.getFilterProperties(t,i.property);if(i.type||!s)return i;switch(i.schema=s,s.type){case"string":i.type=this.STRING_FILTER_INPUT;break;case"int":i.type=this.NUMBER_FILTER_INPUT;break;case"date":i.type=this.DATE_FILTER_INPUT;break;case"association":i.type=s.relation==="many_to_many"||s.relation==="many_to_one"?this.ASSOCIATION_FILTER_INPUT:this.EXISTENCE_FILTER_INPUT;break;case"boolean":i.type=this.BOOLEAN_FILTER_INPUT;break;default:i.type=this.STRING_FILTER_INPUT}return i.property==="price"&&(i.type=this.NUMBER_FILTER_INPUT),i})}getFilterProperties(t,r){const{properties:n}=Shopware.EntityDefinition.get(t),i=r.split("."),s=i.shift(),o=n[s];if(!o)throw new Error(`No definition found for property ${s}`);if(i.length>0&&o.entity)return this.getFilterProperties(o.entity,i.join("."));let a={...o};return o.type==="uuid"&&Object.keys(n).forEach(c=>{n[c].type==="association"&&n[c].localField===s&&(a=n[c])}),a}}const Xc={ChangesetGenerator:Qs,Criteria:st,Entity:Hr,EntityCollection:qe,EntityDefinition:bs,EntityFactory:Kc,EntityHydrator:Tc,Repository:_s,ErrorResolver:Zs,FilterFactory:Ss};class Zc{constructor(t){this.viewInitialized=new Promise(n=>{this._resolveViewInitialized=n});const r=()=>{};this.$container=t,this.view=null,this.$container.service("service",r),this.$container.service("init",r),this.$container.service("factory",r),this.$container.service("init-pre",r),this.$container.service("init-post",r)}getContainer(t){return typeof t=="string"&&this.$container.container[t]?this.$container.container[t]:this.$container.container}addFactory(t,r){return this.$container.factory(`factory.${t}`,r.bind(this)),this}addFactoryMiddleware(t,r){return this._addMiddleware("factory",t,r)}addFactoryDecorator(t,r){return this._addDecorator("factory",t,r)}addInitializer(t,r,n=""){return this.$container.factory(`init${n}.${t}`,r.bind(this)),this}addServiceProvider(t,r){return this.$container.factory(`service.${t}`,r.bind(this)),this}registerConfig(t){return t.apiContext&&this.registerApiContext(t.apiContext),t.appContext&&this.registerAppContext(t.appContext),this}registerApiContext(t){return Shopware.Context.api=Shopware.Classes._private.ApiContextFactory(t),this}registerAppContext(t){return Shopware.Context.app=Shopware.Classes._private.AppContextFactory(t),this}addServiceProviderMiddleware(t,r){return this._addMiddleware("service",t,r)}_addMiddleware(t,r,n){return typeof r=="string"&&n&&this.$container.middleware(`${t}.${r}`,n),typeof r=="function"&&r&&this.$container.middleware(t,r),this}initializeFeatureFlags(){const t=Shopware.Context.app.features;if(!t)throw new Error(`
                Feature initialization does not work
                because the context does not contain any features.
            `);return Shopware.Feature.init(t),this}addServiceProviderDecorator(t,r){return this._addDecorator("service",t,r)}_addDecorator(t,r,n){return typeof r=="string"&&n&&this.$container.decorator(`${t}.${r}`,n),typeof r=="function"&&r&&this.$container.decorator(t,r),this}start(t={}){return this.initState().registerConfig(t).initializeFeatureFlags().startBootProcess()}initState(){if(this.getContainer("init-pre").state)return this;throw new Error("State could not be initialized")}getApplicationRoot(){var t;return(t=this.view)!=null&&t.root?this.view.root:!1}setViewAdapter(t){this.view=t}async startBootProcess(){const t=this.getContainer("service").loginService;if(!t.isLoggedIn())return t.logout(!1,!1),this.bootLogin();const r=t.getBearerAuthentication("expiry");if(r<Date.now()+5e3)try{await t.refreshToken()}catch(n){return console.warn("Error while refreshing token",n),t.logout(!1,!1),this.bootLogin()}else t.restartAutoTokenRefresh(r);return this.bootFullApplication()}bootLogin(){return sessionStorage.setItem("sw-login-should-reload","true"),this.initializeLoginInitializer().then(()=>this.view?this.view.initDependencies():Promise.reject()).then(()=>this.createApplicationRoot()).catch(t=>this.createApplicationRootError(t))}bootFullApplication(){const t=this.getContainer("init-pre"),r=this.getContainer("init"),n=this.getContainer("init-post");return this.initializeInitializers(t,"-pre").then(()=>this.initializeInitializers(r)).then(()=>this.initializeInitializers(n,"-post")).then(()=>this.loadPlugins()).then(()=>Promise.all(Shopware.Plugin.getBootPromises())).then(()=>this.view?this.view.initDependencies():Promise.reject()).then(()=>this.createApplicationRoot()).catch(i=>this.createApplicationRootError(i))}createApplicationRoot(){var s,o,a;const r=this.getContainer("init").router.getRouterInstance();if(Shopware.Context.app.environment==="testing")return Promise.resolve(this);if(!this.view)return Promise.reject(new Error("The ViewAdapter was not defined in the application."));this.view.init("#app",r,this.getContainer("service"));const n=Shopware.Context.app.firstRunWizard,i=this.getContainer("service").loginService;return n&&i.isLoggedIn()&&!((a=(o=(s=r==null?void 0:r.currentRoute)==null?void 0:s.value)==null?void 0:o.name)!=null&&a.startsWith("sw.first.run.wizard"))&&r.push({name:"sw.first.run.wizard.index"}),typeof this._resolveViewInitialized=="function"&&this._resolveViewInitialized(),Promise.resolve(this)}createApplicationRootError(t){var i,s,o;console.error(t);const n=this.getContainer("init").router.getRouterInstance();(i=this.view)==null||i.init("#app",n,this.getContainer("service")),(o=(s=this.view)==null?void 0:s.root)!=null&&o.initError&&(this.view.root.initError=t),n.push({name:"error"})}initializeInitializers(t,r=""){const n=t.$list().map(s=>`init${r}.${s}`);this.$container.digest(n);const i=this.getAsyncInitializers(t,r);return Promise.all(i)}initializeLoginInitializer(){const t=["login","baseComponents","locale","coreDirectives","apiServices","store"],r=this.getContainer("init"),n=this.getContainer("init-pre"),i=this.getContainer("init-post"),s=[],o=[],a=[];return t.forEach(c=>{if(n.hasOwnProperty(c)){s.push(`init-pre.${c}`);return}if(r.hasOwnProperty(c)){o.push(`init.${c}`);return}if(i.hasOwnProperty(c)){a.push(`init-post.${c}`);return}console.error(`The login initializer "${c}" does not exist`)}),this.$container.digest(s),this.$container.digest(o),this.$container.digest(a),Promise.all(this.getAsyncInitializers(t))}getAsyncInitializers(t,r=""){const n=this.getContainer(`init${r}`),i=[];let s=t;return t instanceof Array||(s=Object.keys(t)),s.forEach(o=>{var c;const a=n[o];((c=a==null?void 0:a.constructor)==null?void 0:c.name)==="Promise"&&i.push(a)}),i}async loadPlugins(){let t;t=Shopware.Context.app.config.bundles,t["swag-commercial"]&&await this.injectPlugin(t["swag-commercial"]),t.SwagCommercial&&await this.injectPlugin(t.SwagCommercial);const r=Object.entries(t).filter(([i])=>!["swag-commercial","SwagCommercial","Administration"].includes(i)).map(([,i])=>this.injectPlugin(i)),n=Shopware.Context.app.config.bundles;return Object.entries(n).forEach(([i,s])=>{s.baseUrl&&this.injectIframe({active:s.active,integrationId:s.integrationId,bundleName:i,bundleVersion:s.version,iframeSrc:s.baseUrl,bundleType:s.type})}),Promise.all(r)}async injectPlugin(t){let r=[],n=[];t.js&&Array.isArray(t.js)?r=t.js.map(i=>this.injectJs(i)):t.js&&r.push(this.injectJs(t.js)),t.css&&Array.isArray(t.css)?n=t.css.map(i=>this.injectCss(i)):t.css&&n.push(this.injectCss(t.css));try{return await Promise.all([...r,...n])}catch{return console.warn("Error while loading plugin",t),null}}injectJs(t){return new Promise((r,n)=>{const i=document.createElement("script");i.src=t,i.async=!0,i.type="module",i.onload=()=>{r()},i.onerror=()=>{n()},document.body.appendChild(i)})}injectCss(t){return new Promise((r,n)=>{const i=document.createElement("link");i.rel="stylesheet",i.href=t,i.onload=()=>{r()},i.onerror=()=>{n()},document.head.appendChild(i)})}injectIframe({active:t,integrationId:r,bundleName:n,iframeSrc:i,bundleVersion:s,bundleType:o}){const a=Shopware.Context.app.config.bundles;let c=null;a&&a.hasOwnProperty(n)&&(c=a[n].permissions);const h={active:t,integrationId:r,name:n,baseUrl:i,version:s,type:o??"plugin",permissions:{}};h.permissions=c??Le({}),h.type==="plugin"&&(h.permissions={additional:["*"],create:["*"],read:["*"],update:["*"],delete:["*"]}),Shopware.Store.get("extensions").addExtension(h)}}var Te={exports:{}},Kt,Un;function Rs(){return Un||(Un=1,Kt=function(t,r){return function(){return t.apply(r,arguments)}}),Kt}var Tt,$n;function ne(){if($n)return Tt;$n=1;var e=Rs(),t=Object.prototype.toString,r=function(_){return function(q){var z=t.call(q);return _[z]||(_[z]=z.slice(8,-1).toLowerCase())}}(Object.create(null));function n(_){return _=_.toLowerCase(),function(z){return r(z)===_}}function i(_){return Array.isArray(_)}function s(_){return typeof _>"u"}function o(_){return _!==null&&!s(_)&&_.constructor!==null&&!s(_.constructor)&&typeof _.constructor.isBuffer=="function"&&_.constructor.isBuffer(_)}var a=n("ArrayBuffer");function c(_){var q;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?q=ArrayBuffer.isView(_):q=_&&_.buffer&&a(_.buffer),q}function h(_){return typeof _=="string"}function l(_){return typeof _=="number"}function f(_){return _!==null&&typeof _=="object"}function y(_){if(r(_)!=="object")return!1;var q=Object.getPrototypeOf(_);return q===null||q===Object.prototype}function m(_){return _&&Object.keys(_).length===0&&Object.getPrototypeOf(_)===Object.prototype}var x=n("Date"),v=n("File"),A=n("Blob"),B=n("FileList");function M(_){return t.call(_)==="[object Function]"}function $(_){return f(_)&&M(_.pipe)}function W(_){var q="[object FormData]";return _&&(typeof FormData=="function"&&_ instanceof FormData||t.call(_)===q||M(_.toString)&&_.toString()===q)}var F=n("URLSearchParams");function j(_){return _.trim?_.trim():_.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function S(){var _;return typeof navigator<"u"&&((_=navigator.product)==="ReactNative"||_==="NativeScript"||_==="NS")?!1:typeof window<"u"&&typeof document<"u"}function L(_,q){if(!(_===null||typeof _>"u"))if(typeof _!="object"&&(_=[_]),i(_))for(var z=0,H=_.length;z<H;z++)q.call(null,_[z],z,_);else for(var O in _)Object.prototype.hasOwnProperty.call(_,O)&&q.call(null,_[O],O,_)}function D(){var _={};function q(O,te){y(_[te])&&y(O)?_[te]=D(_[te],O):y(O)?_[te]=D({},O):i(O)?_[te]=O.slice():_[te]=O}for(var z=0,H=arguments.length;z<H;z++)L(arguments[z],q);return _}function J(_,q,z){return L(q,function(O,te){z&&typeof O=="function"?_[te]=e(O,z):_[te]=O}),_}function T(_){return _.charCodeAt(0)===65279&&(_=_.slice(1)),_}function re(_,q,z,H){_.prototype=Object.create(q.prototype,H),_.prototype.constructor=_,z&&Object.assign(_.prototype,z)}function oe(_,q,z,H){var O,te,k,C={};if(q=q||{},_==null)return q;do{for(O=Object.getOwnPropertyNames(_),te=O.length;te-- >0;)k=O[te],(!H||H(k,_,q))&&!C[k]&&(q[k]=_[k],C[k]=!0);_=z!==!1&&Object.getPrototypeOf(_)}while(_&&(!z||z(_,q))&&_!==Object.prototype);return q}function ie(_,q,z){_=String(_),(z===void 0||z>_.length)&&(z=_.length),z-=q.length;var H=_.indexOf(q,z);return H!==-1&&H===z}function pe(_){if(!_)return null;if(i(_))return _;var q=_.length;if(!l(q))return null;for(var z=new Array(q);q-- >0;)z[q]=_[q];return z}var ue=function(_){return function(q){return _&&q instanceof _}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));function fe(_,q){for(var z=_&&_[Symbol.iterator],H=z.call(_),O;(O=H.next())&&!O.done;){var te=O.value;q.call(_,te[0],te[1])}}function ae(_,q){for(var z,H=[];(z=_.exec(q))!==null;)H.push(z);return H}var ge=n("HTMLFormElement"),se=function(q){return function(z,H){return q.call(z,H)}}(Object.prototype.hasOwnProperty);return Tt={isArray:i,isArrayBuffer:a,isBuffer:o,isFormData:W,isArrayBufferView:c,isString:h,isNumber:l,isObject:f,isPlainObject:y,isEmptyObject:m,isUndefined:s,isDate:x,isFile:v,isBlob:A,isFunction:M,isStream:$,isURLSearchParams:F,isStandardBrowserEnv:S,forEach:L,merge:D,extend:J,trim:j,stripBOM:T,inherits:re,toFlatObject:oe,kindOf:r,kindOfTest:n,endsWith:ie,toArray:pe,isTypedArray:ue,isFileList:B,forEachEntry:fe,matchAll:ae,isHTMLForm:ge,hasOwnProperty:se},Tt}var As={},lt={};lt.byteLength=tu;lt.toByteArray=nu;lt.fromByteArray=ou;var Ee=[],de=[],Qc=typeof Uint8Array<"u"?Uint8Array:Array,Xt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Fe=0,eu=Xt.length;Fe<eu;++Fe)Ee[Fe]=Xt[Fe],de[Xt.charCodeAt(Fe)]=Fe;de[45]=62;de[95]=63;function ws(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function tu(e){var t=ws(e),r=t[0],n=t[1];return(r+n)*3/4-n}function ru(e,t,r){return(t+r)*3/4-r}function nu(e){var t,r=ws(e),n=r[0],i=r[1],s=new Qc(ru(e,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)t=de[e.charCodeAt(c)]<<18|de[e.charCodeAt(c+1)]<<12|de[e.charCodeAt(c+2)]<<6|de[e.charCodeAt(c+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=de[e.charCodeAt(c)]<<2|de[e.charCodeAt(c+1)]>>4,s[o++]=t&255),i===1&&(t=de[e.charCodeAt(c)]<<10|de[e.charCodeAt(c+1)]<<4|de[e.charCodeAt(c+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function iu(e){return Ee[e>>18&63]+Ee[e>>12&63]+Ee[e>>6&63]+Ee[e&63]}function su(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(iu(n));return i.join("")}function ou(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(su(e,o,o+s>a?a:o+s));return n===1?(t=e[r-1],i.push(Ee[t>>2]+Ee[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Ee[t>>10]+Ee[t>>4&63]+Ee[t<<2&63]+"=")),i.join("")}var Xr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Xr.read=function(e,t,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,h=c>>1,l=-7,f=r?i-1:0,y=r?-1:1,m=e[t+f];for(f+=y,s=m&(1<<-l)-1,m>>=-l,l+=a;l>0;s=s*256+e[t+f],f+=y,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+e[t+f],f+=y,l-=8);if(s===0)s=1-h;else{if(s===c)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-h}return(m?-1:1)*o*Math.pow(2,s-n)};Xr.write=function(e,t,r,n,i,s){var o,a,c,h=s*8-i-1,l=(1<<h)-1,f=l>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:s-1,x=n?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?t+=y/c:t+=y*Math.pow(2,1-f),t*c>=2&&(o++,c/=2),o+f>=l?(a=0,o=l):o+f>=1?(a=(t*c-1)*Math.pow(2,i),o=o+f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+m]=a&255,m+=x,a/=256,i-=8);for(o=o<<i|a,h+=i;h>0;e[r+m]=o&255,m+=x,o/=256,h-=8);e[r+m-x]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=lt,r=Xr,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=F,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:a}=globalThis;l.TYPED_ARRAY_SUPPORT=c(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const d=new s(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,s.prototype),Object.setPrototypeOf(d,u),d.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function h(d){if(d>i)throw new RangeError('The value "'+d+'" is invalid for option "size"');const u=new s(d);return Object.setPrototypeOf(u,l.prototype),u}function l(d,u,p){if(typeof d=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(d)}return f(d,u,p)}l.poolSize=8192;function f(d,u,p){if(typeof d=="string")return v(d,u);if(o.isView(d))return B(d);if(d==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(ve(d,o)||d&&ve(d.buffer,o)||typeof a<"u"&&(ve(d,a)||d&&ve(d.buffer,a)))return M(d,u,p);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const g=d.valueOf&&d.valueOf();if(g!=null&&g!==d)return l.from(g,u,p);const b=$(d);if(b)return b;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return l.from(d[Symbol.toPrimitive]("string"),u,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}l.from=function(d,u,p){return f(d,u,p)},Object.setPrototypeOf(l.prototype,s.prototype),Object.setPrototypeOf(l,s);function y(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function m(d,u,p){return y(d),d<=0?h(d):u!==void 0?typeof p=="string"?h(d).fill(u,p):h(d).fill(u):h(d)}l.alloc=function(d,u,p){return m(d,u,p)};function x(d){return y(d),h(d<0?0:W(d)|0)}l.allocUnsafe=function(d){return x(d)},l.allocUnsafeSlow=function(d){return x(d)};function v(d,u){if((typeof u!="string"||u==="")&&(u="utf8"),!l.isEncoding(u))throw new TypeError("Unknown encoding: "+u);const p=j(d,u)|0;let g=h(p);const b=g.write(d,u);return b!==p&&(g=g.slice(0,b)),g}function A(d){const u=d.length<0?0:W(d.length)|0,p=h(u);for(let g=0;g<u;g+=1)p[g]=d[g]&255;return p}function B(d){if(ve(d,s)){const u=new s(d);return M(u.buffer,u.byteOffset,u.byteLength)}return A(d)}function M(d,u,p){if(u<0||d.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(d.byteLength<u+(p||0))throw new RangeError('"length" is outside of buffer bounds');let g;return u===void 0&&p===void 0?g=new s(d):p===void 0?g=new s(d,u):g=new s(d,u,p),Object.setPrototypeOf(g,l.prototype),g}function $(d){if(l.isBuffer(d)){const u=W(d.length)|0,p=h(u);return p.length===0||d.copy(p,0,0,u),p}if(d.length!==void 0)return typeof d.length!="number"||dt(d.length)?h(0):A(d);if(d.type==="Buffer"&&Array.isArray(d.data))return A(d.data)}function W(d){if(d>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return d|0}function F(d){return+d!=d&&(d=0),l.alloc(+d)}l.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==l.prototype},l.compare=function(u,p){if(ve(u,s)&&(u=l.from(u,u.offset,u.byteLength)),ve(p,s)&&(p=l.from(p,p.offset,p.byteLength)),!l.isBuffer(u)||!l.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===p)return 0;let g=u.length,b=p.length;for(let E=0,w=Math.min(g,b);E<w;++E)if(u[E]!==p[E]){g=u[E],b=p[E];break}return g<b?-1:b<g?1:0},l.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(u,p){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return l.alloc(0);let g;if(p===void 0)for(p=0,g=0;g<u.length;++g)p+=u[g].length;const b=l.allocUnsafe(p);let E=0;for(g=0;g<u.length;++g){let w=u[g];if(ve(w,s))E+w.length>b.length?(l.isBuffer(w)||(w=l.from(w)),w.copy(b,E)):s.prototype.set.call(b,w,E);else if(l.isBuffer(w))w.copy(b,E);else throw new TypeError('"list" argument must be an Array of Buffers');E+=w.length}return b};function j(d,u){if(l.isBuffer(d))return d.length;if(o.isView(d)||ve(d,o))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);const p=d.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&p===0)return 0;let b=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return ht(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return tn(d).length;default:if(b)return g?-1:ht(d).length;u=(""+u).toLowerCase(),b=!0}}l.byteLength=j;function S(d,u,p){let g=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,u>>>=0,p<=u))return"";for(d||(d="utf8");;)switch(d){case"hex":return q(this,u,p);case"utf8":case"utf-8":return fe(this,u,p);case"ascii":return se(this,u,p);case"latin1":case"binary":return _(this,u,p);case"base64":return ue(this,u,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,u,p);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),g=!0}}l.prototype._isBuffer=!0;function L(d,u,p){const g=d[u];d[u]=d[p],d[p]=g}l.prototype.swap16=function(){const u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<u;p+=2)L(this,p,p+1);return this},l.prototype.swap32=function(){const u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<u;p+=4)L(this,p,p+3),L(this,p+1,p+2);return this},l.prototype.swap64=function(){const u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<u;p+=8)L(this,p,p+7),L(this,p+1,p+6),L(this,p+2,p+5),L(this,p+3,p+4);return this},l.prototype.toString=function(){const u=this.length;return u===0?"":arguments.length===0?fe(this,0,u):S.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(u){if(!l.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:l.compare(this,u)===0},l.prototype.inspect=function(){let u="";const p=e.INSPECT_MAX_BYTES;return u=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(u+=" ... "),"<Buffer "+u+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(u,p,g,b,E){if(ve(u,s)&&(u=l.from(u,u.offset,u.byteLength)),!l.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(p===void 0&&(p=0),g===void 0&&(g=u?u.length:0),b===void 0&&(b=0),E===void 0&&(E=this.length),p<0||g>u.length||b<0||E>this.length)throw new RangeError("out of range index");if(b>=E&&p>=g)return 0;if(b>=E)return-1;if(p>=g)return 1;if(p>>>=0,g>>>=0,b>>>=0,E>>>=0,this===u)return 0;let w=E-b,G=g-p;const Z=Math.min(w,G),K=this.slice(b,E),Q=u.slice(p,g);for(let Y=0;Y<Z;++Y)if(K[Y]!==Q[Y]){w=K[Y],G=Q[Y];break}return w<G?-1:G<w?1:0};function D(d,u,p,g,b){if(d.length===0)return-1;if(typeof p=="string"?(g=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,dt(p)&&(p=b?0:d.length-1),p<0&&(p=d.length+p),p>=d.length){if(b)return-1;p=d.length-1}else if(p<0)if(b)p=0;else return-1;if(typeof u=="string"&&(u=l.from(u,g)),l.isBuffer(u))return u.length===0?-1:J(d,u,p,g,b);if(typeof u=="number")return u=u&255,typeof s.prototype.indexOf=="function"?b?s.prototype.indexOf.call(d,u,p):s.prototype.lastIndexOf.call(d,u,p):J(d,[u],p,g,b);throw new TypeError("val must be string, number or Buffer")}function J(d,u,p,g,b){let E=1,w=d.length,G=u.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(d.length<2||u.length<2)return-1;E=2,w/=2,G/=2,p/=2}function Z(Q,Y){return E===1?Q[Y]:Q.readUInt16BE(Y*E)}let K;if(b){let Q=-1;for(K=p;K<w;K++)if(Z(d,K)===Z(u,Q===-1?0:K-Q)){if(Q===-1&&(Q=K),K-Q+1===G)return Q*E}else Q!==-1&&(K-=K-Q),Q=-1}else for(p+G>w&&(p=w-G),K=p;K>=0;K--){let Q=!0;for(let Y=0;Y<G;Y++)if(Z(d,K+Y)!==Z(u,Y)){Q=!1;break}if(Q)return K}return-1}l.prototype.includes=function(u,p,g){return this.indexOf(u,p,g)!==-1},l.prototype.indexOf=function(u,p,g){return D(this,u,p,g,!0)},l.prototype.lastIndexOf=function(u,p,g){return D(this,u,p,g,!1)};function T(d,u,p,g){p=Number(p)||0;const b=d.length-p;g?(g=Number(g),g>b&&(g=b)):g=b;const E=u.length;g>E/2&&(g=E/2);let w;for(w=0;w<g;++w){const G=parseInt(u.substr(w*2,2),16);if(dt(G))return w;d[p+w]=G}return w}function re(d,u,p,g){return Ke(ht(u,d.length-p),d,p,g)}function oe(d,u,p,g){return Ke(Vs(u),d,p,g)}function ie(d,u,p,g){return Ke(tn(u),d,p,g)}function pe(d,u,p,g){return Ke(Hs(u,d.length-p),d,p,g)}l.prototype.write=function(u,p,g,b){if(p===void 0)b="utf8",g=this.length,p=0;else if(g===void 0&&typeof p=="string")b=p,g=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(g)?(g=g>>>0,b===void 0&&(b="utf8")):(b=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const E=this.length-p;if((g===void 0||g>E)&&(g=E),u.length>0&&(g<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");b||(b="utf8");let w=!1;for(;;)switch(b){case"hex":return T(this,u,p,g);case"utf8":case"utf-8":return re(this,u,p,g);case"ascii":case"latin1":case"binary":return oe(this,u,p,g);case"base64":return ie(this,u,p,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,u,p,g);default:if(w)throw new TypeError("Unknown encoding: "+b);b=(""+b).toLowerCase(),w=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ue(d,u,p){return u===0&&p===d.length?t.fromByteArray(d):t.fromByteArray(d.slice(u,p))}function fe(d,u,p){p=Math.min(d.length,p);const g=[];let b=u;for(;b<p;){const E=d[b];let w=null,G=E>239?4:E>223?3:E>191?2:1;if(b+G<=p){let Z,K,Q,Y;switch(G){case 1:E<128&&(w=E);break;case 2:Z=d[b+1],(Z&192)===128&&(Y=(E&31)<<6|Z&63,Y>127&&(w=Y));break;case 3:Z=d[b+1],K=d[b+2],(Z&192)===128&&(K&192)===128&&(Y=(E&15)<<12|(Z&63)<<6|K&63,Y>2047&&(Y<55296||Y>57343)&&(w=Y));break;case 4:Z=d[b+1],K=d[b+2],Q=d[b+3],(Z&192)===128&&(K&192)===128&&(Q&192)===128&&(Y=(E&15)<<18|(Z&63)<<12|(K&63)<<6|Q&63,Y>65535&&Y<1114112&&(w=Y))}}w===null?(w=65533,G=1):w>65535&&(w-=65536,g.push(w>>>10&1023|55296),w=56320|w&1023),g.push(w),b+=G}return ge(g)}const ae=4096;function ge(d){const u=d.length;if(u<=ae)return String.fromCharCode.apply(String,d);let p="",g=0;for(;g<u;)p+=String.fromCharCode.apply(String,d.slice(g,g+=ae));return p}function se(d,u,p){let g="";p=Math.min(d.length,p);for(let b=u;b<p;++b)g+=String.fromCharCode(d[b]&127);return g}function _(d,u,p){let g="";p=Math.min(d.length,p);for(let b=u;b<p;++b)g+=String.fromCharCode(d[b]);return g}function q(d,u,p){const g=d.length;(!u||u<0)&&(u=0),(!p||p<0||p>g)&&(p=g);let b="";for(let E=u;E<p;++E)b+=Ws[d[E]];return b}function z(d,u,p){const g=d.slice(u,p);let b="";for(let E=0;E<g.length-1;E+=2)b+=String.fromCharCode(g[E]+g[E+1]*256);return b}l.prototype.slice=function(u,p){const g=this.length;u=~~u,p=p===void 0?g:~~p,u<0?(u+=g,u<0&&(u=0)):u>g&&(u=g),p<0?(p+=g,p<0&&(p=0)):p>g&&(p=g),p<u&&(p=u);const b=this.subarray(u,p);return Object.setPrototypeOf(b,l.prototype),b};function H(d,u,p){if(d%1!==0||d<0)throw new RangeError("offset is not uint");if(d+u>p)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(u,p,g){u=u>>>0,p=p>>>0,g||H(u,p,this.length);let b=this[u],E=1,w=0;for(;++w<p&&(E*=256);)b+=this[u+w]*E;return b},l.prototype.readUintBE=l.prototype.readUIntBE=function(u,p,g){u=u>>>0,p=p>>>0,g||H(u,p,this.length);let b=this[u+--p],E=1;for(;p>0&&(E*=256);)b+=this[u+--p]*E;return b},l.prototype.readUint8=l.prototype.readUInt8=function(u,p){return u=u>>>0,p||H(u,1,this.length),this[u]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(u,p){return u=u>>>0,p||H(u,2,this.length),this[u]|this[u+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(u,p){return u=u>>>0,p||H(u,2,this.length),this[u]<<8|this[u+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(u,p){return u=u>>>0,p||H(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(u,p){return u=u>>>0,p||H(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},l.prototype.readBigUInt64LE=Pe(function(u){u=u>>>0,xe(u,"offset");const p=this[u],g=this[u+7];(p===void 0||g===void 0)&&Re(u,this.length-8);const b=p+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,E=this[++u]+this[++u]*2**8+this[++u]*2**16+g*2**24;return BigInt(b)+(BigInt(E)<<BigInt(32))}),l.prototype.readBigUInt64BE=Pe(function(u){u=u>>>0,xe(u,"offset");const p=this[u],g=this[u+7];(p===void 0||g===void 0)&&Re(u,this.length-8);const b=p*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],E=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+g;return(BigInt(b)<<BigInt(32))+BigInt(E)}),l.prototype.readIntLE=function(u,p,g){u=u>>>0,p=p>>>0,g||H(u,p,this.length);let b=this[u],E=1,w=0;for(;++w<p&&(E*=256);)b+=this[u+w]*E;return E*=128,b>=E&&(b-=Math.pow(2,8*p)),b},l.prototype.readIntBE=function(u,p,g){u=u>>>0,p=p>>>0,g||H(u,p,this.length);let b=p,E=1,w=this[u+--b];for(;b>0&&(E*=256);)w+=this[u+--b]*E;return E*=128,w>=E&&(w-=Math.pow(2,8*p)),w},l.prototype.readInt8=function(u,p){return u=u>>>0,p||H(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},l.prototype.readInt16LE=function(u,p){u=u>>>0,p||H(u,2,this.length);const g=this[u]|this[u+1]<<8;return g&32768?g|4294901760:g},l.prototype.readInt16BE=function(u,p){u=u>>>0,p||H(u,2,this.length);const g=this[u+1]|this[u]<<8;return g&32768?g|4294901760:g},l.prototype.readInt32LE=function(u,p){return u=u>>>0,p||H(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},l.prototype.readInt32BE=function(u,p){return u=u>>>0,p||H(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},l.prototype.readBigInt64LE=Pe(function(u){u=u>>>0,xe(u,"offset");const p=this[u],g=this[u+7];(p===void 0||g===void 0)&&Re(u,this.length-8);const b=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(g<<24);return(BigInt(b)<<BigInt(32))+BigInt(p+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),l.prototype.readBigInt64BE=Pe(function(u){u=u>>>0,xe(u,"offset");const p=this[u],g=this[u+7];(p===void 0||g===void 0)&&Re(u,this.length-8);const b=(p<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(b)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+g)}),l.prototype.readFloatLE=function(u,p){return u=u>>>0,p||H(u,4,this.length),r.read(this,u,!0,23,4)},l.prototype.readFloatBE=function(u,p){return u=u>>>0,p||H(u,4,this.length),r.read(this,u,!1,23,4)},l.prototype.readDoubleLE=function(u,p){return u=u>>>0,p||H(u,8,this.length),r.read(this,u,!0,52,8)},l.prototype.readDoubleBE=function(u,p){return u=u>>>0,p||H(u,8,this.length),r.read(this,u,!1,52,8)};function O(d,u,p,g,b,E){if(!l.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>b||u<E)throw new RangeError('"value" argument is out of bounds');if(p+g>d.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(u,p,g,b){if(u=+u,p=p>>>0,g=g>>>0,!b){const G=Math.pow(2,8*g)-1;O(this,u,p,g,G,0)}let E=1,w=0;for(this[p]=u&255;++w<g&&(E*=256);)this[p+w]=u/E&255;return p+g},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(u,p,g,b){if(u=+u,p=p>>>0,g=g>>>0,!b){const G=Math.pow(2,8*g)-1;O(this,u,p,g,G,0)}let E=g-1,w=1;for(this[p+E]=u&255;--E>=0&&(w*=256);)this[p+E]=u/w&255;return p+g},l.prototype.writeUint8=l.prototype.writeUInt8=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,1,255,0),this[p]=u&255,p+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,2,65535,0),this[p]=u&255,this[p+1]=u>>>8,p+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,2,65535,0),this[p]=u>>>8,this[p+1]=u&255,p+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,4,4294967295,0),this[p+3]=u>>>24,this[p+2]=u>>>16,this[p+1]=u>>>8,this[p]=u&255,p+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,4,4294967295,0),this[p]=u>>>24,this[p+1]=u>>>16,this[p+2]=u>>>8,this[p+3]=u&255,p+4};function te(d,u,p,g,b){we(u,g,b,d,p,7);let E=Number(u&BigInt(4294967295));d[p++]=E,E=E>>8,d[p++]=E,E=E>>8,d[p++]=E,E=E>>8,d[p++]=E;let w=Number(u>>BigInt(32)&BigInt(4294967295));return d[p++]=w,w=w>>8,d[p++]=w,w=w>>8,d[p++]=w,w=w>>8,d[p++]=w,p}function k(d,u,p,g,b){we(u,g,b,d,p,7);let E=Number(u&BigInt(4294967295));d[p+7]=E,E=E>>8,d[p+6]=E,E=E>>8,d[p+5]=E,E=E>>8,d[p+4]=E;let w=Number(u>>BigInt(32)&BigInt(4294967295));return d[p+3]=w,w=w>>8,d[p+2]=w,w=w>>8,d[p+1]=w,w=w>>8,d[p]=w,p+8}l.prototype.writeBigUInt64LE=Pe(function(u,p=0){return te(this,u,p,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Pe(function(u,p=0){return k(this,u,p,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(u,p,g,b){if(u=+u,p=p>>>0,!b){const Z=Math.pow(2,8*g-1);O(this,u,p,g,Z-1,-Z)}let E=0,w=1,G=0;for(this[p]=u&255;++E<g&&(w*=256);)u<0&&G===0&&this[p+E-1]!==0&&(G=1),this[p+E]=(u/w>>0)-G&255;return p+g},l.prototype.writeIntBE=function(u,p,g,b){if(u=+u,p=p>>>0,!b){const Z=Math.pow(2,8*g-1);O(this,u,p,g,Z-1,-Z)}let E=g-1,w=1,G=0;for(this[p+E]=u&255;--E>=0&&(w*=256);)u<0&&G===0&&this[p+E+1]!==0&&(G=1),this[p+E]=(u/w>>0)-G&255;return p+g},l.prototype.writeInt8=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,1,127,-128),u<0&&(u=255+u+1),this[p]=u&255,p+1},l.prototype.writeInt16LE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,2,32767,-32768),this[p]=u&255,this[p+1]=u>>>8,p+2},l.prototype.writeInt16BE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,2,32767,-32768),this[p]=u>>>8,this[p+1]=u&255,p+2},l.prototype.writeInt32LE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,4,2147483647,-2147483648),this[p]=u&255,this[p+1]=u>>>8,this[p+2]=u>>>16,this[p+3]=u>>>24,p+4},l.prototype.writeInt32BE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[p]=u>>>24,this[p+1]=u>>>16,this[p+2]=u>>>8,this[p+3]=u&255,p+4},l.prototype.writeBigInt64LE=Pe(function(u,p=0){return te(this,u,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Pe(function(u,p=0){return k(this,u,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function C(d,u,p,g,b,E){if(p+g>d.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function R(d,u,p,g,b){return u=+u,p=p>>>0,b||C(d,u,p,4),r.write(d,u,p,g,23,4),p+4}l.prototype.writeFloatLE=function(u,p,g){return R(this,u,p,!0,g)},l.prototype.writeFloatBE=function(u,p,g){return R(this,u,p,!1,g)};function P(d,u,p,g,b){return u=+u,p=p>>>0,b||C(d,u,p,8),r.write(d,u,p,g,52,8),p+8}l.prototype.writeDoubleLE=function(u,p,g){return P(this,u,p,!0,g)},l.prototype.writeDoubleBE=function(u,p,g){return P(this,u,p,!1,g)},l.prototype.copy=function(u,p,g,b){if(!l.isBuffer(u))throw new TypeError("argument should be a Buffer");if(g||(g=0),!b&&b!==0&&(b=this.length),p>=u.length&&(p=u.length),p||(p=0),b>0&&b<g&&(b=g),b===g||u.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("sourceEnd out of bounds");b>this.length&&(b=this.length),u.length-p<b-g&&(b=u.length-p+g);const E=b-g;return this===u&&typeof s.prototype.copyWithin=="function"?this.copyWithin(p,g,b):s.prototype.set.call(u,this.subarray(g,b),p),E},l.prototype.fill=function(u,p,g,b){if(typeof u=="string"){if(typeof p=="string"?(b=p,p=0,g=this.length):typeof g=="string"&&(b=g,g=this.length),b!==void 0&&typeof b!="string")throw new TypeError("encoding must be a string");if(typeof b=="string"&&!l.isEncoding(b))throw new TypeError("Unknown encoding: "+b);if(u.length===1){const w=u.charCodeAt(0);(b==="utf8"&&w<128||b==="latin1")&&(u=w)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(p<0||this.length<p||this.length<g)throw new RangeError("Out of range index");if(g<=p)return this;p=p>>>0,g=g===void 0?this.length:g>>>0,u||(u=0);let E;if(typeof u=="number")for(E=p;E<g;++E)this[E]=u;else{const w=l.isBuffer(u)?u:l.from(u,b),G=w.length;if(G===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(E=0;E<g-p;++E)this[E+p]=w[E%G]}return this};const I={};function N(d,u,p){I[d]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${d}]`,this.stack,delete this.name}get code(){return d}set code(b){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:b,writable:!0})}toString(){return`${this.name} [${d}]: ${this.message}`}}}N("ERR_BUFFER_OUT_OF_BOUNDS",function(d){return d?`${d} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(d,u){return`The "${d}" argument must be of type number. Received type ${typeof u}`},TypeError),N("ERR_OUT_OF_RANGE",function(d,u,p){let g=`The value of "${d}" is out of range.`,b=p;return Number.isInteger(p)&&Math.abs(p)>2**32?b=V(String(p)):typeof p=="bigint"&&(b=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(b=V(b)),b+="n"),g+=` It must be ${u}. Received ${b}`,g},RangeError);function V(d){let u="",p=d.length;const g=d[0]==="-"?1:0;for(;p>=g+4;p-=3)u=`_${d.slice(p-3,p)}${u}`;return`${d.slice(0,p)}${u}`}function X(d,u,p){xe(u,"offset"),(d[u]===void 0||d[u+p]===void 0)&&Re(u,d.length-(p+1))}function we(d,u,p,g,b,E){if(d>p||d<u){const w=typeof u=="bigint"?"n":"";let G;throw u===0||u===BigInt(0)?G=`>= 0${w} and < 2${w} ** ${(E+1)*8}${w}`:G=`>= -(2${w} ** ${(E+1)*8-1}${w}) and < 2 ** ${(E+1)*8-1}${w}`,new I.ERR_OUT_OF_RANGE("value",G,d)}X(g,b,E)}function xe(d,u){if(typeof d!="number")throw new I.ERR_INVALID_ARG_TYPE(u,"number",d)}function Re(d,u,p){throw Math.floor(d)!==d?(xe(d,p),new I.ERR_OUT_OF_RANGE("offset","an integer",d)):u<0?new I.ERR_BUFFER_OUT_OF_BOUNDS:new I.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u}`,d)}const qs=/[^+/0-9A-Za-z-_]/g;function zs(d){if(d=d.split("=")[0],d=d.trim().replace(qs,""),d.length<2)return"";for(;d.length%4!==0;)d=d+"=";return d}function ht(d,u){u=u||1/0;let p;const g=d.length;let b=null;const E=[];for(let w=0;w<g;++w){if(p=d.charCodeAt(w),p>55295&&p<57344){if(!b){if(p>56319){(u-=3)>-1&&E.push(239,191,189);continue}else if(w+1===g){(u-=3)>-1&&E.push(239,191,189);continue}b=p;continue}if(p<56320){(u-=3)>-1&&E.push(239,191,189),b=p;continue}p=(b-55296<<10|p-56320)+65536}else b&&(u-=3)>-1&&E.push(239,191,189);if(b=null,p<128){if((u-=1)<0)break;E.push(p)}else if(p<2048){if((u-=2)<0)break;E.push(p>>6|192,p&63|128)}else if(p<65536){if((u-=3)<0)break;E.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((u-=4)<0)break;E.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return E}function Vs(d){const u=[];for(let p=0;p<d.length;++p)u.push(d.charCodeAt(p)&255);return u}function Hs(d,u){let p,g,b;const E=[];for(let w=0;w<d.length&&!((u-=2)<0);++w)p=d.charCodeAt(w),g=p>>8,b=p%256,E.push(b),E.push(g);return E}function tn(d){return t.toByteArray(zs(d))}function Ke(d,u,p,g){let b;for(b=0;b<g&&!(b+p>=u.length||b>=d.length);++b)u[b+p]=d[b];return b}function ve(d,u){return d instanceof u||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===u.name}function dt(d){return d!==d}const Ws=function(){const d="0123456789abcdef",u=new Array(256);for(let p=0;p<16;++p){const g=p*16;for(let b=0;b<16;++b)u[g+b]=d[p]+d[b]}return u}();function Pe(d){return typeof BigInt>"u"?Gs:d}function Gs(){throw new Error("BigInt not supported")}})(As);const au=As.Buffer;var Zt,qn;function Ce(){if(qn)return Zt;qn=1;var e=ne();function t(i,s,o,a,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",s&&(this.code=s),o&&(this.config=o),a&&(this.request=a),c&&(this.response=c)}e.inherits(t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var r=t.prototype,n={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(i){n[i]={value:i}}),Object.defineProperties(t,n),Object.defineProperty(r,"isAxiosError",{value:!0}),t.from=function(i,s,o,a,c,h){var l=Object.create(r);return e.toFlatObject(i,l,function(y){return y!==Error.prototype}),t.call(l,i.message,s,o,a,c),l.cause=i,l.name=i.name,h&&Object.assign(l,h),l},Zt=t,Zt}var Qt,zn;function cu(){return zn||(zn=1,Qt=typeof self=="object"?self.FormData:window.FormData),Qt}var er,Vn;function uu(){return Vn||(Vn=1,er=cu()),er}var tr,Hn;function pt(){if(Hn)return tr;Hn=1;var e=ne(),t=Ce(),r=uu();function n(l){return e.isPlainObject(l)||e.isArray(l)}function i(l){return e.endsWith(l,"[]")?l.slice(0,-2):l}function s(l,f,y){return l?l.concat(f).map(function(x,v){return x=i(x),!y&&v?"["+x+"]":x}).join(y?".":""):f}function o(l){return e.isArray(l)&&!l.some(n)}var a=e.toFlatObject(e,{},null,function(f){return/^is[A-Z]/.test(f)});function c(l){return l&&e.isFunction(l.append)&&l[Symbol.toStringTag]==="FormData"&&l[Symbol.iterator]}function h(l,f,y){if(!e.isObject(l))throw new TypeError("target must be an object");f=f||new(r||FormData),y=e.toFlatObject(y,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,J){return!e.isUndefined(J[D])});var m=y.metaTokens,x=y.visitor||W,v=y.dots,A=y.indexes,B=y.Blob||typeof Blob<"u"&&Blob,M=B&&c(f);if(!e.isFunction(x))throw new TypeError("visitor must be a function");function $(L){if(L===null)return"";if(e.isDate(L))return L.toISOString();if(!M&&e.isBlob(L))throw new t("Blob is not supported. Use a Buffer instead.");return e.isArrayBuffer(L)||e.isTypedArray(L)?M&&typeof Blob=="function"?new Blob([L]):au.from(L):L}function W(L,D,J){var T=L;if(L&&!J&&typeof L=="object"){if(e.endsWith(D,"{}"))D=m?D:D.slice(0,-2),L=JSON.stringify(L);else if(e.isArray(L)&&o(L)||e.isFileList(L)||e.endsWith(D,"[]")&&(T=e.toArray(L)))return D=i(D),T.forEach(function(oe,ie){!(e.isUndefined(oe)||oe===null)&&f.append(A===!0?s([D],ie,v):A===null?D:D+"[]",$(oe))}),!1}return n(L)?!0:(f.append(s(J,D,v),$(L)),!1)}var F=[],j=Object.assign(a,{defaultVisitor:W,convertValue:$,isVisitable:n});function S(L,D){if(!e.isUndefined(L)){if(F.indexOf(L)!==-1)throw Error("Circular reference detected in "+D.join("."));F.push(L),e.forEach(L,function(T,re){var oe=!(e.isUndefined(T)||T===null)&&x.call(f,T,e.isString(re)?re.trim():re,D,j);oe===!0&&S(T,D?D.concat(re):[re])}),F.pop()}}if(!e.isObject(l))throw new TypeError("data must be an object");return S(l),f}return tr=h,tr}var rr,Wn;function Ps(){if(Wn)return rr;Wn=1;var e=pt();function t(i){var s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'\(\)~]|%20|%00/g,function(a){return s[a]})}function r(i,s){this._pairs=[],i&&e(i,this,s)}var n=r.prototype;return n.append=function(s,o){this._pairs.push([s,o])},n.toString=function(s){var o=s?function(a){return s.call(this,a,t)}:t;return this._pairs.map(function(c){return o(c[0])+"="+o(c[1])},"").join("&")},rr=r,rr}var nr,Gn;function Os(){if(Gn)return nr;Gn=1;var e=ne(),t=Ps();function r(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return nr=function(i,s,o){if(!s)return i;var a=i.indexOf("#");a!==-1&&(i=i.slice(0,a));var c=o&&o.encode||r,h=o&&o.serialize,l;return h?l=h(s,o):l=e.isURLSearchParams(s)?s.toString():new t(s,o).toString(c),l&&(i+=(i.indexOf("?")===-1?"?":"&")+l),i},nr}var ir,Jn;function lu(){if(Jn)return ir;Jn=1;var e=ne();function t(){this.handlers=[]}return t.prototype.use=function(n,i,s){return this.handlers.push({fulfilled:n,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1},t.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)},t.prototype.clear=function(){this.handlers&&(this.handlers=[])},t.prototype.forEach=function(n){e.forEach(this.handlers,function(s){s!==null&&n(s)})},ir=t,ir}var sr,Yn;function ks(){if(Yn)return sr;Yn=1;var e=ne();return sr=function(r,n){e.forEach(r,function(s,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(r[n]=s,delete r[o])})},sr}var or,Kn;function Cs(){return Kn||(Kn=1,or={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}),or}var ar,Tn;function pu(){if(Tn)return ar;Tn=1;var e=Ps();return ar=typeof URLSearchParams<"u"?URLSearchParams:e,ar}var cr,Xn;function fu(){return Xn||(Xn=1,cr=FormData),cr}var ur,Zn;function hu(){return Zn||(Zn=1,ur={isBrowser:!0,classes:{URLSearchParams:pu(),FormData:fu(),Blob},protocols:["http","https","file","blob","url","data"]}),ur}var lr,Qn;function Zr(){return Qn||(Qn=1,lr=hu()),lr}var pr,ei;function du(){if(ei)return pr;ei=1;var e=ne(),t=pt(),r=Zr();return pr=function(i,s){return t(i,new r.classes.URLSearchParams,Object.assign({visitor:function(o,a,c,h){return r.isNode&&e.isBuffer(o)?(this.append(a,o.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},s))},pr}var fr,ti;function Fs(){if(ti)return fr;ti=1;var e=ne();function t(i){return e.matchAll(/\w+|\[(\w*)]/g,i).map(function(s){return s[0]==="[]"?"":s[1]||s[0]})}function r(i){var s={},o=Object.keys(i),a,c=o.length,h;for(a=0;a<c;a++)h=o[a],s[h]=i[h];return s}function n(i){function s(a,c,h,l){var f=a[l++];if(f==="__proto__")return!0;var y=Number.isFinite(+f),m=l>=a.length;if(f=!f&&e.isArray(h)?h.length:f,m)return e.hasOwnProperty(h,f)?h[f]=[h[f],c]:h[f]=c,!y;(!h[f]||!e.isObject(h[f]))&&(h[f]=[]);var x=s(a,c,h[f],l);return x&&e.isArray(h[f])&&(h[f]=r(h[f])),!y}if(e.isFormData(i)&&e.isFunction(i.entries)){var o={};return e.forEachEntry(i,function(a,c){s(t(a),c,o,0)}),o}return null}return fr=n,fr}var hr,ri;function yu(){if(ri)return hr;ri=1;var e=Ce();return hr=function(r,n,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?r(i):n(new e("Request failed with status code "+i.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},hr}var dr,ni;function mu(){if(ni)return dr;ni=1;var e=ne();return dr=e.isStandardBrowserEnv()?function(){return{write:function(n,i,s,o,a,c){var h=[];h.push(n+"="+encodeURIComponent(i)),e.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),e.isString(o)&&h.push("path="+o),e.isString(a)&&h.push("domain="+a),c===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),dr}var yr,ii;function gu(){return ii||(ii=1,yr=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),yr}var mr,si;function xu(){return si||(si=1,mr=function(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}),mr}var gr,oi;function Is(){if(oi)return gr;oi=1;var e=gu(),t=xu();return gr=function(n,i){return n&&!e(i)?t(n,i):i},gr}var xr,ai;function bu(){if(ai)return xr;ai=1;var e=ne(),t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return xr=function(n){var i={},s,o,a;return n&&e.forEach(n.split(`
`),function(h){if(a=h.indexOf(":"),s=e.trim(h.slice(0,a)).toLowerCase(),o=e.trim(h.slice(a+1)),s){if(i[s]&&t.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},xr}var br,ci;function vu(){if(ci)return br;ci=1;var e=ne();return br=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function s(o){var a=o;return r&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(a){var c=e.isString(a)?s(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),br}var vr,ui;function ft(){if(ui)return vr;ui=1;var e=Ce(),t=ne();function r(n,i,s){e.call(this,n??"canceled",e.ERR_CANCELED,i,s),this.name="CanceledError"}return t.inherits(r,e,{__CANCEL__:!0}),vr=r,vr}var Er,li;function Eu(){return li||(li=1,Er=function(t){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}),Er}var _r,pi;function fi(){if(pi)return _r;pi=1;var e=ne(),t=yu(),r=mu(),n=Os(),i=Is(),s=bu(),o=vu(),a=Cs(),c=Ce(),h=ft(),l=Eu(),f=Zr();return _r=function(m){return new Promise(function(v,A){var B=m.data,M=m.headers,$=m.responseType,W=m.withXSRFToken,F;function j(){m.cancelToken&&m.cancelToken.unsubscribe(F),m.signal&&m.signal.removeEventListener("abort",F)}e.isFormData(B)&&e.isStandardBrowserEnv()&&delete M["Content-Type"];var S=new XMLHttpRequest;if(m.auth){var L=m.auth.username||"",D=m.auth.password?unescape(encodeURIComponent(m.auth.password)):"";M.Authorization="Basic "+btoa(L+":"+D)}var J=i(m.baseURL,m.url);S.open(m.method.toUpperCase(),n(J,m.params,m.paramsSerializer),!0),S.timeout=m.timeout;function T(){if(S){var ie="getAllResponseHeaders"in S?s(S.getAllResponseHeaders()):null,pe=!$||$==="text"||$==="json"?S.responseText:S.response,ue={data:pe,status:S.status,statusText:S.statusText,headers:ie,config:m,request:S};t(function(ae){v(ae),j()},function(ae){A(ae),j()},ue),S=null}}if("onloadend"in S?S.onloadend=T:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(T)},S.onabort=function(){S&&(A(new c("Request aborted",c.ECONNABORTED,m,S)),S=null)},S.onerror=function(){A(new c("Network Error",c.ERR_NETWORK,m,S)),S=null},S.ontimeout=function(){var pe=m.timeout?"timeout of "+m.timeout+"ms exceeded":"timeout exceeded",ue=m.transitional||a;m.timeoutErrorMessage&&(pe=m.timeoutErrorMessage),A(new c(pe,ue.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,m,S)),S=null},e.isStandardBrowserEnv()&&(W&&e.isFunction(W)&&(W=W(m)),W||W!==!1&&o(J))){var re=m.xsrfHeaderName&&m.xsrfCookieName&&r.read(m.xsrfCookieName);re&&(M[m.xsrfHeaderName]=re)}"setRequestHeader"in S&&e.forEach(M,function(pe,ue){typeof B>"u"&&ue.toLowerCase()==="content-type"?delete M[ue]:S.setRequestHeader(ue,pe)}),e.isUndefined(m.withCredentials)||(S.withCredentials=!!m.withCredentials),$&&$!=="json"&&(S.responseType=m.responseType),typeof m.onDownloadProgress=="function"&&S.addEventListener("progress",m.onDownloadProgress),typeof m.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",m.onUploadProgress),(m.cancelToken||m.signal)&&(F=function(ie){S&&(A(!ie||ie.type?new h(null,m,S):ie),S.abort(),S=null)},m.cancelToken&&m.cancelToken.subscribe(F),m.signal&&(m.signal.aborted?F():m.signal.addEventListener("abort",F))),!B&&B!==!1&&B!==0&&B!==""&&(B=null);var oe=l(J);if(oe&&f.protocols.indexOf(oe)===-1){A(new c("Unsupported protocol "+oe+":",c.ERR_BAD_REQUEST,m));return}S.send(B)})},_r}var Sr,hi;function Qr(){if(hi)return Sr;hi=1;var e=ne(),t=ks(),r=Ce(),n=Cs(),i=pt(),s=du(),o=Zr(),a=Fs(),c={"Content-Type":"application/x-www-form-urlencoded"};function h(m,x){!e.isUndefined(m)&&e.isUndefined(m["Content-Type"])&&(m["Content-Type"]=x)}function l(){var m;return(typeof XMLHttpRequest<"u"||typeof Nr<"u"&&Object.prototype.toString.call(Nr)==="[object process]")&&(m=fi()),m}function f(m,x,v){if(e.isString(m))try{return(x||JSON.parse)(m),e.trim(m)}catch(A){if(A.name!=="SyntaxError")throw A}return(v||JSON.stringify)(m)}var y={transitional:n,adapter:l(),transformRequest:[function(x,v){t(v,"Accept"),t(v,"Content-Type");var A=v&&v["Content-Type"]||"",B=A.indexOf("application/json")>-1,M=e.isObject(x);M&&e.isHTMLForm(x)&&(x=new FormData(x));var $=e.isFormData(x);if($)return B?JSON.stringify(a(x)):x;if(e.isArrayBuffer(x)||e.isBuffer(x)||e.isStream(x)||e.isFile(x)||e.isBlob(x))return x;if(e.isArrayBufferView(x))return x.buffer;if(e.isURLSearchParams(x))return h(v,"application/x-www-form-urlencoded;charset=utf-8"),x.toString();var W;if(M){if(A.indexOf("application/x-www-form-urlencoded")!==-1)return s(x,this.formSerializer).toString();if((W=e.isFileList(x))||A.indexOf("multipart/form-data")>-1){var F=this.env&&this.env.FormData;return i(W?{"files[]":x}:x,F&&new F,this.formSerializer)}}return M||B?(h(v,"application/json"),f(x)):x}],transformResponse:[function(x){var v=this.transitional||y.transitional,A=v&&v.forcedJSONParsing,B=this.responseType==="json";if(x&&e.isString(x)&&(A&&!this.responseType||B)){var M=v&&v.silentJSONParsing,$=!M&&B;try{return JSON.parse(x)}catch(W){if($)throw W.name==="SyntaxError"?r.from(W,r.ERR_BAD_RESPONSE,this,null,this.response):W}}return x}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:o.classes.FormData,Blob:o.classes.Blob},validateStatus:function(x){return x>=200&&x<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],function(x){y.headers[x]={}}),e.forEach(["post","put","patch"],function(x){y.headers[x]=e.merge(c)}),Sr=y,Sr}var Rr,di;function _u(){if(di)return Rr;di=1;var e=ne(),t=Qr();return Rr=function(n,i,s,o){var a=this||t;return e.forEach(o,function(h){n=h.call(a,n,i,s)}),n},Rr}var Ar,yi;function Bs(){return yi||(yi=1,Ar=function(t){return!!(t&&t.__CANCEL__)}),Ar}var wr,mi;function Su(){if(mi)return wr;mi=1;var e=ne(),t=_u(),r=Bs(),n=Qr(),i=ft(),s=ks();function o(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new i}return wr=function(c){o(c),c.headers=c.headers||{},c.data=t.call(c,c.data,c.headers,null,c.transformRequest),s(c.headers,"Accept"),s(c.headers,"Content-Type"),c.headers=e.merge(c.headers.common||{},c.headers[c.method]||{},c.headers),e.forEach(["delete","get","head","post","put","patch","common"],function(f){delete c.headers[f]});var h=c.adapter||n.adapter;return h(c).then(function(f){return o(c),f.data=t.call(c,f.data,f.headers,f.status,c.transformResponse),f},function(f){return r(f)||(o(c),f&&f.response&&(f.response.data=t.call(c,f.response.data,f.response.headers,f.response.status,c.transformResponse))),Promise.reject(f)})},wr}var Pr,gi;function Ls(){if(gi)return Pr;gi=1;var e=ne();return Pr=function(r,n){n=n||{};var i={};function s(f,y){return e.isPlainObject(f)&&e.isPlainObject(y)?e.merge(f,y):e.isEmptyObject(y)?e.merge({},f):e.isPlainObject(y)?e.merge({},y):e.isArray(y)?y.slice():y}function o(f){if(e.isUndefined(n[f])){if(!e.isUndefined(r[f]))return s(void 0,r[f])}else return s(r[f],n[f])}function a(f){if(!e.isUndefined(n[f]))return s(void 0,n[f])}function c(f){if(e.isUndefined(n[f])){if(!e.isUndefined(r[f]))return s(void 0,r[f])}else return s(void 0,n[f])}function h(f){if(f in n)return s(r[f],n[f]);if(f in r)return s(void 0,r[f])}var l={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h};return e.forEach(Object.keys(r).concat(Object.keys(n)),function(y){var m=l[y]||o,x=m(y);e.isUndefined(x)&&m!==h||(i[y]=x)}),i},Pr}var Or,xi;function Ns(){return xi||(xi=1,Or={version:"0.29.0"}),Or}var kr,bi;function Ru(){if(bi)return kr;bi=1;var e=Ns().version,t=Ce(),r={};["object","boolean","number","function","string","symbol"].forEach(function(s,o){r[s]=function(c){return typeof c===s||"a"+(o<1?"n ":" ")+s}});var n={};r.transitional=function(o,a,c){function h(l,f){return"[Axios v"+e+"] Transitional option '"+l+"'"+f+(c?". "+c:"")}return function(l,f,y){if(o===!1)throw new t(h(f," has been removed"+(a?" in "+a:"")),t.ERR_DEPRECATED);return a&&!n[f]&&(n[f]=!0,console.warn(h(f," has been deprecated since v"+a+" and will be removed in the near future"))),o?o(l,f,y):!0}};function i(s,o,a){if(typeof s!="object")throw new t("options must be an object",t.ERR_BAD_OPTION_VALUE);for(var c=Object.keys(s),h=c.length;h-- >0;){var l=c[h],f=o[l];if(f){var y=s[l],m=y===void 0||f(y,l,s);if(m!==!0)throw new t("option "+l+" must be "+m,t.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new t("Unknown option "+l,t.ERR_BAD_OPTION)}}return kr={assertOptions:i,validators:r},kr}var Cr,vi;function Au(){if(vi)return Cr;vi=1;var e=ne(),t=Os(),r=lu(),n=Su(),i=Ls(),s=Is(),o=Ru(),a=o.validators;function c(h){this.defaults=h,this.interceptors={request:new r,response:new r}}return c.prototype.request=function(l,f){typeof l=="string"?(f=f||{},f.url=l):f=l||{},f=i(this.defaults,f),f.method?f.method=f.method.toLowerCase():this.defaults.method?f.method=this.defaults.method.toLowerCase():f.method="get";var y=f.transitional;y!==void 0&&o.assertOptions(y,{silentJSONParsing:a.transitional(a.boolean),forcedJSONParsing:a.transitional(a.boolean),clarifyTimeoutError:a.transitional(a.boolean)},!1);var m=f.paramsSerializer;m!=null&&(e.isFunction(m)?f.paramsSerializer={serialize:m}:o.assertOptions(m,{encode:a.function,serialize:a.function},!0));var x=[],v=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(f)===!1||(v=v&&S.synchronous,x.unshift(S.fulfilled,S.rejected))});var A=[];this.interceptors.response.forEach(function(S){A.push(S.fulfilled,S.rejected)});var B;if(!v){var M=[n,void 0];for(Array.prototype.unshift.apply(M,x),M=M.concat(A),B=Promise.resolve(f);M.length;)B=B.then(M.shift(),M.shift());return B}for(var $=f;x.length;){var W=x.shift(),F=x.shift();try{$=W($)}catch(j){F(j);break}}try{B=n($)}catch(j){return Promise.reject(j)}for(;A.length;)B=B.then(A.shift(),A.shift());return B},c.prototype.getUri=function(l){l=i(this.defaults,l);var f=s(l.baseURL,l.url);return t(f,l.params,l.paramsSerializer)},e.forEach(["delete","get","head","options"],function(l){c.prototype[l]=function(f,y){return this.request(i(y||{},{method:l,url:f,data:(y||{}).data}))}}),e.forEach(["post","put","patch"],function(l){function f(y){return function(x,v,A){return this.request(i(A||{},{method:l,headers:y?{"Content-Type":"multipart/form-data"}:{},url:x,data:v}))}}c.prototype[l]=f(),c.prototype[l+"Form"]=f(!0)}),Cr=c,Cr}var Fr,Ei;function wu(){if(Ei)return Fr;Ei=1;var e=ft();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(s){if(i._listeners){for(var o=i._listeners.length;o-- >0;)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(c){i.subscribe(c),o=c}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},r(function(o,a,c){i.reason||(i.reason=new e(o,a,c),n(i.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},t.source=function(){var n,i=new t(function(o){n=o});return{token:i,cancel:n}},Fr=t,Fr}var Ir,_i;function Pu(){return _i||(_i=1,Ir=function(t){return function(n){return t.apply(null,n)}}),Ir}var Br,Si;function Ou(){if(Si)return Br;Si=1;var e=ne();return Br=function(r){return e.isObject(r)&&r.isAxiosError===!0},Br}var Ri;function ku(){if(Ri)return Te.exports;Ri=1;var e=ne(),t=Rs(),r=Au(),n=Ls(),i=Qr(),s=Fs();function o(c){var h=new r(c),l=t(r.prototype.request,h);return e.extend(l,r.prototype,h),e.extend(l,h),l.create=function(y){return o(n(c,y))},l}var a=o(i);return a.Axios=r,a.CanceledError=ft(),a.CancelToken=wu(),a.isCancel=Bs(),a.VERSION=Ns().version,a.toFormData=pt(),a.AxiosError=Ce(),a.Cancel=a.CanceledError,a.all=function(h){return Promise.all(h)},a.spread=Pu(),a.isAxiosError=Ou(),a.formToJSON=function(c){return s(e.isHTMLForm(c)?new FormData(c):c)},Te.exports=a,Te.exports.default=a,Te.exports}var Lr,Ai;function Cu(){return Ai||(Ai=1,Lr=ku()),Lr}var Fu=Cu();const en=Oi(Fu),Iu=["/search/user-config","/search/product","/search/product-review","/search/property-group","/search/newsletter-recipient","/search/salutation","/search/product-search-config","/search/product-search-config-field","/app-system/action-button/product/list","_action/system-config","/_action/system-config","app-system/action-button/product/list","/search/currency","/search/order","/search/customer","/_info/me","/_info/config-me"],Bu=["/user-config","user-config","_action/system-config/batch","/_action/system-config/batch","/_action/sync","_action/sync","/product-visibility","product-visibility","/_info/config-me"],Lu=1500;function Nu(e,t={}){return r=>{var c;const n=["delete","patch"].includes(r==null?void 0:r.method),i=Bu.includes(r==null?void 0:r.url);if(n||i)return Object.keys(t).forEach(h=>{delete t[h]}),e(r);if(!Iu.some(h=>{var l;return(l=r==null?void 0:r.url)==null?void 0:l.replace(/^\//,"").startsWith(h.replace(/^\//,""))}))return e(r);const o=JSON.stringify(r),a=t[o];return a?(Shopware.Utils.debug.warn("http.factory","Duplicated requests happening in short amount of time: ",r,"This duplicated request should be fixed."),wi(a)):(t[o]=e(r),(c=r==null?void 0:r.url)!=null&&c.includes("_info/")||setTimeout(()=>{t[o]&&delete t[o]},Lu),wi(t[o]))}}function wi(e){return e.then(t=>JSON.parse(JSON.stringify(t)))}function ju(e){return Mu()}const{CancelToken:Du,isCancel:bl,Cancel:vl}=en;function Mu(){const e=en.create({baseURL:Shopware.Context.api.apiPath});return qu(e),$u(e),zu(e),e.CancelToken=Du,Vu(e),Uu(e),e}function Uu(e){const t={};e.interceptors.request.use(r=>{const n=r.adapter;return r.adapter=Nu(n,t),r})}function $u(e){return e.interceptors.response.use(t=>t,t=>{var o,a;const{hasOwnProperty:r}=Shopware.Utils.object;if(r(((o=t==null?void 0:t.config)==null?void 0:o.headers)??{},"sw-app-integration-id")||!t)return Promise.reject(t);const{status:n}=t.response??{status:void 0},{errors:i,data:s}=((a=t.response)==null?void 0:a.data)??{errors:void 0,data:void 0};try{js({status:n,errors:i,error:t,data:s})}catch(c){Shopware.Utils.debug.error(c),i&&i.forEach(h=>{Shopware.Store.get("notification").createNotification({variant:"error",title:h.title,message:h.detail})})}return Promise.reject(t)}),e}function js({status:e,errors:t,error:r=null,data:n}){var s,o,a;const i=Shopware.Application.view.root;if(e===400&&(((o=(s=r==null?void 0:r.response)==null?void 0:s.config)==null?void 0:o.url)??"").includes("_action/sync")){if(!n)return;Object.values(n).forEach(c=>{c.result.forEach(h=>{if(!h.errors.length)return;const l=parseInt(h.errors[0].status,10);js({status:l,errors:h.errors,data:n})})})}if(e===403&&t.filter(h=>h.code==="FRAMEWORK__MISSING_PRIVILEGE_ERROR").forEach(h=>{let f=JSON.parse(h.detail).missingPrivileges;!Array.isArray(f)&&typeof f=="object"&&(f=Object.values(f));const y=f.reduce((m,x)=>`${m}<br>"${x}"`,"");Shopware.Store.get("notification").createNotification({variant:"error",system:!0,autoClose:!1,growl:!0,title:Shopware.Snippet.tc("global.error-codes.FRAMEWORK__MISSING_PRIVILEGE_ERROR"),message:`${Shopware.Snippet.tc("sw-privileges.error.description")} <br> ${y}`})}),e===403&&["FRAMEWORK__STORE_SESSION_EXPIRED","FRAMEWORK__STORE_SHOP_SECRET_INVALID"].includes((a=t[0])==null?void 0:a.code)&&Shopware.Store.get("notification").createNotification({variant:"warning",system:!0,autoClose:!1,growl:!0,title:Shopware.Snippet.tc("sw-extension.errors.storeSessionExpired.title"),message:Shopware.Snippet.tc("sw-extension.errors.storeSessionExpired.message"),actions:[{label:Shopware.Snippet.tc("sw-extension.errors.storeSessionExpired.actionLabel"),method:()=>{i.$router.push({name:"sw.extension.my-extensions.account"})}}]}),e===409&&t[0].code==="FRAMEWORK__DELETE_RESTRICTED"){const c=t[0].meta.parameters,h=c.entity;let l="";l=c.usages.reduce((f,y)=>{const m=y.count,x=Shopware.Snippet.tc("global.default.xTimesIn",m),v=Shopware.Snippet.tc(`global.entities.${y.entityName}`,m[1]);return`${f}<br>${x} <b>${v}</b>`},""),Shopware.Store.get("notification").createNotification({variant:"error",title:Shopware.Snippet.tc("global.default.error"),message:`${Shopware.Snippet.tc("global.notification.messageDeleteFailed",3,{entityName:Shopware.Snippet.tc(`global.entities.${h}`)})}${l}`})}if(e===412){const c=t.find(h=>h.code==="FRAMEWORK__LANGUAGE_NOT_FOUND");c&&(localStorage.removeItem("sw-admin-current-language"),Shopware.Store.get("notification").createNotification({variant:"error",system:!0,autoClose:!1,growl:!0,title:c.title,message:`${c.detail} Please reload the administration.`,actions:[{label:"Reload administration",method:()=>window.location.reload()}]}))}}function qu(e){const t=Ci();return e.interceptors.response.use(r=>r,r=>{var a,c;const n=r.config||{},i=(a=r.response)==null?void 0:a.status,s=n,o=(c=s.url)==null?void 0:c.replace(s.baseURL,"");return t.whitelist.includes(o)?Promise.reject(r):i===401?(t.isRefreshing||t.fireRefreshTokenRequest().catch(()=>Promise.reject(r)),new Promise((h,l)=>{t.subscribe(f=>{s.headers.Authorization=`Bearer ${f}`,s.url=s.url.replace(s.baseURL,""),h(en(s))},f=>{if(!Shopware.Application.getApplicationRoot()){l(f),window.location.reload();return}l(f)})})):Promise.reject(r)}),e}function zu(e){return e.interceptors.response.use(r=>r,r=>{var a,c,h;const{config:n,response:i}=r,s=(h=(c=(a=i==null?void 0:i.data)==null?void 0:a.errors)==null?void 0:c[0])==null?void 0:h.code;if((n==null?void 0:n.storeSessionRequestRetries)>=1)return Promise.reject(r);const o=["FRAMEWORK__STORE_SESSION_EXPIRED","FRAMEWORK__STORE_SHOP_SECRET_INVALID"];return(i==null?void 0:i.status)===403&&o.includes(s)?(typeof n.storeSessionRequestRetries=="number"?n.storeSessionRequestRetries+=1:n.storeSessionRequestRetries=1,e.request(n)):Promise.reject(r)}),e}function Vu(e){return e.interceptors.request.use(t=>{var n,i,s,o,a;const r=(a=(o=(s=(i=(n=Shopware==null?void 0:Shopware.Application)==null?void 0:n.view)==null?void 0:i.router)==null?void 0:s.currentRoute)==null?void 0:o.value)==null?void 0:a.name;return r&&(t.headers["shopware-admin-active-route"]=r),t}),e}class Hu{constructor(t,r,n,i,s){this.hydrator=t,this.changesetGenerator=r,this.entityFactory=n,this.httpClient=i,this.errorResolver=s}create(t,r="",n={}){r||(r=`/${t.replace(/_/g,"-")}`);const i=Shopware.EntityDefinition.get(t);return new _s(r,i.entity,this.httpClient,this.hydrator,this.changesetGenerator,this.entityFactory,this.errorResolver,n)}}function Wu(e={}){const t=Shopware.Defaults,r=Gu(e),n=`${r}/api`,i=localStorage.getItem("sw-admin-current-language")||t.systemLanguageId,s=Wr();return s.api.installationPath=r,s.api.apiPath=n,s.api.apiResourcePath=`${n}`,s.api.assetsPath=Ju(e.assetPath),s.api.languageId=i,s.api.inheritance=!1,Object.entries(e).forEach(([o,a])=>{s.addApiValue({key:o,value:a})}),Shopware.Context.api}function Gu(e,t){var n;let r="";return(n=e.schemeAndHttpHost)!=null&&n.length&&(r=`${e.schemeAndHttpHost}${e.basePath}`),r}function Ju(e,t){return`${e}/bundles/`}function Yu(e={}){const t=Wr();return t.app.environment="production",t.app.fallbackLocale="en-GB",Object.entries(e).forEach(([r,n])=>{t.addAppValue({key:r,value:n})}),Shopware.Context.app}function Ku(e,t,r,n){const i=[],s=[];let o=null;return{addRoutes:v,addModuleRoutes:x,createRouterInstance:a,getViewComponent:M,getRouterInstance:c,_setModuleFavicon:W,getModuleInfo:f};function a(F={}){const j=s.map(T=>A(T)),S=i.map(T=>A(T)),L=m(S,j),D={...F,routes:L};D.history=e.createWebHashHistory();const J=e.createRouter(D);return h(J),o=J,J}function c(){return o}function h(F){const j=$();return F.beforeEach(S=>{Shopware.Service("userActivityService").updateLastUserActivity(),W(S,j);const L=n.isLoggedIn(),D=new Shopware.Helper.RefreshTokenHelper,J=["/login/","/login","/login/info","/login/recovery","/sso/error"];return S.meta&&S.meta.forceRoute===!0||!L&&(S.name==="login"||J.includes(S.path)||S.path.startsWith("/login/user-recovery/")||S.path.match(/\/inactivity\/login\/[a-z0-9]{32}/))?!0:L&&(S.name==="login"||J.includes(S.path)||S.path.startsWith("/login/user-recovery/"))?{name:"core"}:!L&&(sessionStorage.setItem("sw-admin-previous-route",JSON.stringify({fullPath:S.fullPath,name:S.name})),!D.isRefreshing)?D.fireRefreshTokenRequest().then(()=>l(S)).catch(()=>({name:"sw.login.index"})):S.meta.privilege&&!Shopware.Service("acl").can(S.meta.privilege)?{name:"sw.privilege.error.index"}:S.name&&S.name.includes("sw.extension.store")&&S.matched.length<=0?{name:"sw.extension.store.landing-page"}:l(S)}),F}function l(F){const j=f(F);j!==null&&(F.meta.$module=j.manifest);const S=y(F,j);return S!==null&&(F.meta.$current=S),!0}function f(F){const j=r.getModuleRegistry();let S=null,L=null;return j.forEach(D=>{var T;if(S)return;if(D.routes.has(F.name)){S=D;return}((T=F.meta)!=null&&T.parentPath?F.meta.parentPath:void 0)&&D.routes.has(F.meta.parentPath)&&(L=D)}),S||L}function y(F,j){if(!j||!j.navigation)return null;const S=j.navigation;let L=null;return S.forEach(D=>{D.path===F.name&&(L=D)}),L}function m(F,j){const S=[],L=[];return j.forEach(D=>{if(D.coreRoute===!0){S.push(D);return}L.push(D)}),F.map(D=>(D.root===!0&&(D.children=L),D)),F=[...F,...S],F}function x(F){return s.push(...F),s}function v(F){return i.push(...F),i}function A(F){const j=Shopware.Utils.object.hasOwnProperty;if(j(F,"components")&&Object.keys(F.components).length){const S={};Object.keys(F.components).forEach(L=>{let D=F.components[L];typeof D=="string"&&(D=M(D)),S[L]=D}),F=B(F),F.components=S}return typeof F.component=="string"&&(F.component=M(F.component)),F}function B(F){var j;return(j=F.children)!=null&&j.length&&(F.children=F.children.map(S=>{let L=S.component;return typeof L=="string"&&(L=M(L)),S.component=L,S.children&&(S=B(S)),S})),F}function M(F){return Shopware.Application.view.getComponentForRoute(F)}function $(){return Shopware.Context.api.assetsPath}function W(F,j){const S=f(F);if(!S)return!1;const L=S.manifest.favicon||null,D=document.getElementById("dynamic-favicon");D.rel="shortcut icon";const J=S.manifest.faviconSrc||"administration";return j.length!==0&&(j=`${j}${J}/`),D.href=L?`${j}static/img/favicon/modules/${L}`:`${j}static/img/favicon/favicon-32x32.png`,!0}}const Tu=()=>Object.values(Object.assign({"./acl.api.service.js":()=>U(()=>import("./acl.api.service-RehCidTl.js"),[]),"./app-action-button.service.js":()=>U(()=>import("./app-action-button.service-BqFtfKbc.js"),__vite__mapDeps([0,1,2,3])),"./app-cms-blocks.service.js":()=>U(()=>import("./app-cms-blocks.service-2QS_VyxA.js"),__vite__mapDeps([4,1,2])),"./app-modules.service.ts":()=>U(()=>import("./app-modules.service-DpgDM4s9.js"),__vite__mapDeps([5,1,2])),"./app-url-change.service.js":()=>U(()=>import("./app-url-change.service-DhKMAxze.js"),__vite__mapDeps([6,1,2])),"./business-events.api.service.js":()=>U(()=>import("./business-events.api.service-DJMfdRNP.js"),__vite__mapDeps([7,1,2])),"./cache.api.service.js":()=>U(()=>import("./cache.api.service-DTRN96Zk.js"),[]),"./calculate-price.api.service.js":()=>U(()=>import("./calculate-price.api.service-CK4BYLqK.js"),__vite__mapDeps([8,1,2])),"./cart-store-api.api.service.ts":()=>U(()=>import("./cart-store-api.api.service-K4cKluw0.js"),__vite__mapDeps([9,2,10,11,12,13,14,15,1,16])),"./checkout-store.api.service.ts":()=>U(()=>import("./checkout-store.api.service-gFnxYk31.js"),__vite__mapDeps([17,1,2])),"./config.api.service.ts":()=>U(()=>import("./config.api.service-DGZdIVw6.js"),__vite__mapDeps([18,1,2])),"./custom-snippet.api.service.ts":()=>U(()=>import("./custom-snippet.api.service-DAe-SB4O.js"),__vite__mapDeps([19,1,2])),"./customer-group-registration.api.service.js":()=>U(()=>import("./customer-group-registration.api.service-JCAV965x.js"),__vite__mapDeps([20,1,2])),"./customer-validation.api.service.js":()=>U(()=>import("./customer-validation.api.service-BQCxrY7w.js"),__vite__mapDeps([21,1,2])),"./document.api.service.js":()=>U(()=>import("./document.api.service-CdXb5lPT.js"),__vite__mapDeps([22,1,2])),"./errors/InvalidActionButtonParameterError.ts":()=>U(()=>import("./InvalidActionButtonParameterError-KvFlsqmj.js"),[]),"./excludedSearchTerm.api.service.js":()=>U(()=>import("./excludedSearchTerm.api.service-DVo7SB6z.js"),__vite__mapDeps([23,1,2])),"./extension-sdk.service.ts":()=>U(()=>import("./extension-sdk.service-PMMsN_fv.js"),__vite__mapDeps([24,1,2])),"./first-run-wizard.api.service.js":()=>U(()=>import("./first-run-wizard.api.service-D-e7V9-E.js"),[]),"./flow-actions.api.service.js":()=>U(()=>import("./flow-actions.api.service-Dy1IhgQl.js"),__vite__mapDeps([25,1,2])),"./import-export.api.service.js":()=>U(()=>import("./import-export.api.service-B8rOebYj.js"),[]),"./integration.api.service.js":()=>U(()=>import("./integration.api.service-FwhhK7-R.js"),[]),"./known-ips.api.service.js":()=>U(()=>import("./known-ips.api.service-BxL1hJPr.js"),__vite__mapDeps([26,1,2])),"./language-plugin.api.service.js":()=>U(()=>import("./language-plugin.api.service-uK0_a0ZV.js"),[]),"./mail.api.service.js":()=>U(()=>import("./mail.api.service-DrTv5gjz.js"),__vite__mapDeps([27,1,2])),"./media-folder.api.service.js":()=>U(()=>import("./media-folder.api.service-C5tySEw7.js"),__vite__mapDeps([28,1,2])),"./media.api.service.js":()=>U(()=>import("./media.api.service-C-t3fDmK.js"),__vite__mapDeps([29,10,2,11,12,13,14,15,1])),"./message-queue.api.service.ts":()=>U(()=>import("./message-queue.api.service-B3VMJjmb.js"),__vite__mapDeps([30,1,2])),"./message-stats.api.service.ts":()=>U(()=>import("./message-stats.api.service-BKmMt5iJ.js"),__vite__mapDeps([31,1,2])),"./notifications.service.js":()=>U(()=>import("./notifications.service-ZrqCmLns.js"),__vite__mapDeps([32,1,2])),"./number-range.api.service.js":()=>U(()=>import("./number-range.api.service-t9V3U8ow.js"),[]),"./order-document.api.service.js":()=>U(()=>import("./order-document.api.service-_QhqAFKj.js"),__vite__mapDeps([33,1,2])),"./order-state-machine.api.service.ts":()=>U(()=>import("./order-state-machine.api.service-CbzBv-3L.js"),__vite__mapDeps([34,1,2])),"./order.api.service.js":()=>U(()=>import("./order.api.service-DXAdiV1N.js"),__vite__mapDeps([35,2,10,11,12,13,14,15,1])),"./product-export.api.service.js":()=>U(()=>import("./product-export.api.service-B-aXRmae.js"),__vite__mapDeps([36,1,2])),"./product-stream-preview.service.js":()=>U(()=>import("./product-stream-preview.service-DbDoKDoB.js"),__vite__mapDeps([37,2,1])),"./promotion-sync.api.service.js":()=>U(()=>import("./promotion-sync.api.service-BOy1eCP_.js"),__vite__mapDeps([38,39,1,2])),"./recommendations.api.service.js":()=>U(()=>import("./recommendations.api.service-CJwzZdTt.js"),[]),"./rule-conditions-config.api.service.js":()=>U(()=>import("./rule-conditions-config.api.service-DoI9_ZR2.js"),__vite__mapDeps([40,1,2])),"./sales-channel.api.service.js":()=>U(()=>import("./sales-channel.api.service-DuNfRw7S.js"),__vite__mapDeps([41,1,2])),"./scheduled-task.api.service.ts":()=>U(()=>import("./scheduled-task.api.service-CPTHk4QA.js"),__vite__mapDeps([42,1,2])),"./search.api.service.js":()=>U(()=>import("./search.api.service-v58Pcchr.js"),__vite__mapDeps([43,1,2,10,11,12,13,14,15,44,45,46,47,48,49,16])),"./seo-url-template.api.service.js":()=>U(()=>import("./seo-url-template.api.service-Dqd58PEW.js"),__vite__mapDeps([50,1,2])),"./seo-url.api.service.js":()=>U(()=>import("./seo-url.api.service-ne7m0d25.js"),__vite__mapDeps([51,1,2])),"./snippet-set.api.service.js":()=>U(()=>import("./snippet-set.api.service-BNSQbXOr.js"),[]),"./snippet.api.service.js":()=>U(()=>import("./snippet.api.service-62QeU75s.js"),__vite__mapDeps([52,1,2])),"./sso-invitation.service.js":()=>U(()=>import("./sso-invitation.service-DuKWTd-x.js"),__vite__mapDeps([53,1,2])),"./sso-settings.service.js":()=>U(()=>import("./sso-settings.service-mgNRRDFH.js"),__vite__mapDeps([54,1,2])),"./state-machine.api.service.js":()=>U(()=>import("./state-machine.api.service-DnIz7MZa.js"),__vite__mapDeps([55,1,2])),"./store-context.api.service.ts":()=>U(()=>import("./store-context.api.service-CYyMXCcD.js"),__vite__mapDeps([56,1,2])),"./store.api.service.ts":()=>U(()=>import("./store.api.service-DOt3QD6Z.js"),__vite__mapDeps([57,1,2])),"./sync.api.service.js":()=>U(()=>import("./sync.api.service-Bal1oVn3.js"),__vite__mapDeps([39,1,2])),"./system-config.api.service.js":()=>U(()=>import("./system-config.api.service-CbBm2avm.js"),__vite__mapDeps([58,59,44,10,2,11,12,13,14,15,1])),"./tag.api.service.js":()=>U(()=>import("./tag.api.service-CwgwvGTl.js"),__vite__mapDeps([60,1,2])),"./update.api.service.ts":()=>U(()=>import("./update.api.service-BzX4coNd.js"),__vite__mapDeps([61,1,2])),"./usage-data.api.service.ts":()=>U(()=>import("./usage-data.api.service-ClkYihEY.js"),__vite__mapDeps([62,1,2])),"./user-activity.service.js":()=>U(()=>import("./user-activity.service-CawAprCn.js"),__vite__mapDeps([63,1,2])),"./user-config.api.service.ts":()=>U(()=>import("./user-config.api.service-rmEDs_8U.js"),__vite__mapDeps([64,1,2])),"./user-input-sanitize.service.js":()=>U(()=>import("./user-input-sanitize.service-CHGOtTu7.js"),__vite__mapDeps([65,1,2])),"./user-recovery.api.service.ts":()=>U(()=>import("./user-recovery.api.service-S7ovJfIb.js"),__vite__mapDeps([66,1,2])),"./user-validation.api.service.js":()=>U(()=>import("./user-validation.api.service-BSGIRVL2.js"),__vite__mapDeps([67,1,2])),"./user.api.service.js":()=>U(()=>import("./user.api.service-oD_lsZ13.js"),__vite__mapDeps([68,1,2]))}));typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function Xu(e,t){function r(...n){return new Promise((i,s)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(i).catch(s)})}return r}const Ds=e=>e();function Zu(e=Ds){const t=Fi(!0);function r(){t.value=!1}function n(){t.value=!0}const i=(...s)=>{t.value&&e(...s)};return{isActive:eo(t),pause:r,resume:n,eventFilter:i}}function Qu(e,t,r={}){const{eventFilter:n=Ds,...i}=r;return Ii(e,Xu(n,t),i)}function Pi(e,t,r={}){const{eventFilter:n,...i}=r,{eventFilter:s,pause:o,resume:a,isActive:c}=Zu(n);return{stop:Qu(e,t,{...i,eventFilter:s}),pause:o,resume:a,isActive:c}}function el(e,t,...[r]){const{flush:n="sync",deep:i=!1,immediate:s=!0,direction:o="both",transform:a={}}=r||{},c=[],h="ltr"in a&&a.ltr||(y=>y),l="rtl"in a&&a.rtl||(y=>y);return(o==="both"||o==="ltr")&&c.push(Pi(e,y=>{c.forEach(m=>m.pause()),t.value=h(y),c.forEach(m=>m.resume())},{flush:n,deep:i,immediate:s})),(o==="both"||o==="rtl")&&c.push(Pi(t,y=>{c.forEach(m=>m.pause()),e.value=l(y),c.forEach(m=>m.resume())},{flush:n,deep:i,immediate:s})),()=>{c.forEach(y=>y.stop())}}const Ne=Le({}),Ms=({oldObj:e,newObj:t,path:r="",componentName:n})=>{let i={isValid:!0,error:null};for(const s of Object.keys(e)){const o=r?`${r}.${s}`:s;if(!Object.prototype.hasOwnProperty.call(t,s)){i={isValid:!1,error:`[${n}] Override value not working. New structure does not contain key: ${o}`};break}if(typeof e[s]=="object"&&e[s]!==null&&typeof t[s]=="object"&&t[s]!==null){const a=Ms({oldObj:e[s],newObj:t[s],path:o,componentName:n});if(!a.isValid){i=a;break}}}return i},tl=()=>{const e=ro();return(e==null?void 0:e.setupContext)??{attrs:e==null?void 0:e.attrs,slots:e==null?void 0:e.slots,emit:e==null?void 0:e.emit,expose:()=>{console.error("expose is not available in the current context")}}};function rl(e,t){const r=e.context?e.context:tl(),n=t(e.props,r);if(!n.public&&!n.private)return console.error(`[${e.name}] The original setup function for the originalComponent component must return at least one public or private property.`),{};Object.keys(n).forEach(y=>{y!=="public"&&y!=="private"&&console.error(`[${e.name}] The original setup function for the originalComponent component returned an unexpected value. Only public and private properties at first level are allowed.`)});const i=n.public??{},s=n.private??{},o={...i,...s};Object.keys(e.props).forEach(y=>{Object.keys(o).includes(y)&&(console.error(`[${e.name}] The original setup function for the originalComponent component returned a prop. This is not allowed. Props are only available for overrides with the second argument.`),delete o[y])}),Ne[e.name]||(Ne[e.name]=Le([]));const a=Ne[e.name],c=o,h=Le(c),l=Le([]);return Ii(a,()=>{a.forEach(y=>{if(l.includes(y))return;const m=Object.keys(c).reduce((v,A)=>(Object.keys(i).includes(A)&&(v[A]=c[A]),v),{_private:{}});m._private=Object.keys(c).reduce((v,A)=>(Object.keys(i).includes(A)||(v[A]=c[A]),v),{});const x=y({...m},e.props,r);Object.keys(x).forEach(v=>{if(Object.keys(e.props).includes(v)){console.error(`[${e.name}] Override result value not working. Cannot override props. Following prop should be changed: "${v}"`);return}const A=x[v];if(!mt(A)&&gt(A)&&!(A!=null&&A.effect))el(A,c[v]);else if(mt(A)&&gt(A))h[v]=A;else if(!mt(A)&&gt(A)&&(A!=null&&A.effect))h[v]=no({get:()=>A.value,set:B=>{A.value=B}});else if(io(A)){const B=Ms({oldObj:h[v],newObj:A,componentName:e.name,path:v});if(!B.isValid){console.error(B.error);return}Object.assign(h[v],A)}else typeof A=="function"?h[v]=A:console.error(`[${e.name}] Override value not working. No handling declared for:`,v,A)}),l.push(y)})},{deep:!0,immediate:!0}),to(h)}function nl(){return function(e,t){Ne[e]||(Ne[e]=Le([])),Ne[e].push(t)}}class il{flattened(){return Object.entries(this.all()).flatMap(([t,r])=>r.map(n=>`${t}-${n}`))}all(){return Shopware.Store.get("context").app.config.inAppPurchases}getByExtension(t){return this.all()[t]||[]}isActive(t,r){var i;return((i=this.all()[t])==null?void 0:i.includes(r))||!1}}const sl=Object.freeze(new il);function ol(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}const al={handle:(e,t)=>so(e,(n,i)=>!n.privileges||n.privileges.length===0?t(n,i):new Promise((s,o)=>{const a=n.privileges.filter(c=>!Shopware.Service("acl").can(c));if(a.length>0)o(new oo(e,a));else{const c=t(n,i);ol(c)?c.then(h=>s(h)).catch(o):s(c)}})),publishData:lo,getPublishedDataSets:uo};window.hasOwnProperty("_features_")&&Bi.init(_features_);me.config={strict:!1};const cl=new me,Us=new Zc(cl);Us.addFactory("component",()=>he).addFactory("template",()=>ye).addFactory("module",()=>Me).addFactory("state",()=>ps).addFactory("serviceFactory",()=>fs).addFactory("classesFactory",()=>oc).addFactory("mixin",()=>Mr).addFactory("filter",()=>Xe).addFactory("directive",()=>Ze).addFactory("locale",()=>Ue).addFactory("shortcut",()=>Qe).addFactory("plugin",()=>$r).addFactory("apiService",()=>Ie).addFactory("entityDefinition",()=>be).addFactory("workerNotification",()=>Be);var Ge;const ze=class ze{constructor(){this.Module={register:Me.registerModule,getModuleRegistry:Me.getModuleRegistry,getModuleRoutes:Me.getModuleRoutes,getModuleByEntityName:Me.getModuleByEntityName},this.Component={register:he.register,extend:he.extend,override:he.override,build:he.build,wrapComponentConfig:he.wrapComponentConfig,getTemplate:he.getComponentTemplate,getComponentRegistry:he.getComponentRegistry,getComponentHelper:he.getComponentHelper,registerComponentHelper:he.registerComponentHelper,markComponentAsSync:he.markComponentAsSync,isSyncComponent:he.isSyncComponent,createExtendableSetup:rl,overrideComponentSetup:nl,registerOverrideComponent:t=>{yt(ze,Ge).value.push(t)},getOverrideComponents:()=>yt(ze,Ge).value},this.Template={register:ye.registerComponentTemplate,extend:ye.extendComponentTemplate,override:ye.registerTemplateOverride,getRenderedTemplate:ye.getRenderedTemplate},this.State=ps(),this.Store=ao.instance,this.Mixin={register:Mr.register,getByName:Mr.getByName},this.Filter={register:Xe.register,getByName:Xe.getByName,getRegistry:Xe.getRegistry},this.Directive={register:Ze.registerDirective,getByName:Ze.getDirectiveByName,getDirectiveRegistry:Ze.getDirectiveRegistry},this.Locale={register:Ue.register,extend:Ue.extend,getByName:Ue.getLocaleByName,getLocaleRegistry:Ue.getLocaleRegistry},this.Shortcut={getShortcutRegistry:Qe.getShortcutRegistry,getPathByCombination:Qe.getPathByCombination,register:Qe.register},this.Plugin={addBootPromise:$r.addBootPromise,getBootPromises:$r.getBootPromises},this.Service=fs,this.Utils=Vr,this.Application=Us,this.Feature=Bi,this.InAppPurchase=sl,this.Vue=co,this.ApiService={register:Ie.register,getByName:Ie.getByName,getRegistry:Ie.getRegistry,getServices:Ie.getServices,has:Ie.has},this.EntityDefinition={getScalarTypes:be.getScalarTypes,getJsonTypes:be.getJsonTypes,getDefinitionRegistry:be.getDefinitionRegistry,has:be.has,get:be.get,add:be.add,remove:be.remove,getTranslatedFields:be.getTranslatedFields,getAssociationFields:be.getAssociationFields,getRequiredFields:be.getRequiredFields},this.ExtensionAPI=al,this.WorkerNotification={register:Be.register,getRegistry:Be.getRegistry,override:Be.override,remove:Be.remove,initialize:Be.initialize},this.Defaults={systemLanguageId:"2fbb5fe2e29a4d70aa5854ce7ce3e20b",defaultLanguageIds:["2fbb5fe2e29a4d70aa5854ce7ce3e20b"],versionId:"0fa91ce3e96a4bc2be4bd9ce752c3425",storefrontSalesChannelTypeId:"8a243080f92e4c719546314b577cf82b",productComparisonTypeId:"ed535e5722134ac1aa6524f73e26881b",apiSalesChannelTypeId:"f183ee5650cf4bdb8a774337575067a6",defaultSalutationId:"ed643807c9f84cc8b50132ea3ccb1c3b"},this.Data=Xc,this.Classes={ShopwareError:po,ApiService:fo,_private:{HttpFactory:ju,RepositoryFactory:Hu,ApiContextFactory:Wu,AppContextFactory:Yu,RouterFactory:Ku,FilterFactory:Ss}},this.Helper={FlatTreeHelper:Yc,MiddlewareHelper:at,RefreshTokenHelper:Ci,SanitizerHelper:ho,DeviceHelper:zr,PromotionHelper:{DiscountScopes:go,DiscountTypes:mo,PromotionPermissions:yo},OrderHelper:{LineItemType:xo}},this._private={ApiServices:Tu}}get Snippet(){return{...Shopware.Application.view.i18n.global,tc:Shopware.Application.view.i18n.global.t}}get Context(){return Wr()}};Ge=new WeakMap,nn(ze,Ge,Fi([]));let it=ze;const $s=new it;Object.defineProperty($s,"InAppPurchase",{configurable:!1,writable:!1});const El=Object.freeze(Object.defineProperty({__proto__:null,ShopwareClass:it,ShopwareInstance:$s},Symbol.toStringTag,{value:"Module"}));export{Fu as a,El as s};
