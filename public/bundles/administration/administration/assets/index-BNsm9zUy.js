const r='{% block sw_media_modal_renderer %} <sw-media-modal-v2 v-if="mediaModal" :initial-folder-id="mediaModal.initialFolderId" :file-accept="mediaModal.fileAccept" :entity-context="mediaModal.entityContext" :default-tab="mediaModal.defaultTab" :allow-multi-select="mediaModal.allowMultiSelect" @media-modal-selection-change="onSelectionChange" @modal-close="closeModal" /> {% endblock %}',c=Shopware.Component.wrapComponentConfig({template:r,computed:{mediaModal(){return Shopware.Store.get("mediaModal").mediaModal}},methods:{closeModal(){Shopware.Store.get("mediaModal").closeModal()},onSelectionChange(o){var t;const a=((t=this.mediaModal)==null?void 0:t.selectors)||["id","fileName","url"],l=this.transformObjectsByPaths(o,a);if(this.mediaModal&&typeof this.mediaModal.callback=="function"){const e=this.mediaModal.callback;e(l)}},getValueByPath(o,a){return typeof a!="string"||a.length===0?void 0:a.split(".").reduce((t,e)=>{if(t&&typeof t=="object"&&e in t)return t[e]},o)},transformObjectsByPaths(o,a){return!Array.isArray(o)||!Array.isArray(a)?[]:o.map(l=>{const t={};return a.filter(e=>typeof e=="string"&&e.length>0).forEach(e=>{const n=this.getValueByPath(l,e);this.setValueByPath(t,e,n)}),t})},setValueByPath(o,a,l){if(typeof a!="string"||a.length===0||typeof o!="object"||o===null)return;const t=a.split(".");let e=o;t.slice(0,-1).forEach(i=>{const d=e[i];d&&typeof d=="object"||(e[i]={}),e=e[i]});const s=t[t.length-1];e[s]=l}}});export{c as default};
