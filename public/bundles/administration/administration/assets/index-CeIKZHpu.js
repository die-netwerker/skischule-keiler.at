const t='{% block sw_cms_el_location_renderer %} <div class="sw-cms-el-location-renderer"> <sw-iframe-renderer :src="src" :location-id="elementLocation" /> </div> {% endblock %}',{Component:a,Mixin:n}=Shopware,i=a.wrapComponentConfig({template:t,mixins:[n.getByName("cms-element")],props:{elementData:{type:Object,required:!0}},computed:{src(){const e=new URL(this.elementData.appData.baseUrl);return e.searchParams.set("elementId",this.element.id),e.toString()},elementLocation(){return`${this.elementData.name}-element`},publishingKey(){return`${this.elementData.name}__config-element`}},watch:{element(){this.$emit("element-update",this.element)},elementData:{handler(){this.updatePublishData()},deep:!0}},created(){this.createdComponent()},data(){return{unpublishData:null,unpublishDataWithElementId:null}},methods:{createdComponent(){this.initElementConfig(this.elementData.name),this.updatePublishData()},updatePublishData(){this.unpublishData&&this.unpublishData(),this.unpublishDataWithElementId&&this.unpublishDataWithElementId(),this.unpublishData=Shopware.ExtensionAPI.publishData({id:this.publishingKey,path:"element",scope:this,deprecated:!0,deprecationMessage:"The general cms element data set is deprecated. Please use a specific cms data set instead by provoding the element id."}),this.unpublishDataWithElementId=Shopware.ExtensionAPI.publishData({id:`${this.publishingKey}__${this.element.id}`,path:"element",scope:this})}}});export{i as default};
